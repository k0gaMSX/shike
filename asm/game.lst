 AS V1.42 Beta [Bld 28] - source file game.asm - page 1 - 8/12/2011 20:51:50


       1/       0 :                     	include "../inc/game.inc"
(1)    1/       0 : =5H                 BDOS    equ	05
(1)    2/       0 : =FH                 FOPEN	equ	0Fh
(1)    3/       0 : =1H                 FCLOSE	equ	010h
(1)    4/       0 : =1H                 SETDMA	equ	01Ah
(1)    5/       0 : =2H                 RDBLK	equ	027h
(1)    6/       0 : =9H                 STROUT	equ	09h
(1)    7/       0 : =2H                 CONOUT	equ	02
(1)    8/       0 : =1H                 CONIN	equ	01
(1)    9/       0 : =3H                 INT	equ	038h
(1)   10/       0 : =5H                 FCBLOAD equ	05Ch
(1)   11/       0 : =8H                 FCBLDNIV equ	084h
(1)   12/       0 :                     
(1)   13/       0 :                     
(1)   14/       0 : =1H                 CALSLT	equ	001Ch
(1)   15/       0 : =5H                 CHGMOD	equ	005Fh
(1)   16/       0 : =FH                 SUBSLT	equ	0FAF8h
(1)   17/       0 : =FH                 EXBRSA	equ	0FCC1h
(1)   18/       0 :                     
(1)   19/       0 :                     
(1)   20/       0 :                     
(1)   21/       0 :                     
(1)   22/       0 :                     ;DEFINICION DE LAS MACROS QUE SIRVEN PARA EL MANEJO DE LOS PERSONAJES POR LA
(1)   23/       0 :                     ;PANTALLA
(1)   24/       0 :                     
(1)   25/       0 : =1H                 IZQUIERDA	equ	1	;ESTOS VALORES NO SE PUEDEN CAMBIAR PORQUE
(1)   26/       0 : =0H                 DERECHA		equ	0	;AFECTA AL CALCULO DEL FRAME
(1)   27/       0 : =2H                 ARRIBA		equ	2
(1)   28/       0 : =3H                 ABAJO		equ	3
(1)   29/       0 : =4H                 ABA_DER		equ	4
(1)   30/       0 : =5H                 ABA_IZQ		equ	5
(1)   31/       0 : =6H                 ARR_DER		equ	6
(1)   32/       0 : =7H                 ARR_IZQ		equ	7
(1)   33/       0 : =4H                 SPC_KEY		equ	01000000b
(1)   34/       0 : =2H                 F1_KEY		equ	00100000b
(1)   35/       0 :                     
(1)   36/       0 :                     
(1)   37/       0 : =1H                 IZQSCR	equ	1
(1)   38/       0 : =2H                 DERSCR	equ	2
(1)   39/       0 : =4H                 ABASCR	equ	4
(1)   40/       0 : =8H                 ARRSCR	equ	8
(1)   41/       0 :                     
(1)   42/       0 :                     
(1)   43/       0 : =0H                 INTERIOR	equ	0
(1)   44/       0 : =1H                 EXTERIOR	equ	1
(1)   45/       0 : =2H                 BATALLA	        equ	2
(1)   46/       0 :                     
(1)   47/       0 :                     
(1)   48/       0 :                     
(1)   49/       0 :                     
(1)   50/       0 :                     ;MACROS PARA DEFINIR EL TIPO DE ALINEAMIENTO EN LA FUNCION SET_XY
(1)   51/       0 :                     
(1)   52/       0 : =0H                 CEN_TOTAL	equ	0*16
(1)   53/       0 : =1H                 CEN_HOR_ARR	equ	1*16
(1)   54/       0 : =2H                 CEN_HOR_ABA	equ	2*16
(1)   55/       0 : =3H                 CEN_VER_IZQ	equ	3*16
(1)   56/       0 : =4H                 CEN_VER_DER	equ	4*16
(1)   57/       0 : =5H                 ESQ_SUP_IZQ	equ	5*16
(1)   58/       0 : =6H                 ESQ_SUP_DER	equ	6*16
(1)   59/       0 : =7H                 ESQ_INF_IZQ	equ	7*16
 AS V1.42 Beta [Bld 28] - source file game.asm(game.inc) - page 2 - 8/12/2011 20:51:50


(1)   60/       0 : =8H                 ESQ_INF_DER	equ	8*16
(1)   61/       0 :                     
(1)   62/       0 :                     
(1)   63/       0 :                     
(1)   64/       0 :                     
(1)   65/       0 :                     ;DEFINICION DE VALORES MAXIMOS
(1)   66/       0 : =AH                 MAXCIUDADES	equ	10
(1)   67/       0 : =1H                 MAXFIGURAS	equ	16
(1)   68/       0 :                     
(1)   69/       0 : =1H                 MAXPERSOM	equ	30	;MAXIMO DE PERSONAJES EN EL MAPA
(1)   70/       0 : =1H                 MAXPERSOC	equ	30	;MAXIMO DE PERSONAJES POR CIUDAD
(1)   71/       0 :                     
(1)   72/       0 : =2H                 MAXTIPOPER	equ	34
(1)   73/       0 : =5H                 MAXPANAL	equ	5
(1)   74/       0 : =5H                 MAXPANAN	equ	5
(1)   75/       0 : =3H                 TAMPAN	        equ	768
(1)   76/       0 : =1H                 NUMPATX	        equ	28
(1)   77/       0 : =FH                 NUMPATY	        equ	15
(1)   78/       0 : =3H                 MAXNUMPJS	equ	3
(1)   79/       0 :                     
(1)   80/       0 : =FH                 MAXVALXRC	equ	(((1-NUMPATX)*8)+4) 
(1)   81/       0 : =FH                 MAXVALYRC	equ	(((4-NUMPATY)*8)-4)
(1)   82/       0 :                     
(1)   83/       0 : =FH                 MAXVALXRE	equ	(((3-NUMPATX)*8)+4)
(1)   84/       0 : =FH                 MAXVALYRE	equ	(((4-NUMPATY)*8)-4)
(1)   85/       0 :                     
(1)   86/       0 : =EH                 NUMPATX2	equ	(NUMPATX/2)
(1)   87/       0 : =7H                 NUMPATY2	equ	(NUMPATY/2)
(1)   88/       0 : =3H                 MAXNUMENL	equ	60
(1)   89/       0 : =2H                 NUMREPFRAMES	equ	2
(1)   90/       0 : =0H                 NUMREPFRAMED	equ	0
(1)   91/       0 : =1H                 PERIODOS	equ	1	;1
(1)   92/       0 : =3H                 PERIODOD	equ	3	;3
(1)   93/       0 : =CH                 ANIMACIONIC	equ	12
(1)   94/       0 : =8H                 ANIMACIONIM	equ	8
(1)   95/       0 : =3H                 TIMEFADE	equ	3
(1)   96/       0 : =2H                 MAXOBJETOS	equ	34
(1)   97/       0 : =4H                 NUM_INV	        equ	4
(1)   98/       0 : =7H                 NUM_EQUP	equ	7
(1)   99/       0 :                     
(1)  100/       0 :                     
(1)  101/       0 :                     
(1)  102/       0 :                     ;OTRAS DEFINICIONES
(1)  103/       0 : =FH                 COLOR_NEGRO	equ	0FFh
(1)  104/       0 :                     
(1)  105/       0 : =1H                 PAG_PATRONES	equ	1
(1)  106/       0 : =3H                 PAG_PERSO	equ	3
(1)  107/       0 : =2H                 PAG_OBJETOS	equ	2
(1)  108/       0 : =2H                 PAG_FONTS	equ	2
(1)  109/       0 : =0H                 PAG_OPTIONS	equ	0
(1)  110/       0 :                     
(1)  111/       0 : =9H                 COORDY_PAT	equ	152
(1)  112/       0 : =0H                 COORDY_OBJ	equ	0
(1)  113/       0 : =0H                 COORDY_FONTS	equ	0
(1)  114/       0 : =DH                 COORDY_OPT	equ	212
(1)  115/       0 :                     
(1)  116/       0 : =1H                 ALTO_OPT	equ	19
(1)  117/       0 :                     
(1)  118/       0 : =4H                 INC_MOVS	equ	4
(1)  119/       0 : =8H                 INC_MOVD	equ	8
 AS V1.42 Beta [Bld 28] - source file game.asm(game.inc) - page 3 - 8/12/2011 20:51:50


(1)  120/       0 : =2H                 RETARDOPJS	equ	2
(1)  121/       0 : =2H                 TAM_FIFO	equ	32
(1)  122/       0 : =2H                 TAM_DIR_BUFF	equ	32
(1)  123/       0 :                     
(1)  124/       0 : =1H                 PROF_PERSOC	equ	24
(1)  125/       0 : =1H                 PROF_PERSOARC	equ	20
(1)  126/       0 : =FH                 PROF_PERSOM	equ	-8
(1)  127/       0 : =FH                 PATFINSCROLL	equ	255
(1)  128/       0 :                     
(1)  129/       0 : =BH                 COORCXDE	equ	22*8
(1)  130/       0 : =2H                 COORCXIZ	equ	4*8
(1)  131/       0 : =2H                 COORCYAR	equ	4*8
(1)  132/       0 : =4H                 COORCYAB	equ	8*8
(1)  133/       0 :                     
(1)  134/       0 : =FH                 OFF_PVISXIZ	equ	-5
(1)  135/       0 : =6H                 OFF_PVISXDE	equ	6
(1)  136/       0 : =FH                 OFF_PVISYAR	equ	-5
(1)  137/       0 : =6H                 OFF_PVISYAB	equ	6
(1)  138/       0 :                     
(1)  139/       0 : =1H                 OFF_PANTX	equ	16
(1)  140/       0 : =1H                 OFF_PANTY	equ	20
(1)  141/       0 :                     
(1)  142/       0 : =9H                 SCR_SPLIT	equ	OFF_PANTY+(NUMPATY*8)+4
(1)  143/       0 :                     
(1)  144/       0 : =0H                 GET_DIR_KEY	equ	0
(1)  145/       0 : =1H                 GET_DIR_BUFF	equ	1
(1)  146/       0 : =2H                 GET_DIR_VAL	equ	2
(1)  147/       0 :                     
(1)  148/       0 : =2H                 MAX_ESTADOS	equ	512
(1)  149/       0 :                     
(1)  150/       0 :                     
(1)  151/       0 :                     ;Definicion de los comandos del driver de musica/SFX (por ahora)
(1)  152/       0 :                     
(1)  153/       0 : =1H                 MC_INIVARS     equ 1
(1)  154/       0 : =3H                 MC_INICHIPS    equ 3
(1)  155/       0 : =4H                 MC_FADEOUT     equ 4
(1)  156/       0 : =5H                 MC_FADEIN      equ 5
(1)  157/       0 : =6H                 MC_CHKMUS      equ 6
(1)  158/       0 : =7H                 MC_SFX         equ 7
(1)  159/       0 : =8H                 MC_CHKSFX      equ 8
(1)  160/       0 : =9H                 MC_MUSICON     equ 9
(1)  161/       0 : =AH                 MC_INCMUS      equ 10
(1)  162/       0 : =BH                 MC_MUSICOFF    equ 11
(1)  163/       0 :                     
(1)  164/       0 :                     
(1)  165/       0 :                     ;DEFINICION DEL SIGNIFICADO DE LOS BITS DE LAS PROPIEDADES DE LAS TEXTURAS
(1)  166/       0 :                     ; BIT 0 -> ACCESO A UN PATRON.
(1)  167/       0 :                     ; BIT 1 -> SEGUNDO PLANO
(1)  168/       0 :                     ; BIT 2 -> ENLACES
(1)  169/       0 :                     ; BIT 3 -> DISTINTA ALTURA (SIN IMPLEMENTAR)
(1)  170/       0 :                     ; BIT 4-7 -> NUMERO DE PATRON DE 32x16 DE EXTERIORES (ESTO OBLIGA A QUE
(1)  171/       0 :                     ;            LOS PATRONES ESTEN AGRUPADOS EN GRUPOS DE 2x4).
(1)  172/       0 :                     ;EXCEPTUANDO LA PRIMERA FILA DE PATRON DE FIN DE SCROLL, LA CUAL SIRVE ADEMAS
(1)  173/       0 :                     ;COMPENSAR QUE LOS PERSONAJES EMPIEZAN CON UN DESPLAZAMIENTO DE 4 EN Y.
(1)  174/       0 :                     ;POR TANTO EL TAMAGNO DEBE SER EL DE ANTES + 1.
(1)  175/       0 :                     
(1)  176/       0 :                     
(1)  177/       0 :                     ;PROPIEDADES EXTERIORES
(1)  178/       0 :                     ;   BIT 7-6 COSTO MOVIMIENTO
(1)  179/       0 :                     ;   BIT 5-3 BONUS DEFENSA
 AS V1.42 Beta [Bld 28] - source file game.asm(game.inc) - page 4 - 8/12/2011 20:51:50


(1)  180/       0 :                     ;   BIT 2-0 BONUS ATAQUE
(1)  181/       0 :                     
(1)  182/       0 :                     
(1)  183/       0 :                     ;DEFINICION DE LA ESTRUCTURA DE OBJETO
(1)  184/       0 :                     
(1)  185/       0 : =3H                 STRUCTOBJETO	equ	52
(1)  186/       0 : =0H                 STROBJ_NOM	equ	0	;NOMBRE DEL OBJETO
(1)  187/       0 : =2H                 STROBJ_GRAF	equ	43	;GRAFICO DEL OBJETO
(1)  188/       0 : =2H                 STROBJ_AT	equ	44	;BONIFICACION DE ATAQUE
(1)  189/       0 : =2H                 STROBJ_DF	equ	45	;BONIFICACION DE DEFENSA
(1)  190/       0 : =2H                 STROBJ_MV	equ	46	;BONIFICACION AL ATAQUE
(1)  191/       0 : =2H                 STROBJ_PV	equ	47	;BONIFICACION A LOS PUNTOS DE VIDA (MAX)
(1)  192/       0 : =3H                 STROBJ_PROF	equ	48	;PROFESIONES QUE PUEDEN USARLO
(1)  193/       0 : =3H                 STROBJ_LG	equ	49	;LUGAR DONDE SE PUEDE COLOCAR
(1)  194/       0 : =3H                 STROBJ_TA	equ	50	;TABLA DE ARMA
(1)  195/       0 : =3H                 STROBJ_MG	equ	51	;NUMERO DE CONJURO
(1)  196/       0 :                     
(1)  197/       0 :                     
(1)  198/       0 :                     
(1)  199/       0 :                     ;DEFINICION DE LA ESTRUCTURA QUE VA A SERVIR PARA EL CONTROL DE LAS FIGURAS
(1)  200/       0 :                     ;POR LA PANTALLA
(1)  201/       0 :                     
(1)  202/       0 : =EH                 STRUCTFIGURA	equ	14
(1)  203/       0 :                     
(1)  204/       0 : =0H                 STRFIG_PAT	equ	0
(1)  205/       0 : =1H                 STRFIG_XANT	equ	1
(1)  206/       0 : =2H                 STRFIG_YANT	equ	2
(1)  207/       0 : =3H                 STRFIG_XACT	equ	3
(1)  208/       0 : =4H                 STRFIG_YACT	equ	4
(1)  209/       0 : =5H                 STRFIG_ANIM	equ	5
(1)  210/       0 : =6H                 STRFIG_REPT	equ	6
(1)  211/       0 : =7H                 STRFIG_DIRE	equ	7
(1)  212/       0 : =8H                 STRFIG_OCUP	equ	8	;ESTA OCUPADO?
(1)  213/       0 : =9H                 STRFIG_WRT	equ	9	;SE HA ESCRITO YA?
(1)  214/       0 : =AH                 STRFIG_BRD	equ	10
(1)  215/       0 : =CH                 STRFIG_XBRD	equ	12
(1)  216/       0 : =DH                 STRFIG_YBRD	equ	13
(1)  217/       0 :                     
(1)  218/       0 :                     
(1)  219/       0 :                     ;DEFINICION DE LA ESTRUCTURA QUE VA A SERVIR PARA EL CONTROL DE LOS PERSONAJES.
(1)  220/       0 :                     ;ESTA ESTRUCTURA ESTA INCOMPLETA. TENGO QUE HABLAR CON JUAN PARA QUE ME DE MAS
(1)  221/       0 :                     ;DETALLES SOBRE EL JUEGO.
(1)  222/       0 :                     
(1)  223/       0 : =1H                 STRUCTPERSO	equ	21
(1)  224/       0 : =0H                 STRPER_Y	equ	0
(1)  225/       0 : =2H                 STRPER_X	equ	2
(1)  226/       0 : =4H                 STRPER_TIPO	equ	4
(1)  227/       0 : =5H                 STRPER_FIG	equ	5
(1)  228/       0 : =7H                 STRPER_PV	equ	7	;PUNTOS DE VIDA
(1)  229/       0 : =9H                 STRPER_PVTQ	equ	9	;PUNTOS DE ATAQUE
(1)  230/       0 : =AH                 STRPER_PAR	equ	10	;PUNTOS DE ARMADURA
(1)  231/       0 : =BH                 STRPER_PMV	equ	11	;PUNTOS DE MOVIMIENTO
(1)  232/       0 : =CH                 STRPER_PEX	equ	12	;PUNTOS DE EXPERIENCIA (2 BYTES)
(1)  233/       0 : =EH                 STRPER_NIV	equ	14	;NIVEL DE EXPERIENCIA
(1)  234/       0 : =FH                 STRPER_PAT	equ	15	;NUMERO DE PATRON
(1)  235/       0 : =1H                 STRPER_MON	equ	16	;DINERO (2 BYTES)
(1)  236/       0 : =1H                 STRPER_OCUP	equ	18	;ESTA OCUPADO?
(1)  237/       0 : =1H                 STRPER_DIR	equ	19	;DIRECCION DEL PERSONAJE
(1)  238/       0 : =1H                 STRPER_KEY	equ	20	;PARA  LA GESTION
(1)  239/       0 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(game.inc) - page 5 - 8/12/2011 20:51:50


(1)  240/       0 :                     
(1)  241/       0 :                     ;DEFINICION DE LA ESTRUCTURA QUE VA A DEFINIR EL TIPO DE PERSONAJES
(1)  242/       0 :                     
(1)  243/       0 : =1H                 STRUCTTIPOP	equ	24
(1)  244/       0 : =0H                 STRTIPE_NOM	equ	0	;NOMBRE DEL PERSONAJE
(1)  245/       0 : =BH                 STRTIPE_PV	equ	11	;PUNTOS DE VIDA INICIALES (2 BYTES)
(1)  246/       0 : =DH                 STRTIPE_PATQ	equ	13	;PUNTOS DE ATAQUE INICIALES
(1)  247/       0 : =EH                 STRTIPE_PAR	equ	14	;PUNTOS DE ATAQUE INICIALES
(1)  248/       0 : =FH                 STRTIPE_PMV	equ	15	;PUNTOS DE MOVIMIENTO INICIALES
(1)  249/       0 : =1H                 STRTIPE_PEX	equ	16	;PUNTOS DE EXPERIENCIA INICIALES
(1)  250/       0 : =1H                 STRTIPE_NIV	equ	18	;NIVEL INICIAL
(1)  251/       0 : =1H                 STRTIPE_PAT	equ	19	;NUMERO DE PATRON
(1)  252/       0 : =1H                 STRTIPE_MON	equ	20	;DINERO INICIAL
(1)  253/       0 : =1H                 STRTIPE_INV	equ	22	;NUMERO DE INVENTARIO
(1)  254/       0 : =1H                 STRTIPE_equI	equ	23	;NUMERO DE equIPO
(1)  255/       0 :                     
(1)  256/       0 :                     
(1)  257/       0 :                     ;DEFINICION DE LA ESTRUCTURA QUE VA A SERVIR PARA LA IMPLEMENTACION DE LOS
(1)  258/       0 :                     ;DOS PLANOS
(1)  259/       0 :                     
(1)  260/       0 : =3H                 STRUCT2PLANE	equ	3
(1)  261/       0 : =0H                 STR2PLN_X	equ	0
(1)  262/       0 : =1H                 STR2PLN_Y	equ	1
(1)  263/       0 : =2H                 STR2PLN_PAT	equ	2
(1)  264/       0 :                     
(1)  265/       0 :                     
(1)  266/       0 :                     ;DEFINICION DE LA ESTRUCTURA QUE VA A SERVIR PARA GUARDAR LA INFORMACION SOBRE
(1)  267/       0 :                     ;ENLACES ENTRE PANTALLAS.
(1)  268/       0 :                     
(1)  269/       0 :                     
(1)  270/       0 : =AH                 STRUCTENLACE	equ	10
(1)  271/       0 : =0H                 STRENL_XO	equ	0
(1)  272/       0 : =2H                 STRENL_YO	equ	2
(1)  273/       0 : =4H                 STRENL_XD	equ	4
(1)  274/       0 : =6H                 STRENL_YD	equ	6
(1)  275/       0 : =8H                 STRENL_TA_OF	equ	8
(1)  276/       0 : =9H                 STRENL_ADJ	equ	9
(1)  277/       0 :                     
(1)  278/       0 :                     
(1)  279/       0 :                     ;DEFINICION DEL JUEGO
(1)  280/       0 :                     
(1)  281/       0 :                     
(1)  282/       0 :                     
(1)  283/       0 :                     
(1)  284/       0 :                     
(1)  285/       0 :                     
(1)  286/       0 :                     
(1)  287/       0 :                     
(1)  288/       0 :                     ;DEFINICION DE LA ESTRUCTURA PARA LOS NIVELES
(1)  289/       0 :                     
(1)  290/       0 : =8H                 STRUCTNIVEL	equ	132
(1)  291/       0 : =0H                 STRNIV_MAPEX	equ	0
(1)  292/       0 : =CH                 STRNIV_CIUD1	equ	12
(1)  293/       0 : =1H                 STRNIV_CIUD2	equ	24
(1)  294/       0 : =2H                 STRNIV_CIUD3	equ	36
(1)  295/       0 : =3H                 STRNIV_CIUD4	equ	48
(1)  296/       0 : =3H                 STRNIV_CIUD5	equ	60
(1)  297/       0 : =4H                 STRNIV_CIUD6	equ	72
(1)  298/       0 : =5H                 STRNIV_CIUD7	equ	84
(1)  299/       0 : =6H                 STRNIV_CIUD8	equ	96
 AS V1.42 Beta [Bld 28] - source file game.asm(game.inc) - page 6 - 8/12/2011 20:51:50


(1)  300/       0 : =6H                 STRNIV_CIUD9	equ	108
(1)  301/       0 : =7H                 STRNIV_CIUD10	equ	120
(1)  302/       0 :                     
(1)  303/       0 :                     
(1)  304/       0 :                     ;DEFINICION DE LA ESTRUCTURA PARA LOS MAPEADOS
(1)  305/       0 :                     
(1)  306/       0 : =BH                 STRUCTMAPEADO	equ	184
(1)  307/       0 : =0H                 STRMAP_PATMAP	equ	0
(1)  308/       0 : =CH                 STRMAP_PROP	equ	12
(1)  309/       0 : =1H                 STRMAP_MAPA	equ	24
(1)  310/       0 : =2H                 STRMAP_XDEF	equ	36
(1)  311/       0 : =2H                 STRMAP_YDEF	equ	38
(1)  312/       0 : =2H                 STRMAP_PAT0	equ	40
(1)  313/       0 : =3H                 STRMAP_PAT1	equ	52
(1)  314/       0 : =4H                 STRMAP_PAT2	equ	64
(1)  315/       0 : =4H                 STRMAP_PAT3	equ	76
(1)  316/       0 : =5H                 STRMAP_PAT4	equ	88
(1)  317/       0 : =6H                 STRMAP_PAT5	equ	100
(1)  318/       0 : =7H                 STRMAP_PAT6	equ	112
(1)  319/       0 : =7H                 STRMAP_PAT7	equ	124
(1)  320/       0 : =8H                 STRMAP_PAT8	equ	136
(1)  321/       0 : =9H                 STRMAP_PAT9	equ	148
(1)  322/       0 : =AH                 STRMAP_PAT10	equ	160
(1)  323/       0 : =AH                 STRMAP_PAT11	equ	172
(1)  324/       0 :                     
(1)  325/       0 :                     
(1)  326/       0 : =6H                 STRUCTDEFPER	equ	6
(1)  327/       0 : =0H                 STRDEFP_TIPO	equ	0
(1)  328/       0 : =1H                 STRDEFP_X	equ	1
(1)  329/       0 : =3H                 STRDEFP_Y	equ	3
(1)  330/       0 : =5H                 STRDEFP_DIR	equ	5
(1)  331/       0 :                     
(1)  332/       0 :                     ;DEFINICION DE LA ESTRUCTURA PARA DEFINIR LOS NODOS DEL A*.
(1)  333/       0 :                     
(1)  334/       0 : =EH                 STRUCTESTADO	equ	14
(1)  335/       0 : =0H                 STREST_X	equ	0
(1)  336/       0 : =2H                 STREST_Y	equ	2
(1)  337/       0 : =4H                 STREST_COSTE	equ	4	;Y NO H, YA QUE F SE PUEDE DEDUCIR
(1)  338/       0 : =5H                 STREST_OPERA	equ	5	;DEL COSTE Y F
(1)  339/       0 : =6H                 STREST_HEURIS	equ	6	;AQUI VA A IR LA FUNCION F
(1)  340/       0 : =8H                 STREST_PADRE	equ	8
(1)  341/       0 : =AH                 STREST_SIG	equ	10
(1)  342/       0 : =CH                 STREST_ANT	equ	12
(1)  343/       0 :                     
(1)  344/       0 :                     
(1)  345/       0 :                     ;DEFINICION DE LA ESTRUCTURA PARA EL MANEJO DE LAS EXCEPCIONES
(1)  346/       0 :                     
(1)  347/       0 : =9H                 STRUCTEXCEP	equ	9
(1)  348/       0 : =0H                 STREXCP_HAND	equ	0
(1)  349/       0 : =2H                 STREXCP_PTR	equ	2
(1)  350/       0 : =3H                 STREXCP_PTRF	equ	3
(1)  351/       0 : =4H                 STREXCP_MOD	equ	4
(1)  352/       0 : =5H                 STREXCP_BUF	equ	5
(1)  353/       0 : =7H                 STREXCP_BUFF	equ	7
(1)  354/       0 :                     
(1)  355/       0 :                     
(1)  356/       0 :                     ;DEFINICION DE LOS TAMANOS DE LAS ESTRUCTURAS DE DATOS
(1)  357/       0 : =1H                 SIZ_STRPERVC	equ	STRUCTPERSO*MAXPERSOC*MAXCIUDADES
(1)  358/       0 : =1H                 SIZ_PROPVEC	equ	320	;HEEEEEEEEEEEEEEEEYYYYYYYYYYYYYYYY
(1)  359/       0 : =2H                 SIZ_STRPERVM	equ	STRUCTPERSO*MAXPERSOM
 AS V1.42 Beta [Bld 28] - source file game.asm(game.inc) - page 7 - 8/12/2011 20:51:50


(1)  360/       0 : =EH                 SIZ_STRFIGVEC	equ	STRUCTFIGURA*MAXFIGURAS
(1)  361/       0 : =1H                 SIZ_BUFFERPAG	equ	NUMPATX*NUMPATY
(1)  362/       0 : =3H                 SIZ_INDEXPERS	equ	2*MAXPERSOM
(1)  363/       0 : =9H                 SIZ_INDEXMAPA	equ	2*MAXPANAL*NUMPATY
(1)  364/       0 : =2H                 SIZ_STR2PLN	equ	STRUCT2PLANE*11*MAXFIGURAS
(1)  365/       0 : =3H                 SIZ_VECTIPOS	equ	STRUCTTIPOP*MAXTIPOPER
(1)  366/       0 : =2H                 SIZ_VECENL	equ	STRUCTENLACE*MAXNUMENL
(1)  367/       0 : =AH                 SIZ_PERSOM	equ	(MAXPERSOM-MAXNUMPJS)*STRUCTDEFPER
(1)  368/       0 : =6H                 SIZ_PERSOC	equ	(MAXPERSOC-MAXNUMPJS)*STRUCTDEFPER*MAXCIUDADES
(1)  369/       0 : =1H                 SIZ_NODOS	equ	STRUCTESTADO*MAX_ESTADOS
(1)  370/       0 : =6H                 SIZ_OBJV	equ	STRUCTOBJETO*MAXOBJETOS
(1)  371/       0 : =3H                 SIZ_INV	        equ	15*NUM_INV
(1)  372/       0 : =3H                 SIZ_EQUPV	equ	8*NUM_EQUP
(1)  373/       0 :                     
(1)  374/       0 :                     
       2/       0 :                     	include "../inc/data.inc"
(1)    1/       0 :                           	
(1)    2/       0 :                     ;AUX_NODOS	EQU	FINAL
(1)    3/       0 :                     ;CRUZSP1	EQU	AUX_NODOS+SIZ_NODOS  ;Comentado hasta que se vuelva a poner el A*
(1)    4/       0 :                     
(1)    5/       0 : =3H                 CRUZSP1         EQU     FINAL
(1)    6/       0 : =3H                 CRUZSP2		EQU	CRUZSP1+32
(1)    7/       0 : =3H                 CUADSP1		EQU	CRUZSP2+32
(1)    8/       0 : =3H                 CUADSP2		EQU	CUADSP1+32
(1)    9/       0 : =3H                 CUADSP3		EQU	CUADSP2+32
(1)   10/       0 : =3H                 CRUZSPC1	EQU	CUADSP3+32
(1)   11/       0 : =3H                 CRUZSPC2	EQU	CRUZSPC1+16
(1)   12/       0 : =3H                 CUADSPC1	EQU	CRUZSPC2+16
(1)   13/       0 : =3H                 CUADSPC2	EQU	CUADSPC1+16
(1)   14/       0 : =3H                 CUADSPC3	EQU	CUADSPC2+16
(1)   15/       0 : =3H                 STRENL_VEC	EQU	CUADSPC3+16
(1)   16/       0 : =3H                 MAPEADO_DAT	EQU	STRENL_VEC+SIZ_VECENL
(1)   17/       0 : =3H                 NIVELDAT	EQU	MAPEADO_DAT+STRUCTMAPEADO
(1)   18/       0 : =3H                 TIPOS_VEC	EQU	NIVELDAT+STRUCTNIVEL
(1)   19/       0 : =4H                 STR2PLN_VEC	EQU	TIPOS_VEC+SIZ_VECTIPOS
(1)   20/       0 : =4H                 BUFFER_PAG1	EQU	STR2PLN_VEC+SIZ_STR2PLN
(1)   21/       0 : =4H                 BUFFER_PAG2	EQU	BUFFER_PAG1+SIZ_BUFFERPAG
(1)   22/       0 : =4H                 INDEXPERSO	EQU	BUFFER_PAG2+SIZ_BUFFERPAG
(1)   23/       0 : =4H                 INDEXMAPA	EQU	INDEXPERSO+SIZ_INDEXPERS
(1)   24/       0 : =4H                 STRFIG_VECTOR	EQU	INDEXMAPA+SIZ_INDEXMAPA
(1)   25/       0 : =4H                 STRPER_VECMAP	EQU	STRFIG_VECTOR+SIZ_STRFIGVEC
(1)   26/       0 : =4H                 STRPER_VECCIT	EQU	STRPER_VECMAP+SIZ_STRPERVM
(1)   27/       0 : =6H                 PROPIEDAD_VEC	EQU	STRPER_VECCIT+SIZ_STRPERVC
(1)   28/       0 : =6H                 OBJ_VEC		EQU	PROPIEDAD_VEC+SIZ_PROPVEC
(1)   29/       0 : =6H                 INVENTARIOVT	EQU	OBJ_VEC+SIZ_OBJV
(1)   30/       0 : =6H                 EQUIPOVT	EQU	INVENTARIOVT+SIZ_INV
(1)   31/       0 : =6H                 BUFFER		EQU	EQUIPOVT+SIZ_EQUPV   
(1)   32/       0 : =6H                 MAPATEXTURA	EQU	BUFFER	                
(1)   33/       0 :                                                                     
(1)   34/       0 :                     
(1)   35/       0 :                     ;NODOS		EQU	AUX_NODOS+(2*STRUCTESTADO)  ;Comentado por lo mismo de arriba
(1)   36/       0 :                     ;CABEZA		EQU	AUX_NODOS+STREST_SIG
(1)   37/       0 :                                                         
(1)   38/       0 :                     
       3/       0 :                     	include "../inc/debug.inc"
(1)    1/       0 :                     assert macro cadctr,pars
(1)    2/       0 :                     	ifdef DEBUG
(1)    3/       0 :                     	
(1)    4/       0 :                     	  if cadctr <> ""
(1)    5/       0 :                     	    jp next	     
 AS V1.42 Beta [Bld 28] - source file game.asm(debug.inc) - page 8 - 8/12/2011 20:51:50


(1)    6/       0 :                     cad:	    db cadctr,0
(1)    7/       0 :                     r_sp:	    dw 0		
(1)    8/       0 :                     old_sp:	    dw 0
(1)    9/       0 :                     pushls:	    dw 0
(1)   10/       0 :                     
(1)   11/       0 :                     			
(1)   12/       0 :                     next:	    	    
(1)   13/       0 :                                 push hl    
(1)   14/       0 :                     	    ld hl,-6
(1)   15/       0 :                     	    add hl,sp
(1)   16/       0 :                     	    ld (r_sp),hl
(1)   17/       0 :                     	    ld hl,2
(1)   18/       0 :                     	    add hl,sp
(1)   19/       0 :                     	    ld (old_sp),hl
(1)   20/       0 :                     
(1)   21/       0 :                                 push af
(1)   22/       0 :                                 ld a,r		; Salvar el estado de las interrupciones
(1)   23/       0 :                     	    push af
(1)   24/       0 :                     	    pop hl
(1)   25/       0 :                     	    ld a,l
(1)   26/       0 :                     	    ld (prt_di),a	    
(1)   27/       0 :                                 pop af
(1)   28/       0 :                     	    pop hl
(1)   29/       0 :                                 di
(1)   30/       0 :                     		 
(1)   31/       0 :                     	    push hl
(1)   32/       0 :                     	    push de
(1)   33/       0 :                     	    push bc
(1)   34/       0 :                     	    push af
(1)   35/       0 :                           	    ld (pushls),hl
(1)   36/       0 :                     	    shift
(1)   37/       0 :                     	    pushlist ALLARGS
(1)   38/       0 :                     	    ld hl,cad
(1)   39/       0 :                     	    call prt_d
(1)   40/       0 :                     
(1)   41/       0 :                     	    ld hl,(r_sp)
(1)   42/       0 :                     	    ld sp,hl	
(1)   43/       0 :                     
(1)   44/       0 :                                 ld a,(prt_di) 
(1)   45/       0 :                     	    bit 2,a
(1)   46/       0 :                     	    jr z,+
(1)   47/       0 :                     	    ei		; Restauramos estado de las interrupciones
(1)   48/       0 :                     
(1)   49/       0 :                     +	    pop af
(1)   50/       0 :                     	    pop bc
(1)   51/       0 :                     	    pop de
(1)   52/       0 :                     	    pop hl	
(1)   53/       0 :                     	  endif
(1)   54/       0 :                     	endif
(1)   55/       0 :                          endm
(1)   56/       0 :                       	
(1)   57/       0 :                     
(1)   58/       0 :                     
(1)   59/       0 :                     pushlist macro reg
(1)   60/       0 :                            if "reg" <> ""
(1)   61/       0 :                               pushlist CDRARGS
(1)   62/       0 :                               pusht reg
(1)   63/       0 :                            endif
(1)   64/       0 :                            endm
(1)   65/       0 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(debug.inc) - page 9 - 8/12/2011 20:51:50


(1)   66/       0 :                           			
(1)   67/       0 :                     pusht	macro r		
(1)   68/       0 :                           if  (upstring("r")=="AF") || (upstring("r")=="BC") 
(1)   69/       0 :                     	push r
(1)   70/       0 :                           elseif (upstring("r")=="DE") || (upstring("r")=="HL") 
(1)   71/       0 :                     	push r
(1)   72/       0 :                           elseif (upstring("r")=="IX") || (upstring("r")=="IY")
(1)   73/       0 :                     	push r
(1)   74/       0 :                           elseif (upstring("r")=="SP")
(1)   75/       0 :                     	ld hl,(old_sp)
(1)   76/       0 :                     	push hl
(1)   77/       0 :                     	ld hl,(pushls)
(1)   78/       0 :                           elseif strstr("r","(") <> -1
(1)   79/       0 :                     	if strstr(upstring("r"),"(SP)") <> -1
(1)   80/       0 :                     	   ld hl,(old_sp)
(1)   81/       0 :                     	   push af
(1)   82/       0 :                     	   ld a,(hl)
(1)   83/       0 :                     	   inc hl
(1)   84/       0 :                     	   ld h,(hl)
(1)   85/       0 :                     	   ld l,a
(1)   86/       0 :                     	   pop af
(1)   87/       0 :                     	   push hl
(1)   88/       0 :                     	   ld hl,(pushls)	   
(1)   89/       0 :                     	else
(1)   90/       0 :                     	   push8b r
(1)   91/       0 :                     	endif
(1)   92/       0 :                           elseif (upstring("r")=="A") 
(1)   93/       0 :                           	push8b r
(1)   94/       0 :                           elseif (upstring("r")=="B")   || (upstring("r")=="C") 
(1)   95/       0 :                     	push8b r
(1)   96/       0 :                           elseif (upstring("r")=="D")   || (upstring("r")=="E") 
(1)   97/       0 :                     	push8b r
(1)   98/       0 :                           elseif (upstring("r")=="H")   || (upstring("r")=="L") 
(1)   99/       0 :                     	push8b r
(1)  100/       0 :                           elseif (upstring("r")=="IYH") || (upstring("r")=="IHL")
(1)  101/       0 :                     	push8b r
(1)  102/       0 :                           elseif (upstring("r")=="IYH") || (upstring("r")=="IHL") 
(1)  103/       0 :                     	push8b r
(1)  104/       0 :                           else		
(1)  105/       0 :                     	ld hl,r
(1)  106/       0 :                     	push hl
(1)  107/       0 :                     	ld hl,(pushls)
(1)  108/       0 :                           endif
(1)  109/       0 :                           endm
(1)  110/       0 :                     
(1)  111/       0 :                     
(1)  112/       0 :                     push8b macro r	
(1)  113/       0 :                     	push af
(1)  114/       0 :                     	ld a,r	
(1)  115/       0 :                     	ld l,a
(1)  116/       0 :                     	pop af
(1)  117/       0 :                     	ld h,0
(1)  118/       0 :                     	push hl
(1)  119/       0 :                     	ld hl,(pushls)
(1)  120/       0 :                     	endm
(1)  121/       0 :                     
(1)  122/       0 :                     
(1)  123/       0 :                     
(1)  124/       0 :                     	
(1)  125/       0 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(debug.inc) - page 10 - 8/12/2011 20:51:50


(1)  126/       0 :                     
(1)  127/       0 :                     
(1)  128/       0 :                     
(1)  129/       0 :                     
(1)  130/       0 :                     
(1)  131/       0 :                     
       4/       0 :                     
       5/       0 :                     
       6/     100 :                     	phase 100h
       7/     100 :                     
       8/     100 : 21 00 00            	LD	HL,0
       9/     103 : 39                  	ADD	HL,SP
      10/     104 : 22 25 01            	LD	(STACK_TOP),HL
      11/     107 :                      
      12/     107 : CD B7 15            	CALL	INIT_GAME	
      13/     10A : 21 BA 14            	LD	HL,NOMNIVEL
      14/     10D : CD 79 2A            	CALL	LOADNIVEL
      15/     110 : 2E 01               	LD	L,1
      16/     112 : CD 35 16            	CALL	GO_CIUDAD
      17/     115 :                     	;CALL    GO_EXTERIOR
      18/     115 :                     
      19/     115 : 3E 01               	ld	a,1
      20/     117 : CD 66 3A            	call	PutSng
      21/     11A :                     
      22/     11A : CD C5 2F            	CALL	SAEBA
      23/     11D : CD 27 01            LOOP	CALL	BMODE_INT	
      24/     120 : CD 45 01            	CALL	BMODE_EXT
      25/     123 : 18 F8               	JR	LOOP
      26/     125 :                     
      27/     125 : 00 00               STACK_TOP:	DW	0
      28/     127 :                     
      29/     127 :                     
      30/     127 :                     	
      31/     127 :                     
      32/     127 :                     
      33/     127 :                     ;NOMBRE: BMODE_INT
      34/     127 :                     ;OBJETIVO: EJECUTA UNA ITERACION DE INTERIOR SI ESTAMOS EN ESE MODO
      35/     127 :                     
      36/     127 :                     
      37/     127 : 3A 8D 14            BMODE_INT:	LD	A,(MODO_GAME)
      38/     12A : FE 00               	CP	INTERIOR
      39/     12C : C0                  	RET	NZ
      40/     12D : 3A 9E 14            	LD	A,(DIR_ACTUAL)
      41/     130 : 47                  	LD	B,A
      42/     131 : CD 36 1E            	CALL	MOVPJS
      43/     134 :                     ;              CALL    MOVPNJS            ;ESTA TODAVIA SIN IMPLEMENTAR
      44/     134 : CD B0 08            	CALL	DO_VISUAL
      45/     137 : 3E 20               	LD	A,F1_KEY
      46/     139 : CD 8A 2C            	CALL	TEST_FUNC
      47/     13C : B7                  	OR	A
      48/     13D : C4 1E 1B            	CALL	NZ,SHOW_PJS
      49/     140 : AF                  	XOR	A
      50/     141 : 32 52 37            	LD	(BUFFER_FUNC),A
      51/     144 : C9                  	RET
      52/     145 :                     
      53/     145 :                     
      54/     145 :                     
      55/     145 :                     ;NOMBRE: BMODE_EXT
      56/     145 :                     ;OBJETIVO: EJECUTA UNA ITERACION DE EXTERIOR SI ESTAMOS EN ESE MODO
      57/     145 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm - page 11 - 8/12/2011 20:51:50


      58/     145 : 3A 8D 14            BMODE_EXT:	LD	A,(MODO_GAME)
      59/     148 : FE 01               	CP	EXTERIOR
      60/     14A : C0                  	RET	NZ
      61/     14B : CD 8D 19            	CALL	TURNO_PJS
      62/     14E :                     ;               CALL    TURNO_PNJS
      63/     14E : C9                  	RET
      64/     14F :                     
      65/     14F :                     
      66/     14F :                     
      67/     14F :                     
      68/     14F :                     
      69/     14F :                     
      70/     14F :                     
      71/     14F :                     
      72/     14F :                     ;NOMBRE: DOCONVER
      73/     14F :                     ;OBJETIVO: REALIZAR LAS FUNCIONES NECESARIAS PARA IMPRIMIR EN PANTALLA
      74/     14F :                     ;          TODOS LAS CONVERSACIONES QUE SE ESTEN VIENDO EN ESE MOMENTO
      75/     14F :                     
      76/     14F : 26 14               DOCONVER:	LD	H,20
      77/     151 : 2E 14               	LD	L,20
      78/     153 : CD 57 01            	CALL	PUTDIALOGO
      79/     156 : C9                  	RET
      80/     157 :                     
      81/     157 :                     
      82/     157 :                     
      83/     157 :                     
      84/     157 :                     ;NOMBRE: PUTDIALOGO
      85/     157 :                     ;OBJETIVO: PINTAR UN DIALOGO ENTRE DOS PERSONAJES
      86/     157 :                     ;H -> COORDENADA X  -> ES LA RELATIVA, PERO SIN EL DESPLAZAMIENTO DE LA  P
      87/     157 :                     ;Y -> COORDENADA Y  ->  IDEM
      88/     157 :                     
      89/     157 :                     
      90/     157 : 3E 10               PUTDIALOGO:	LD	A,OFF_PANTX
      91/     159 : 84                  	ADD	A,H
      92/     15A : 32 73 01            	LD	(PDIALOG+0),A
      93/     15D : 3E 14               	LD	A,OFF_PANTY
      94/     15F : 85                  	ADD	A,L
      95/     160 : 32 75 01            	LD	(PDIALOG+2),A
      96/     163 :                     
      97/     163 : CD 1B 36            	CALL	WAIT_COM
      98/     166 : 3A 8A 14            	LD	A,(PAG_NACT)
      99/     169 : 47                  	LD	B,A
     100/     16A : 3E EE               	LD	A,0EEh
     101/     16C : 21 73 01            	LD	HL,PDIALOG
     102/     16F : CD 23 38            	CALL	LIMPIA_PAN
     103/     172 : C9                  	RET
     104/     173 :                     
     105/     173 : 00 00 00 00 50 00   PDIALOG:	DB	0,0,0,0,80,0,80,0,0EEh,0,0C0h
                    50 00 EE 00 C0 
     106/     17E :                     
     107/     17E :                     
     108/     17E :                     
     109/     17E :                     
     110/     17E :                     
     111/     17E :                     ;NOMBRE: BWSTR
     112/     17E :                     ;OBJETIVO: CONVERTIR UN NUMERO BINARIO NATUAL A ASCII
     113/     17E :                     ;ENTRADA: HL ->  NUMERO BINARIO NATURAL
     114/     17E :                     ;         DE -> PUNTERO AL BUFFER DONDE SE ESCRIBE EL VALOR
     115/     17E :                     ;         C -> NUMERO DE DIGITOS A  IMPRIMIR  (0 < X < 5)
     116/     17E :                     ;         B -> 0 -> RELLENA CON ' '. SI NO NO RELLENA
 AS V1.42 Beta [Bld 28] - source file game.asm - page 12 - 8/12/2011 20:51:50


     117/     17E :                     ;SALIDA:  (DE) -> RESULTADO DE LA CONVERSION
     118/     17E :                     
     119/     17E :                     
     120/     17E : 78                  BNSTR:	LD	A,B
     121/     17F : 32 D6 01            	LD	(BS_BLANK),A
     122/     182 : 79                  	LD	A,C
     123/     183 : D9                  	EXX
     124/     184 : 4F                  	LD	C,A
     125/     185 : CB 21               	SLA	C
     126/     187 : 0D                  	DEC	C
     127/     188 : 06 00               	LD	B,0
     128/     18A : 21 CC 01            	LD	HL,POT10
     129/     18D : 09                  	ADD	HL,BC
     130/     18E :                     
     131/     18E : 47                  	LD	B,A
     132/     18F : AF                  	XOR	A
     133/     190 : 32 CB 01            	LD	(BS_FLAG),A
     134/     193 :                     
     135/     193 : 56                  BSLOOP	LD	D,(HL)
     136/     194 : 2B                  	DEC	HL
     137/     195 : 5E                  	LD	E,(HL)
     138/     196 : 2B                  	DEC	HL
     139/     197 : D5                  	PUSH	DE
     140/     198 : D9                  	EXX
     141/     199 : C1                  	POP	BC
     142/     19A :                     
     143/     19A :                     
     144/     19A : 3E FF               	LD	A,-1
     145/     19C : 3C                  BSDIV	INC	A
     146/     19D : B7                  	OR	A
     147/     19E : ED 42               	SBC	HL,BC
     148/     1A0 : 30 FA               	JR	NC,BSDIV
     149/     1A2 : 09                  	ADD	HL,BC
     150/     1A3 : B7                  	OR	A
     151/     1A4 : 20 12               	JR	NZ,BWSTR1
     152/     1A6 :                     
     153/     1A6 : 08                  	EX	AF,AF'
     154/     1A7 : 3A CB 01            	LD	A,(BS_FLAG)
     155/     1AA : B7                  	OR	A
     156/     1AB : 20 0A               	JR	NZ,BWSTR0
     157/     1AD :                     
     158/     1AD : 3A D6 01            	LD	A,(BS_BLANK)
     159/     1B0 : B7                  	OR	A
     160/     1B1 : 20 10               	JR	NZ,BNSTR3
     161/     1B3 : 3E 20               	LD	A,20h
     162/     1B5 : 18 0A               	JR	BWSTR2
     163/     1B7 :                     
     164/     1B7 : 08                  BWSTR0:	EX	AF,AF'
     165/     1B8 :                     BWSTR1:	
     166/     1B8 : C6 30               	ADD	A,30h
     167/     1BA : 08                  	EX	AF,AF'
     168/     1BB : 3E 01               	LD	A,1
     169/     1BD : 32 CB 01            	LD	(BS_FLAG),A
     170/     1C0 : 08                  	EX	AF,AF'
     171/     1C1 :                     
     172/     1C1 :                     
     173/     1C1 :                     BWSTR2:	
     174/     1C1 : 12                  	LD	(DE),A
     175/     1C2 : 13                  	INC	DE
     176/     1C3 :                     BNSTR3:	
 AS V1.42 Beta [Bld 28] - source file game.asm - page 13 - 8/12/2011 20:51:50


     177/     1C3 : D9                  	EXX
     178/     1C4 : 10 CD               	DJNZ	BSLOOP
     179/     1C6 :                     
     180/     1C6 : D9                  	EXX
     181/     1C7 : 3E 00               	LD	A,0
     182/     1C9 : 12                  	LD	(DE),A
     183/     1CA : C9                  	RET
     184/     1CB :                     
     185/     1CB : 00                  BS_FLAG:	DB	0
     186/     1CC : 01 00 0A 00 64 00   POT10:	DW	1,10,100,1000,10000
                    E8 03 10 27 
     187/     1D6 : 00                  BS_BLANK:	DB	0
     188/     1D7 :                     
     189/     1D7 :                     
     190/     1D7 :                     
     191/     1D7 :                     
     192/     1D7 :                     
     193/     1D7 :                     ;NOMBRE: CLOSE_WIN
     194/     1D7 :                     ;OBJETIVO: BAJAR LA VENTANA
     195/     1D7 :                     
     196/     1D7 : 3A A7 14            CLOSE_WIN:	LD	A,(SINCRO)
     197/     1DA : B7                  	OR	A
     198/     1DB : 20 FA               	JR	NZ,CLOSE_WIN
     199/     1DD :                     
     200/     1DD :                     
     201/     1DD : 01 3C 3C            SHOW_PJ2	LD	BC,3C3Ch
     202/     1E0 : 3E 8B               	LD	A,OFF_PANTY+(NUMPATY*8)-1
     203/     1E2 : 32 0D 07            	LD	(UP_CORT_INI1),A
     204/     1E5 : 3E 14               	LD	A,OFF_PANTY
     205/     1E7 : 32 0E 07            	LD	(UP_CORT_INI2),A
     206/     1EA :                     
     207/     1EA :                     
     208/     1EA : 3E 05               	LD	A,5
     209/     1EC : 32 0B 07            	LD	(UP_CORT_ALT1),A
     210/     1EF : 3C                  	INC	A
     211/     1F0 : 32 0C 07            	LD	(UP_CORT_ALT2),A
     212/     1F3 : CD 78 06            	CALL	UP_CORTINA
     213/     1F6 : C9                  	RET
     214/     1F7 :                     
     215/     1F7 :                     
     216/     1F7 :                     
     217/     1F7 :                     
     218/     1F7 :                     
     219/     1F7 :                     
     220/     1F7 :                     
     221/     1F7 :                     
     222/     1F7 :                     
     223/     1F7 :                     
     224/     1F7 :                     
     225/     1F7 :                     
     226/     1F7 :                     ;NOMBRE: PRINTF
     227/     1F7 :                     ;OBJETIVO: IMPRIMIR UNA CADENA FORMATEADA
     228/     1F7 :                     ;ENTRADA:         HL -> 1- CADENA DE CONTROL
     229/     1F7 :                     ;                 DE -> COORDENADAS
     230/     1F7 :                     ;                 SP+2 -> BUFFER  DE LOS PARAMETROS OCUPAN DOS BYTES.
     231/     1F7 :                     
     232/     1F7 :                     ;
     233/     1F7 :                     ;FORMATO: %dn IMPRIME UN ENTERO DE 16 BITS CON N DIGITOS DE PRECISION
     234/     1F7 :                     ;         %s  IMPRIME UNA CADENA
     235/     1F7 :                     ;         %n  SALTO DE LINEA
 AS V1.42 Beta [Bld 28] - source file game.asm - page 14 - 8/12/2011 20:51:50


     236/     1F7 :                     ;         %4  PONE FUENTES DE 4x10
     237/     1F7 :                     ;         %8  PONE FUENTES DE 8x10
     238/     1F7 :                     ;         %b  PONE NEGRITA
     239/     1F7 :                     ;         %l  PONE NORMAL
     240/     1F7 :                     ;         0   FIN DE CADENA
     241/     1F7 :                     
     242/     1F7 :                     
     243/     1F7 :                     
     244/     1F7 :                     
     245/     1F7 :                     PRINTF:	
     246/     1F7 : 32 F1 02            	LD	(PRINTFPG),A
     247/     1FA : ED 53 FA 02         	LD	(CURSORY),DE
     248/     1FE : 7A                  	LD	A,D
     249/     1FF : 32 FC 02            	LD	(CURSORXI),A
     250/     202 : D9                  	EXX
     251/     203 : 21 00 00            	LD	HL,0
     252/     206 : 39                  	ADD	HL,SP
     253/     207 : E5                  	PUSH	HL
     254/     208 : D9                  	EXX
     255/     209 : D1                  	POP	DE
     256/     20A : 13                  	INC	DE
     257/     20B : 13                  	INC	DE
     258/     20C :                     
     259/     20C : 7E                  PRINTFB:	LD	A,(HL)
     260/     20D : 23                  	INC	HL
     261/     20E : FE 25               	CP	'%'	;INDICADR DE FORMATO"
     262/     210 : 28 25               	JR	Z,PRINTFF
     263/     212 :                     
     264/     212 : FE 00               	CP	0	;FIN DE CADENA
     265/     214 : C8                  	RET	Z
     266/     215 :                     
     267/     215 : E5                  	PUSH	HL
     268/     216 : D5                  	PUSH	DE
     269/     217 : 32 F8 02            	LD	(PRINTFC),A
     270/     21A : 3A F1 02            	LD	A,(PRINTFPG)
     271/     21D : 47                  	LD	B,A
     272/     21E : ED 5B FA 02         	LD	DE,(CURSORY)
     273/     222 : 21 F8 02            	LD	HL,PRINTFC
     274/     225 : CD 51 0A            	CALL	PRINT_TEXT
     275/     228 :                     
     276/     228 : 3A FB 02            	LD	A,(CURSORX)
     277/     22B : 5F                  	LD	E,A
     278/     22C : 3A A8 0A            	LD	A,(PRINT_TSP)
     279/     22F : 83                  	ADD	A,E
     280/     230 : 32 FB 02            	LD	(CURSORX),A
     281/     233 :                     
     282/     233 : D1                  	POP	DE
     283/     234 : E1                  	POP	HL
     284/     235 : 18 D5               	JR	PRINTFB
     285/     237 :                     
     286/     237 :                     
     287/     237 :                     
     288/     237 : 7E                  PRINTFF	LD	A,(HL)
     289/     238 : 23                  	INC	HL
     290/     239 : FE 64               	CP	'd'
     291/     23B : 20 43               	JR	NZ,PRINTFF1	;ES UN NUMERO CON
     292/     23D :                     
     293/     23D : 08                  	EX	AF,AF'
     294/     23E : 7E                  	LD	A,(HL)	;'C' DIGITOS
     295/     23F : D6 30               	SUB	30h	;LO PASAMOS A BINARIO
 AS V1.42 Beta [Bld 28] - source file game.asm - page 15 - 8/12/2011 20:51:50


     296/     241 : 4F                  	LD	C,A
     297/     242 : 08                  	EX	AF,AF'
     298/     243 : 23                  	INC	HL
     299/     244 : 7E                  	LD	A,(HL)
     300/     245 : 06 00               	LD	B,0
     301/     247 : FE 62               	CP	'b'
     302/     249 : 20 03               	JR	NZ,PRINTFFG
     303/     24B : 06 01               	LD	B,1
     304/     24D : 23                  	INC	HL
     305/     24E :                     
     306/     24E : E5                  PRINTFFG	PUSH	HL
     307/     24F : 1A                  	LD	A,(DE)
     308/     250 : 6F                  	LD	L,A
     309/     251 : 13                  	INC	DE
     310/     252 : 1A                  	LD	A,(DE)
     311/     253 : 13                  	INC	DE
     312/     254 : 67                  	LD	H,A
     313/     255 : D5                  	PUSH	DE
     314/     256 : C5                  	PUSH	BC
     315/     257 : 11 F2 02            	LD	DE,PRINTFSA
     316/     25A : CD 7E 01            	CALL	BNSTR
     317/     25D :                     
     318/     25D : 3A F1 02            	LD	A,(PRINTFPG)
     319/     260 : 47                  	LD	B,A
     320/     261 : ED 5B FA 02         	LD	DE,(CURSORY)
     321/     265 : 21 F2 02            	LD	HL,PRINTFSA
     322/     268 : CD 51 0A            	CALL	PRINT_TEXT
     323/     26B :                     
     324/     26B : D1                  	POP	DE
     325/     26C : 2A A8 0A            	LD	HL,(PRINT_TSP)
     326/     26F : 16 00               	LD	D,0
     327/     271 : 62                  	LD	H,D
     328/     272 : CD 88 12            	CALL	MULTHLDE
     329/     275 : 3A FB 02            	LD	A,(CURSORX)
     330/     278 : 85                  	ADD	A,L
     331/     279 : 32 FB 02            	LD	(CURSORX),A
     332/     27C :                     
     333/     27C : D1                  	POP	DE
     334/     27D : E1                  	POP	HL
     335/     27E : 18 8C               	JR	PRINTFB
     336/     280 :                     
     337/     280 :                     
     338/     280 : FE 73               PRINTFF1:	CP	's'	;UNA CADENA
     339/     282 : 20 2D               	JR	NZ,PRINTFF2
     340/     284 : E5                  	PUSH	HL
     341/     285 : 1A                  	LD	A,(DE)
     342/     286 : 6F                  	LD	L,A
     343/     287 : 13                  	INC	DE
     344/     288 : 1A                  	LD	A,(DE)
     345/     289 : 67                  	LD	H,A
     346/     28A : 13                  	INC	DE
     347/     28B : D5                  	PUSH	DE
     348/     28C :                     
     349/     28C :                     
     350/     28C : E5                  	PUSH	HL
     351/     28D : 3A F1 02            	LD	A,(PRINTFPG)
     352/     290 : 47                  	LD	B,A
     353/     291 : ED 5B FA 02         	LD	DE,(CURSORY)
     354/     295 : CD 51 0A            	CALL	PRINT_TEXT
     355/     298 : E1                  	POP	HL	;AHORA HAY QUE CALCULAR EL TAMGNO  DE (HL)
 AS V1.42 Beta [Bld 28] - source file game.asm - page 16 - 8/12/2011 20:51:50


     356/     299 :                     
     357/     299 : CD FD 02            	CALL	STRLEN
     358/     29C : 5F                  	LD	E,A
     359/     29D : 16 00               	LD	D,0
     360/     29F : 21 09 00            	LD	HL,9
     361/     2A2 : CD 88 12            	CALL	MULTHLDE
     362/     2A5 : 3A FB 02            	LD	A,(CURSORX)
     363/     2A8 : 85                  	ADD	A,L
     364/     2A9 : 32 FB 02            	LD	(CURSORX),A
     365/     2AC :                     
     366/     2AC : D1                  	POP	DE
     367/     2AD : E1                  	POP	HL
     368/     2AE : C3 0C 02            	JP	PRINTFB
     369/     2B1 :                     
     370/     2B1 :                     
     371/     2B1 : FE 34               PRINTFF2:	CP	'4'
     372/     2B3 : 20 08               	JR	NZ,PRINTFF3
     373/     2B5 : 3E 01               	LD	A,1
     374/     2B7 : CD 9B 0C            	CALL	CHG_FONTS
     375/     2BA : C3 0C 02            	JP	PRINTFB
     376/     2BD :                     
     377/     2BD : FE 38               PRINTFF3:	CP	'8'
     378/     2BF : 20 07               	JR	NZ,PRINTFF4
     379/     2C1 : AF                  	XOR	A
     380/     2C2 : CD 9B 0C            	CALL	CHG_FONTS
     381/     2C5 : C3 0C 02            	JP	PRINTFB
     382/     2C8 :                     
     383/     2C8 : FE 6C               PRINTFF4	CP	'l'
     384/     2CA : 20 08               	JR	NZ,PRINTFF5
     385/     2CC : 3E 98               	LD	A,98h
     386/     2CE : 32 A7 0A            	LD	(PRINT_TTYPE),A
     387/     2D1 : C3 0C 02            	JP	PRINTFB
     388/     2D4 :                     
     389/     2D4 : FE 62               PRINTFF5	CP	'b'
     390/     2D6 : 20 08               	JR	NZ,PRINTFF6
     391/     2D8 : 3E 9B               	LD	A,9Bh
     392/     2DA : 32 A7 0A            	LD	(PRINT_TTYPE),A
     393/     2DD : C3 0C 02            	JP	PRINTFB
     394/     2E0 :                     
     395/     2E0 :                     
     396/     2E0 :                     
     397/     2E0 : 3A FA 02            PRINTFF6:	LD	A,(CURSORY)	;SALTO DE LINEA
     398/     2E3 : C6 0A               PRINT_TSY	ADD	A,10
     399/     2E5 : 32 FA 02            	LD	(CURSORY),A
     400/     2E8 : 3A FC 02            	LD	A,(CURSORXI)
     401/     2EB : 32 FB 02            	LD	(CURSORX),A
     402/     2EE : C3 0C 02            	JP	PRINTFB
     403/     2F1 :                     
     404/     2F1 : 00                  PRINTFPG:	DB	0
     405/     2F2 :                     PRINTFSA:	DS	6
     406/     2F8 : 00 00               PRINTFC:	DB	0,0
     407/     2FA : 00                  CURSORY:	DB	0
     408/     2FB : 00                  CURSORX:	DB	0
     409/     2FC : 00                  CURSORXI:	DB	0
     410/     2FD :                     
     411/     2FD :                     
     412/     2FD :                     
     413/     2FD :                     ;NOMBRE: STRLEN
     414/     2FD :                     ;OBJETIVO: CONTAR LOS ELEMENTOS DE UNA  CADENA
     415/     2FD :                     ;ENTRADA: HL -> PUNTERO A LA CADENA
 AS V1.42 Beta [Bld 28] - source file game.asm - page 17 - 8/12/2011 20:51:50


     416/     2FD :                     ;SALIDA: A -> TAMAGNO DE LA CADENA
     417/     2FD :                     
     418/     2FD :                     
     419/     2FD :                     
     420/     2FD : 06 00               STRLEN:	LD	B,0
     421/     2FF : 7E                  STRLEN1:	LD	A,(HL)
     422/     300 : FE 00               	CP	0
     423/     302 : 28 04               	JR	Z,STRLEN2
     424/     304 : 04                  	INC	B
     425/     305 : 23                  	INC	HL
     426/     306 : 18 F7               	JR	STRLEN1
     427/     308 :                     
     428/     308 : 78                  STRLEN2:	LD	A,B
     429/     309 : C9                  	RET
     430/     30A :                     
     431/     30A :                     
     432/     30A :                     
     433/     30A :                     
     434/     30A :                     
     435/     30A :                     
     436/     30A :                     ; AQUI ES NECESARIO SINCROONIZAR!!!!!!!!!!!!!
     437/     30A :                     ;NOMBRE: OPEN_WIN
     438/     30A :                     ;OBJETIVO: SUBIR LA VENTANA A LA VEZ QUE SE ENCARGA DE COPIAR EL CONTENIDO DE LA PAGINA NO VISIBLE
     439/     30A :                     
     440/     30A : 3A A7 14            OPEN_WIN:	LD	A,(SINCRO)
     441/     30D : B7                  	OR	A
     442/     30E : 20 FA               	JR	NZ,OPEN_WIN
     443/     310 :                     
     444/     310 : 3E 05               	LD	A,5	;INICIAMOS EL TAMAGNO DE LA PERSIANA
     445/     312 : 32 0B 07            	LD	(UP_CORT_ALT1),A
     446/     315 : 32 0C 07            	LD	(UP_CORT_ALT2),A
     447/     318 : 3E 4A               	LD	A,74
     448/     31A : 32 0D 07            	LD	(UP_CORT_INI1),A	;Y EL INICIO
     449/     31D : 3E 4F               	LD	A,79
     450/     31F : 32 7D 03            	LD	(SHOWP_D1+2),A
     451/     322 : 32 81 03            	LD	(SHOWP_D1+6),A
     452/     325 : 3E 55               	LD	A,85
     453/     327 : 32 0E 07            	LD	(UP_CORT_INI2),A
     454/     32A : 3E 50               	LD	A,80
     455/     32C : 32 8C 03            	LD	(SHOWP_D2+2),A
     456/     32F : 32 90 03            	LD	(SHOWP_D2+6),A
     457/     332 :                     
     458/     332 : 3A 8A 14            	LD	A,(PAG_NACT)	;ADEMAS DE LAS PAGINAS ORIGENN Y DESTINO
     459/     335 : 32 7E 03            	LD	(SHOWP_D1+3),A
     460/     338 : 32 8D 03            	LD	(SHOWP_D2+3),A
     461/     33B : 3A 89 14            	LD	A,(PAG_ACT)
     462/     33E : 32 82 03            	LD	(SHOWP_D1+7),A
     463/     341 : 32 91 03            	LD	(SHOWP_D2+7),A
     464/     344 :                     
     465/     344 : 06 3C               	LD	B,3Ch
     466/     346 : C5                  SHOW_PJ4	PUSH	BC
     467/     347 : 01 01 01            	LD	BC,0101h
     468/     34A : CD 78 06            	CALL	UP_CORTINA
     469/     34D :                     
     470/     34D : CD 1B 36            	CALL	WAIT_COM
     471/     350 : 21 7B 03            	LD	HL,SHOWP_D1	;EL COPY  DE  LA QUE BAJA
     472/     353 : CD 46 33            	CALL	COPYVRAM
     473/     356 :                     
     474/     356 : CD 1B 36            	CALL	WAIT_COM
     475/     359 : 21 8A 03            	LD	HL,SHOWP_D2	;EL COPY  DE LA QUE SUBE
 AS V1.42 Beta [Bld 28] - source file game.asm - page 18 - 8/12/2011 20:51:50


     476/     35C : CD 46 33            	CALL	COPYVRAM
     477/     35F :                     
     478/     35F : 21 7D 03            	LD	HL,SHOWP_D1+2	;PASAMOS A ACTUALIZAR LOS PUNTEROS
     479/     362 : 35                  	DEC	(HL)
     480/     363 : 21 81 03            	LD	HL,SHOWP_D1+6
     481/     366 : 35                  	DEC	(HL)
     482/     367 :                     
     483/     367 : 21 8C 03            	LD	HL,SHOWP_D2+2	;TANTO  DE LOS COPYS COMMO DE LA  CORTINA
     484/     36A : 34                  	INC	(HL)
     485/     36B : 21 90 03            	LD	HL,SHOWP_D2+6
     486/     36E : 34                  	INC	(HL)
     487/     36F :                     
     488/     36F : 21 0D 07            	LD	HL,UP_CORT_INI1
     489/     372 : 35                  	DEC	(HL)	;LA QUE SUBE
     490/     373 : 21 0E 07            	LD	HL,UP_CORT_INI2
     491/     376 : 34                  	INC	(HL)	;LA QUE  BAJA
     492/     377 : C1                  	POP	BC
     493/     378 : 10 CC               	DJNZ	SHOW_PJ4
     494/     37A : C9                  	RET
     495/     37B :                     
     496/     37B :                     
     497/     37B :                     
     498/     37B :                     
     499/     37B :                     
     500/     37B : 10 00 00 00 10 00   SHOWP_D1:	DB	OFF_PANTX,0,0,0, OFF_PANTX,0,0,0, NUMPATX*8,0,1,0,0,0,0D0h
                    00 00 E0 00 01 00 
                    00 00 D0 
     501/     38A : 10 00 00 00 10 00   SHOWP_D2:	DB	OFF_PANTX,0,0,0, OFF_PANTX,0,0,0, NUMPATX*8,0,1,0,0,0,0D0h
                    00 00 E0 00 01 00 
                    00 00 D0 
     502/     399 :                     
     503/     399 :                     
     504/     399 :                     
     505/     399 :                     
     506/     399 :                     
     507/     399 :                     
     508/     399 :                     
     509/     399 :                     
     510/     399 :                     
     511/     399 :                     
     512/     399 :                     
     513/     399 :                     
     514/     399 :                     ;NOMBRE: WRITE_PNA_C
     515/     399 :                     ;OBJETIVO: ESCRIBIR EN LA PAGINA OCULTA HACIENDO UN COPY PARA ELLO
     516/     399 :                     
     517/     399 :                     
     518/     399 : 21 70 04            WRITE_PNA_C:	LD	HL,CRUZ_Y
     519/     39C : CD 9D 04            	CALL	MOVE_XX
     520/     39F : 3A 71 04            	LD	A,(CRUZ_X)
     521/     3A2 : 32 24 04            	LD	(GEST_DATAP+4),A
     522/     3A5 : 32 11 04            	LD	(GEST_DATAS),A
     523/     3A8 :                     
     524/     3A8 : 3A 70 04            	LD	A,(CRUZ_Y)
     525/     3AB : 32 26 04            	LD	(GEST_DATAP+6),A
     526/     3AE : 32 13 04            	LD	(GEST_DATAS+2),A
     527/     3B1 : 3A 8A 14            	LD	A,(PAG_NACT)
     528/     3B4 : 32 27 04            	LD	(GEST_DATAP+7),A
     529/     3B7 : 32 14 04            	LD	(GEST_DATAS+3),A
     530/     3BA :                     
     531/     3BA : 3E 02               	LD	A,PAG_OBJETOS
 AS V1.42 Beta [Bld 28] - source file game.asm - page 19 - 8/12/2011 20:51:50


     532/     3BC : 32 18 04            	LD	(GEST_DATAS+7),A
     533/     3BF :                     
     534/     3BF :                     
     535/     3BF : 2A 6A 04            	LD	HL,(FONDO_NACT)
     536/     3C2 : 7D                  	LD	A,L
     537/     3C3 : 32 15 04            	LD	(GEST_DATAS+4),A
     538/     3C6 : 7C                  	LD	A,H
     539/     3C7 : 32 17 04            	LD	(GEST_DATAS+6),A
     540/     3CA :                     
     541/     3CA :                     
     542/     3CA : 21 11 04            	LD	HL,GEST_DATAS
     543/     3CD : CD 1B 36            	CALL	WAIT_COM
     544/     3D0 : CD 46 33            	CALL	COPYVRAM
     545/     3D3 : 21 20 04            	LD	HL,GEST_DATAP
     546/     3D6 : CD 1B 36            	CALL	WAIT_COM
     547/     3D9 : CD 46 33            	CALL	COPYVRAM
     548/     3DC : C9                  	RET
     549/     3DD :                     
     550/     3DD :                     
     551/     3DD :                     ;NOMBRE: ERASE_PNA_C
     552/     3DD :                     ;OBJETIVO: BORRAR LOS PERSONAJES QUE SE ENCUENTRAN EN LA PAGINA OCULTA
     553/     3DD :                     
     554/     3DD : 3A A7 14            ERASE_PNA_C	LD	A,(SINCRO)
     555/     3E0 : B7                  	OR	A
     556/     3E1 : 20 FA               	JR	NZ,ERASE_PNA_C
     557/     3E3 :                     
     558/     3E3 :                     
     559/     3E3 : 3A 6B 04            	LD	A,(FONDO_NACT+1)
     560/     3E6 : 32 31 04            	LD	(GEST_DATAR+2),A
     561/     3E9 : 3A 6A 04            	LD	A,(FONDO_NACT)
     562/     3EC : 32 2F 04            	LD	(GEST_DATAR+0),A
     563/     3EF :                     
     564/     3EF : 3A 3E 04            	LD	A,(COOR_Y_NA)
     565/     3F2 : 32 35 04            	LD	(GEST_DATAR+6),A
     566/     3F5 : 3A 3F 04            	LD	A,(COOR_Y_NA+1)
     567/     3F8 : 32 33 04            	LD	(GEST_DATAR+4),A
     568/     3FB : 3A 8A 14            	LD	A,(PAG_NACT)
     569/     3FE : 32 36 04            	LD	(GEST_DATAR+7),A
     570/     401 : 21 2F 04            	LD	HL,GEST_DATAR
     571/     404 : CD 1B 36            	CALL	WAIT_COM
     572/     407 : CD 46 33            	CALL	COPYVRAM
     573/     40A : 2A 70 04            	LD	HL,(CRUZ_Y)
     574/     40D : 22 3E 04            	LD	(COOR_Y_NA),HL
     575/     410 : C9                  	RET
     576/     411 :                     
     577/     411 :                     
     578/     411 :                     
     579/     411 :                     
     580/     411 :                     
     581/     411 :                     
     582/     411 :                     
     583/     411 : 00 00 00 00 00 00   GEST_DATAS:	DB	0,0,0,0, 0,0,0,PAG_OBJETOS,18,0,34,0,0,0,0D0h
                    00 02 12 00 22 00 
                    00 00 D0 
     584/     420 : 00 00 00 02 00 00   GEST_DATAP:	DB	0,0,0,PAG_OBJETOS,0,0,0,0,16,0,16,0,0,0,98h
                    00 00 10 00 10 00 
                    00 00 98 
     585/     42F : 00 00 00 02 00 00   GEST_DATAR:	DB	0,0,0,PAG_OBJETOS,0,0,0,0,18,0,16,0,0,0,0D0h
                    00 00 12 00 10 00 
                    00 00 D0 
 AS V1.42 Beta [Bld 28] - source file game.asm - page 20 - 8/12/2011 20:51:50


     586/     43E :                     
     587/     43E :                     
     588/     43E :                     
     589/     43E :                     
     590/     43E :                     
     591/     43E : 00                  COOR_Y_NA:	DB	0
     592/     43F : 00                  	DB	0
     593/     440 :                     
     594/     440 :                     
     595/     440 :                     
     596/     440 :                     
     597/     440 :                     ;NOMBRE: SWAP_PAGE_C
     598/     440 :                     ;OBJETIVO: ESTA FUNCION SE ENCARGA DE CAMBIAR PAGINAS EN EL MODO SIMPLE
     599/     440 :                     
     600/     440 :                     
     601/     440 : 3A 89 14            SWAP_PAGE_C:	LD	A,(PAG_ACT)
     602/     443 : 47                  	LD	B,A
     603/     444 : 3A 8A 14            	LD	A,(PAG_NACT)
     604/     447 : 32 89 14            	LD	(PAG_ACT),A
     605/     44A : 78                  	LD	A,B
     606/     44B : 32 8A 14            	LD	(PAG_NACT),A
     607/     44E :                     
     608/     44E : 2A 68 04            	LD	HL,(FONDO_ACT)
     609/     451 : ED 5B 6A 04         	LD	DE,(FONDO_NACT)
     610/     455 : ED 53 68 04         	LD	(FONDO_ACT),DE
     611/     459 : 22 6A 04            	LD	(FONDO_NACT),HL
     612/     45C : F3                  	DI
     613/     45D : 3E 01               	LD	A,1
     614/     45F : 32 A7 14            	LD	(SINCRO),A
     615/     462 : 3D                  	DEC	A
     616/     463 : 32 56 2B            	LD	(TIME_),A
     617/     466 : FB                  	EI
     618/     467 : C9                  	RET
     619/     468 :                     
     620/     468 :                     
     621/     468 : DE 96               FONDO_ACT:	DB	222,150
     622/     46A : DE B8               FONDO_NACT:	DB	222,184
     623/     46C : 00 00               INV_ACT:	DW	0
     624/     46E : 00 00               EQUIPO_ACT:	DW	0
     625/     470 : 00                  CRUZ_Y:	DB	0
     626/     471 : 00                  CRUZ_X:	DB	0
     627/     472 :                     
     628/     472 :                     
     629/     472 :                     ;NOMBRE:  CHECK_CINV
     630/     472 :                     ;OBJETIVO: CHEQUEAR SI SE HA PULSADO SOBRE UNA CASILLA
     631/     472 :                     ;ENTRADA:  H -> COORDENADA X
     632/     472 :                     ;          L -> COORDENADA Y
     633/     472 :                     ;SALIDA: A -> NUMERO DE CASILLA PULSADA (1-22)
     634/     472 :                     ;        DE -> EN CASO DE QUE A SEA != 0 APUNTA A LAS COORDENADAS DE LA CASILLA
     635/     472 :                     
     636/     472 :                     
     637/     472 : 11 E7 1C            CHECK_CINV:	LD	DE,SHOWINVB
     638/     475 :                     
     639/     475 : 06 17               	LD	B,23
     640/     477 : 0E 00               	LD	C,0
     641/     479 : 1A                  CHECK_CIB	LD	A,(DE)
     642/     47A : 13                  	INC	DE
     643/     47B : 94                  	SUB	H
     644/     47C : F2 81 04            	JP	P,CHECK_CIX
     645/     47F : ED 44               	NEG
 AS V1.42 Beta [Bld 28] - source file game.asm - page 21 - 8/12/2011 20:51:50


     646/     481 :                     
     647/     481 :                     
     648/     481 : FE 10               CHECK_CIX	CP	16
     649/     483 : 08                  	EX	AF,AF'
     650/     484 : 1A                  	LD	A,(DE)
     651/     485 : 13                  	INC	DE
     652/     486 : 08                  	EX	AF,AF'
     653/     487 : 30 0F               	JR	NC,CHECK_CIFB
     654/     489 :                     
     655/     489 : 08                  	EX	AF,AF'
     656/     48A : 95                  	SUB	L
     657/     48B : F2 90 04            	JP	P,CHECK_CIY
     658/     48E : ED 44               	NEG
     659/     490 :                     
     660/     490 : FE 10               CHECK_CIY	CP	16
     661/     492 : 30 04               	JR	NC,CHECK_CIFB
     662/     494 : 79                  	LD	A,C
     663/     495 : 1B                  	DEC	DE
     664/     496 : 1B                  	DEC	DE
     665/     497 : C9                  	RET
     666/     498 :                     
     667/     498 :                     
     668/     498 : 0C                  CHECK_CIFB	INC	C
     669/     499 : 10 DE               	DJNZ	CHECK_CIB
     670/     49B : AF                  	XOR	A
     671/     49C : C9                  	RET
     672/     49D :                     
     673/     49D :                     
     674/     49D :                     
     675/     49D :                     ;NOMBRE: MOVE_XX
     676/     49D :                     ;OBJETIVO: FUNCION ALTERNATIVA PARA MOVIMIENTO PIXEL A PIXEL.
     677/     49D :                     ;ENTRADA: HL-> PUNTERO A LAS COORDENADAS
     678/     49D :                     
     679/     49D :                     
     680/     49D :                     MOVE_XX:	
     681/     49D : CD BC 2B            	CALL	GET_DIR
     682/     4A0 : 3A 9E 14            	LD	A,(DIR_ACTUAL)
     683/     4A3 : FE 80               	CP	80h
     684/     4A5 : C8                  	RET	Z
     685/     4A6 : ED 5B 70 04         	LD	DE,(CRUZ_Y)
     686/     4AA :                     
     687/     4AA :                     ;               LD      A,(HL)
     688/     4AA :                     ;               INC     HL
     689/     4AA :                     ;               LD      H,(HL)
     690/     4AA :                     ;               LD      L,A
     691/     4AA :                     
     692/     4AA : FE 02               	CP	ARRIBA
     693/     4AC : 20 04               	JR	NZ,MOVE_XSPAB
     694/     4AE : 1D                  	DEC	E
     695/     4AF : 1D                  	DEC	E
     696/     4B0 : 18 3D               	JR	MOVE_XSPR
     697/     4B2 :                     
     698/     4B2 : FE 03               MOVE_XSPAB	CP	ABAJO
     699/     4B4 : 20 04               	JR	NZ,MOVE_XSPDE
     700/     4B6 : 1C                  	INC	E
     701/     4B7 : 1C                  	INC	E
     702/     4B8 : 18 35               	JR	MOVE_XSPR
     703/     4BA :                     
     704/     4BA : FE 00               MOVE_XSPDE	CP	DERECHA
     705/     4BC : 20 04               	JR	NZ,MOVE_XSPIZ
 AS V1.42 Beta [Bld 28] - source file game.asm - page 22 - 8/12/2011 20:51:50


     706/     4BE : 14                  	INC	D
     707/     4BF : 14                  	INC	D
     708/     4C0 : 18 2D               	JR	MOVE_XSPR
     709/     4C2 :                     
     710/     4C2 : FE 01               MOVE_XSPIZ	CP	IZQUIERDA
     711/     4C4 : 20 04               	JR	NZ,MOVE_XSPDAB
     712/     4C6 : 15                  	DEC	D
     713/     4C7 : 15                  	DEC	D
     714/     4C8 : 18 25               	JR	MOVE_XSPR
     715/     4CA :                     
     716/     4CA : FE 04               MOVE_XSPDAB	CP	ABA_DER
     717/     4CC : 20 06               	JR	NZ,MOVE_XSPIAB
     718/     4CE : 1C                  	INC	E
     719/     4CF : 14                  	INC	D
     720/     4D0 : 1C                  	INC	E
     721/     4D1 : 14                  	INC	D
     722/     4D2 : 18 1B               	JR	MOVE_XSPR
     723/     4D4 :                     
     724/     4D4 : FE 05               MOVE_XSPIAB	CP	ABA_IZQ
     725/     4D6 : 20 06               	JR	NZ,MOVE_XSPDAR
     726/     4D8 : 1C                  	INC	E
     727/     4D9 : 15                  	DEC	D
     728/     4DA : 1C                  	INC	E
     729/     4DB : 15                  	DEC	D
     730/     4DC : 18 11               	JR	MOVE_XSPR
     731/     4DE :                     
     732/     4DE : FE 06               MOVE_XSPDAR	CP	ARR_DER
     733/     4E0 : 20 06               	JR	NZ,MOVE_XSPIAR
     734/     4E2 : 1D                  	DEC	E
     735/     4E3 : 14                  	INC	D
     736/     4E4 : 1D                  	DEC	E
     737/     4E5 : 14                  	INC	D
     738/     4E6 : 18 07               	JR	MOVE_XSPR
     739/     4E8 :                     
     740/     4E8 : FE 07               MOVE_XSPIAR	CP	ARR_IZQ
     741/     4EA : C0                  	RET	NZ
     742/     4EB : 1D                  	DEC	E
     743/     4EC : 15                  	DEC	D
     744/     4ED : 1D                  	DEC	E
     745/     4EE : 15                  	DEC	D
     746/     4EF :                     
     747/     4EF : 18 1C               MOVE_XSPR	JR	XMOVE4
     748/     4F1 :                     
     749/     4F1 : 7A                  	LD	A,D
     750/     4F2 : FE 7B               	CP	OFF_PANTY+((NUMPATY-2)*8)-1
     751/     4F4 : 20 03               	JR	NZ,XMOVE1	;AQUI HABRIA QUE LLAMAR A LA RUTINA DE
     752/     4F6 : 54                  	LD	D,H	;DE SCROLL
     753/     4F7 : 18 06               	JR	XMOVE2
     754/     4F9 :                     
     755/     4F9 : 7A                  XMOVE1	LD	A,D
     756/     4FA : FE 15               	CP	OFF_PANTY+1
     757/     4FC : 20 01               	JR	NZ,XMOVE2
     758/     4FE : 54                  	LD	D,H
     759/     4FF :                     
     760/     4FF :                     
     761/     4FF : 7B                  XMOVE2	LD	A,E
     762/     500 : FE DF               	CP	OFF_PANTX+((NUMPATX-2)*8)-1
     763/     502 : 20 03               	JR	NZ,XMOVE3
     764/     504 : 5D                  	LD	E,L
     765/     505 : 18 06               	JR	XMOVE4
 AS V1.42 Beta [Bld 28] - source file game.asm - page 23 - 8/12/2011 20:51:50


     766/     507 :                     
     767/     507 :                     
     768/     507 : 7B                  XMOVE3	LD	A,E
     769/     508 : FE 11               	CP	OFF_PANTX+1
     770/     50A : 20 01               	JR	NZ,XMOVE4
     771/     50C : 5D                  	LD	E,L
     772/     50D :                     
     773/     50D :                     
     774/     50D : ED 53 70 04         XMOVE4	LD	(CRUZ_Y),DE
     775/     511 : C9                  	RET
     776/     512 :                     
     777/     512 :                     
     778/     512 :                     
     779/     512 :                     
     780/     512 :                     
     781/     512 :                     
     782/     512 :                     
     783/     512 :                     
     784/     512 :                     
     785/     512 :                     
     786/     512 :                     ;NOMBRE: MAKE_PJ
     787/     512 :                     ;OBJETIVO: MOSTRAR EL MENU DE SELECCION DEL PERSONAJE Y GESTIONAR LAS
     788/     512 :                     ;ENTRADA: C -> NUMERO DE PERSONAJE
     789/     512 :                     
     790/     512 :                     
     791/     512 : 79                  MAKE_PJ:	LD	A,C
     792/     513 : 32 39 05            	LD	(MAKE_PJPER),A
     793/     516 : CD CD 05            	CALL	SHOW_OPC
     794/     519 :                     
     795/     519 : CD 3B 05            MAKE_PJ_W	CALL	SEL_OPC_PJ
     796/     51C :                     
     797/     51C : F5                  	PUSH	AF
     798/     51D : CD 6C 06            	CALL	HIDE_CUAD
     799/     520 : CD 97 05            	CALL	HIDE_OPC
     800/     523 : F1                  	POP	AF
     801/     524 :                     
     802/     524 : B7                  	OR	A	;SELECCION DE ANDAR
     803/     525 : 20 04               	JR	NZ,MAKE_PJ_AT
     804/     527 : CD D4 1E            	CALL	DO_WAY_PER
     805/     52A : C9                  	RET
     806/     52B :                     
     807/     52B :                     
     808/     52B :                     MAKE_PJ_AT	
     809/     52B : FE 01               	CP	1	;SELECCION DE ATACAR
     810/     52D : 20 01               	JR	NZ,MAKE_PJ_MA
     811/     52F : C9                  	RET
     812/     530 :                     
     813/     530 :                     
     814/     530 :                     MAKE_PJ_MA	
     815/     530 : FE 02               	CP	2	;SELECCION DE MAGIA
     816/     532 : 20 01               	JR	NZ,MAKE_PJ_END
     817/     534 : C9                  	RET
     818/     535 :                     
     819/     535 :                     
     820/     535 :                     
     821/     535 : C3 A5 26            MAKE_PJ_END	JP	SALIR	;SELECCION DE ACABAR
     822/     538 :                     
     823/     538 :                     
     824/     538 : C9                  	RET
     825/     539 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm - page 24 - 8/12/2011 20:51:50


     826/     539 : 00                  MAKE_PJPER:	DB	0
     827/     53A : 00                  MAKE_PJOPC:	DB	0
     828/     53B :                     
     829/     53B :                     
     830/     53B :                     
     831/     53B :                     ;NOMBRE: SEL_OPC_PJ
     832/     53B :                     ;OBJETIVO: GESTIONAR LA SELECCION DE OPCION POR PARTE DEL PJ
     833/     53B :                     
     834/     53B :                     
     835/     53B :                     
     836/     53B : 3A 91 05            SEL_OPC_PJ:	LD	A,(SEL_OPC_CONT)
     837/     53E : 16 00               	LD	D,0
     838/     540 : 5F                  	LD	E,A
     839/     541 : 21 92 05            	LD	HL,SEL_OPC_TB
     840/     544 : 19                  	ADD	HL,DE
     841/     545 : 7E                  	LD	A,(HL)
     842/     546 :                     
     843/     546 : 06 04               	LD	B,4
     844/     548 : 0E FF               	LD	C,SPRITE_CUAD-1
     845/     54A : 0C                  SEL_OPC_PJ1	INC	C
     846/     54B : F5                  	PUSH	AF
     847/     54C : C5                  	PUSH	BC
     848/     54D : 06 01               	LD	B,1
     849/     54F : 57                  	LD	D,A
     850/     550 : 1E 81               	LD	E,129
     851/     552 : CD C4 33            	CALL	GOTO_SPXY
     852/     555 : C1                  	POP	BC
     853/     556 : F1                  	POP	AF
     854/     557 : C6 10               	ADD	A,16
     855/     559 : 10 EF               	DJNZ	SEL_OPC_PJ1
     856/     55B :                     
     857/     55B : CD 9D 26            	CALL	ASK_OUT
     858/     55E : CD BC 2B            	CALL	GET_DIR
     859/     561 :                     
     860/     561 : 3A 91 05            	LD	A,(SEL_OPC_CONT)
     861/     564 : 47                  	LD	B,A
     862/     565 : 3A 9E 14            	LD	A,(DIR_ACTUAL)
     863/     568 :                     
     864/     568 : FE 00               	CP	DERECHA
     865/     56A : 20 01               	JR	NZ,SEL_OPC_PJ_IZ
     866/     56C : 04                  	INC	B
     867/     56D :                     
     868/     56D : FE 01               SEL_OPC_PJ_IZ	CP	IZQUIERDA
     869/     56F : 20 01               	JR	NZ,SEL_OPC_PJ_A
     870/     571 : 05                  	DEC	B
     871/     572 :                     
     872/     572 : 78                  SEL_OPC_PJ_A	LD	A,B
     873/     573 : E6 03               	AND	3
     874/     575 : 32 91 05            	LD	(SEL_OPC_CONT),A
     875/     578 :                     
     876/     578 : 3E 0A               	LD	A,10
     877/     57A : F3                  	DI
     878/     57B : 32 56 2B            	LD	(TIME_),A
     879/     57E : FB                  	EI
     880/     57F : 3A 56 2B            SEL_OPC_PJ_W	LD	A,(TIME_)
     881/     582 : B7                  	OR	A
     882/     583 : 20 FA               	JR	NZ,SEL_OPC_PJ_W
     883/     585 :                     
     884/     585 :                     
     885/     585 : 3E 40               	LD	A,SPC_KEY
 AS V1.42 Beta [Bld 28] - source file game.asm - page 25 - 8/12/2011 20:51:50


     886/     587 : CD 8A 2C            	CALL	TEST_FUNC
     887/     58A : B7                  	OR	A
     888/     58B : 3A 91 05            	LD	A,(SEL_OPC_CONT)
     889/     58E : C0                  	RET	NZ
     890/     58F : 18 AA               	JR	SEL_OPC_PJ
     891/     591 :                     
     892/     591 :                     
     893/     591 :                     
     894/     591 : 00                  SEL_OPC_CONT:	DB	0
     895/     592 :                     
     896/     592 :                     
     897/     592 : 0C                  SEL_OPC_TB:	DB	12
     898/     593 : 44                  		DB	68
     899/     594 : 7C                  		DB	124
     900/     595 : B4                  		DB	180
     901/     596 :                     
     902/     596 : 00                  SEL_OPC_M:	DB	0
     903/     597 :                     
     904/     597 :                     
     905/     597 :                     ;NOMBRE: SHOW_OPC
     906/     597 :                     ;OBJETIVO: MOSTRAR LA BARRA DE OPCIONES DEL MODO DE EXTERIORES, ADEMAS
     907/     597 :                     ;          DE GESTIONAR EL MOVIMIENTO DEL CUADRO QUE SIRVE PARA SELECCIONAR
     908/     597 :                     ;          LAS OPCIONES
     909/     597 :                     
     910/     597 :                     
     911/     597 :                     
     912/     597 : 3A A7 14            HIDE_OPC:	LD	A,(SINCRO)
     913/     59A : B7                  	OR	A
     914/     59B : 20 FA               	JR	NZ,HIDE_OPC
     915/     59D :                     
     916/     59D : 3E 79               	LD	A,OFF_PANTY+(NUMPATY*8)-ALTO_OPT
     917/     59F : 32 44 06            	LD	(SHOW_OPCD+6),A
     918/     5A2 :                     
     919/     5A2 : 3E 10               	LD	A,OFF_PANTX
     920/     5A4 : 32 3E 06            	LD	(SHOW_OPCD+0),A
     921/     5A7 :                     
     922/     5A7 : 3A 8A 14            	LD	A,(PAG_NACT)
     923/     5AA : 32 41 06            	LD	(SHOW_OPCD+3),A
     924/     5AD :                     
     925/     5AD : 3E 79               	LD	A,OFF_PANTY+(NUMPATY*8)-ALTO_OPT
     926/     5AF : 32 40 06            	LD	(SHOW_OPCD+2),A
     927/     5B2 :                     
     928/     5B2 : 3E 91               	LD	A,OFF_PANTY+(NUMPATY*8)+5
     929/     5B4 : 32 0E 07            	LD	(UP_CORT_INI2),A
     930/     5B7 :                     
     931/     5B7 : 01 01 00            	LD	BC,1
     932/     5BA : ED 43 3B 06         	LD	(DO_OPC_PJ_BC),BC
     933/     5BE :                     
     934/     5BE :                     
     935/     5BE : 0E 19               	LD	C,6+ALTO_OPT
     936/     5C0 : 21 0C 07            	LD	HL,UP_CORT_ALT2
     937/     5C3 : 71                  	LD	(HL),C
     938/     5C4 : 06 13               	LD	B,ALTO_OPT
     939/     5C6 : 0E FF               	LD	C,-1
     940/     5C8 : 21 44 06            	LD	HL,SHOW_OPCD+6
     941/     5CB : 18 40               	JR	SHOW_OPC01
     942/     5CD :                     
     943/     5CD :                     
     944/     5CD : 3A A7 14            SHOW_OPC:	LD	A,(SINCRO)
     945/     5D0 : B7                  	OR	A
 AS V1.42 Beta [Bld 28] - source file game.asm - page 26 - 8/12/2011 20:51:50


     946/     5D1 : 20 FA               	JR	NZ,SHOW_OPC
     947/     5D3 :                     
     948/     5D3 : 3E 91               	LD	A,OFF_PANTY+(NUMPATY*8)+5
     949/     5D5 : 32 44 06            	LD	(SHOW_OPCD+6),A
     950/     5D8 :                     
     951/     5D8 : AF                  	XOR	A
     952/     5D9 : 32 3E 06            	LD	(SHOW_OPCD+0),A
     953/     5DC :                     
     954/     5DC : 3E 00               	LD	A,PAG_OPTIONS
     955/     5DE : 32 41 06            	LD	(SHOW_OPCD+3),A
     956/     5E1 :                     
     957/     5E1 : 3E D4               	LD	A,COORDY_OPT
     958/     5E3 : 32 40 06            	LD	(SHOW_OPCD+2),A
     959/     5E6 :                     
     960/     5E6 : 3E 8B               	LD	A,OFF_PANTY+(NUMPATY*8)-1
     961/     5E8 : 32 0D 07            	LD	(UP_CORT_INI1),A
     962/     5EB :                     
     963/     5EB : 01 00 01            	LD	BC,0100h
     964/     5EE : ED 43 3B 06         	LD	(DO_OPC_PJ_BC),BC
     965/     5F2 :                     
     966/     5F2 : 3E 04               	LD	A,4
     967/     5F4 : 06 03               	LD	B,3
     968/     5F6 : 32 AD 14            	LD	(WRITE_CONT),A
     969/     5F9 : C5                  SHOW_OPC0	PUSH	BC
     970/     5FA : CD B0 08            	CALL	DO_VISUAL
     971/     5FD : C1                  	POP	BC
     972/     5FE : 10 F9               	DJNZ	SHOW_OPC0
     973/     600 :                     
     974/     600 :                     
     975/     600 : 0E 06               	LD	C,6
     976/     602 : 21 0B 07            	LD	HL,UP_CORT_ALT1
     977/     605 : 71                  	LD	(HL),C
     978/     606 : 0E 01               	LD	C,1
     979/     608 : 06 13               	LD	B,ALTO_OPT
     980/     60A : 21 3D 06            	LD	HL,DO_OPC_DUMMY
     981/     60D :                     
     982/     60D :                     
     983/     60D : 3A 89 14            SHOW_OPC01	LD	A,(PAG_ACT)
     984/     610 : 32 45 06            	LD	(SHOW_OPCD+7),A
     985/     613 :                     
     986/     613 : E5                  SHOW_OPC1	PUSH	HL
     987/     614 : C5                  	PUSH	BC
     988/     615 : 21 0B 07            	LD	HL,UP_CORT_ALT1
     989/     618 : 34                  	INC	(HL)
     990/     619 : 21 0C 07            	LD	HL,UP_CORT_ALT2
     991/     61C : 35                  	DEC	(HL)
     992/     61D :                     
     993/     61D : ED 4B 3B 06         	LD	BC,(DO_OPC_PJ_BC)
     994/     621 : CD 78 06            	CALL	UP_CORTINA
     995/     624 :                     
     996/     624 : 21 3E 06            	LD	HL,SHOW_OPCD
     997/     627 : CD 1B 36            	CALL	WAIT_COM
     998/     62A : CD 46 33            	CALL	COPYVRAM
     999/     62D :                     
    1000/     62D :                     
    1001/     62D : C1                  	POP	BC
    1002/     62E : 21 40 06            	LD	HL,SHOW_OPCD+2
    1003/     631 : 34                  	INC	(HL)
    1004/     632 :                     
    1005/     632 : 21 0D 07            	LD	HL,UP_CORT_INI1
 AS V1.42 Beta [Bld 28] - source file game.asm - page 27 - 8/12/2011 20:51:50


    1006/     635 : 35                  	DEC	(HL)
    1007/     636 :                     
    1008/     636 : E1                  	POP	HL
    1009/     637 : 34                  	INC	(HL)
    1010/     638 :                     
    1011/     638 : 10 D9               	DJNZ	SHOW_OPC1
    1012/     63A : C9                  	RET
    1013/     63B :                     
    1014/     63B : 00 00               DO_OPC_PJ_BC:	DW	0
    1015/     63D : 00                  DO_OPC_DUMMY:	DB	0
    1016/     63E :                     
    1017/     63E : 00 00 D4 00         SHOW_OPCD:	DB	0,0,COORDY_OPT,PAG_OPTIONS
    1018/     642 : 10 00 00 00         		DB	OFF_PANTX,0,0,0
    1019/     646 : E0 00 01 00 00 00   		DB	256-(2*OFF_PANTX),0,1,0,0,0,0D0h
                    D0 
    1020/     64D :                     
    1021/     64D :                     
    1022/     64D :                     
    1023/     64D :                     ;NOMBRE: INIT_CUAD
    1024/     64D :                     ;OBJETIVO: INICIALIZAR EL CUADRADO DE SELECCION
    1025/     64D :                     
    1026/     64D :                     
    1027/     64D :                     
    1028/     64D : 21 5F 3B            INIT_CUAD:	LD	HL,CUADSP1
    1029/     650 : 11 DF 3B            	LD	DE,CUADSPC1
    1030/     653 : 3E 00               	LD	A,SPRITE_CUAD
    1031/     655 : 0E 00               	LD	C,PATTERN_CUAD
    1032/     657 : 06 02               	LD	B,2
    1033/     659 : CD F7 33            	CALL	INITP16x16
    1034/     65C :                     
    1035/     65C : 21 7F 3B            	LD	HL,CUADSP2
    1036/     65F : 11 DF 3B            	LD	DE,CUADSPC1
    1037/     662 : 3E 02               	LD	A,SPRITE_CUAD+2
    1038/     664 : 0E 08               	LD	C,PATTERN_CUAD+8
    1039/     666 : 06 02               	LD	B,2
    1040/     668 : CD F7 33            	CALL	INITP16x16
    1041/     66B : C9                  	RET
    1042/     66C :                     
    1043/     66C :                     
    1044/     66C :                     ;NOMBRE: HIDE_CUAD
    1045/     66C :                     ;OBJETIVO: INICIALIZAR EL CUADRADO DE SELECCION
    1046/     66C :                     
    1047/     66C :                     
    1048/     66C : 0E 00               HIDE_CUAD:	LD	C,SPRITE_CUAD
    1049/     66E : 06 04               	LD	B,4
    1050/     670 : 16 FF               	LD	D,255
    1051/     672 : 1E FF               	LD	E,255
    1052/     674 : CD C4 33            	CALL	GOTO_SPXY
    1053/     677 : C9                  	RET
    1054/     678 :                     
    1055/     678 :                     
    1056/     678 :                     
    1057/     678 :                     ;NOMBRE: UP_CORTINA
    1058/     678 :                     ;OBJETIVO: SUBIR LA PERSIANA DE ABAJO LO QUE SE INDIQUE EN LA PAGINA ACTUAL
    1059/     678 :                     ;ENTRADA: B -> NUMERO DE LINEAS QUE SUBE LA CORTINA DE ABAJO
    1060/     678 :                     ;         C -> NUMERO DE LINEAS QUE BAJA LA CORTINA DE ARRIBA
    1061/     678 :                     ;         UP_CORT_INI1 -> Y DE ORIGEN DE LA CORTINA DE ABAJO
    1062/     678 :                     ;         UP_CORT_INI2 -> Y DE ORIGEN DE LA CORTINA DE ARRIBA
    1063/     678 :                     ;         UP_CORT_ALT1 -> ALTURA DE LA CORTINA DE ABAJO
    1064/     678 :                     ;         UP_CORT_ALT2 -> ALTURA DE LA CORTINA DE ARRIBA
 AS V1.42 Beta [Bld 28] - source file game.asm - page 28 - 8/12/2011 20:51:50


    1065/     678 :                     ;ES POSIBLE QUE SE PUEDA USAR INCLUSO PARA LO CONTRARIO, TAN SOLO HABRIA
    1066/     678 :                     ;QUE MODIFICAR LOS VALORES INICIALES. PARA CERRAR LA PERSIANA ENTERA HAY QUE
    1067/     678 :                     ;PASARLE $3C3C
    1068/     678 :                     
    1069/     678 :                     
    1070/     678 : 3A A7 14            UP_CORTINA:	LD	A,(SINCRO)
    1071/     67B : B7                  	OR	A
    1072/     67C : 20 FA               	JR	NZ,UP_CORTINA
    1073/     67E :                     
    1074/     67E : C5                  	PUSH	BC
    1075/     67F : CD B6 35            	CALL	SPD_OFF
    1076/     682 : C1                  	POP	BC
    1077/     683 :                     
    1078/     683 : 3A 0D 07            	LD	A,(UP_CORT_INI1)
    1079/     686 : 32 13 07            	LD	(UP_CORTINAD1+2),A
    1080/     689 : 3A 89 14            	LD	A,(PAG_ACT)
    1081/     68C : 32 18 07            	LD	(UP_CORTINAD1+7),A
    1082/     68F : 32 27 07            	LD	(UP_CORTINAD2+7),A
    1083/     692 : 32 14 07            	LD	(UP_CORTINAD1+3),A
    1084/     695 : 32 23 07            	LD	(UP_CORTINAD2+3),A
    1085/     698 :                     
    1086/     698 :                     
    1087/     698 : 3A 0E 07            	LD	A,(UP_CORT_INI2)
    1088/     69B : 32 22 07            	LD	(UP_CORTINAD2+2),A
    1089/     69E :                     
    1090/     69E :                     
    1091/     69E : 78                  UP_CORTINA1	LD	A,B
    1092/     69F : B7                  	OR	A
    1093/     6A0 : 28 2F               	JR	Z,UP_CORTINA2
    1094/     6A2 :                     
    1095/     6A2 : 3A 13 07            	LD	A,(UP_CORTINAD1+2)
    1096/     6A5 : 32 0F 07            	LD	(UP_CORTINAI1),A
    1097/     6A8 : C5                  	PUSH	BC
    1098/     6A9 :                     
    1099/     6A9 :                     
    1100/     6A9 : 3A 0B 07            	LD	A,(UP_CORT_ALT1)
    1101/     6AC : 47                  	LD	B,A
    1102/     6AD : C5                  UP_CORTINA_AB	PUSH	BC
    1103/     6AE :                     
    1104/     6AE : 3A 13 07            	LD	A,(UP_CORTINAD1+2)
    1105/     6B1 : 32 17 07            	LD	(UP_CORTINAD1+6),A
    1106/     6B4 : 3C                  	INC	A
    1107/     6B5 : 32 13 07            	LD	(UP_CORTINAD1+2),A
    1108/     6B8 :                     
    1109/     6B8 : 21 11 07            	LD	HL,UP_CORTINAD1
    1110/     6BB : CD 1B 36            	CALL	WAIT_COM
    1111/     6BE : CD 46 33            	CALL	COPYVRAM
    1112/     6C1 :                     
    1113/     6C1 :                     
    1114/     6C1 : C1                  	POP	BC
    1115/     6C2 : 10 E9               	DJNZ	UP_CORTINA_AB
    1116/     6C4 :                     
    1117/     6C4 : 3A 0F 07            	LD	A,(UP_CORTINAI1)
    1118/     6C7 : 3D                  	DEC	A
    1119/     6C8 : 32 13 07            	LD	(UP_CORTINAD1+2),A
    1120/     6CB : 3D                  	DEC	A
    1121/     6CC : 32 17 07            	LD	(UP_CORTINAD1+6),A
    1122/     6CF :                     
    1123/     6CF : C1                  	POP	BC
    1124/     6D0 : 05                  	DEC	B
 AS V1.42 Beta [Bld 28] - source file game.asm - page 29 - 8/12/2011 20:51:50


    1125/     6D1 :                     
    1126/     6D1 :                     
    1127/     6D1 : 79                  UP_CORTINA2	LD	A,C
    1128/     6D2 : B7                  	OR	A
    1129/     6D3 : 28 31               	JR	Z,UP_CORTINA_E
    1130/     6D5 :                     
    1131/     6D5 : 3A 22 07            	LD	A,(UP_CORTINAD2+2)
    1132/     6D8 : 32 10 07            	LD	(UP_CORTINAI2),A
    1133/     6DB : C5                  	PUSH	BC
    1134/     6DC :                     
    1135/     6DC : 3A 0C 07            	LD	A,(UP_CORT_ALT2)
    1136/     6DF : 47                  	LD	B,A
    1137/     6E0 : C5                  UP_CORTINA_UP	PUSH	BC
    1138/     6E1 :                     
    1139/     6E1 : 3A 22 07            	LD	A,(UP_CORTINAD2+2)
    1140/     6E4 : 32 26 07            	LD	(UP_CORTINAD2+6),A
    1141/     6E7 : 3D                  	DEC	A
    1142/     6E8 : 32 22 07            	LD	(UP_CORTINAD2+2),A
    1143/     6EB :                     
    1144/     6EB : 21 20 07            	LD	HL,UP_CORTINAD2
    1145/     6EE : CD 1B 36            	CALL	WAIT_COM
    1146/     6F1 : CD 46 33            	CALL	COPYVRAM
    1147/     6F4 :                     
    1148/     6F4 :                     
    1149/     6F4 : C1                  	POP	BC
    1150/     6F5 : 10 E9               	DJNZ	UP_CORTINA_UP
    1151/     6F7 :                     
    1152/     6F7 : 3A 10 07            	LD	A,(UP_CORTINAI2)
    1153/     6FA : 3C                  	INC	A
    1154/     6FB : 32 22 07            	LD	(UP_CORTINAD2+2),A
    1155/     6FE : 3C                  	INC	A
    1156/     6FF : 32 26 07            	LD	(UP_CORTINAD2+6),A
    1157/     702 :                     
    1158/     702 : C1                  	POP	BC
    1159/     703 : 0D                  	DEC	C
    1160/     704 : 18 98               	JR	UP_CORTINA1
    1161/     706 :                     
    1162/     706 : 78                  UP_CORTINA_E	LD	A,B
    1163/     707 : B7                  	OR	A
    1164/     708 : C8                  	RET	Z
    1165/     709 : 18 93               	JR	UP_CORTINA1
    1166/     70B :                     
    1167/     70B :                     
    1168/     70B :                     
    1169/     70B : 06                  UP_CORT_ALT1:	DB	6
    1170/     70C : 06                  UP_CORT_ALT2:	DB	6
    1171/     70D : 8B                  UP_CORT_INI1:	DB	OFF_PANTY+(NUMPATY*8)-1
    1172/     70E : 14                  UP_CORT_INI2:	DB	OFF_PANTY
    1173/     70F : 00                  UP_CORTINAI1:	DB	0
    1174/     710 : 00                  UP_CORTINAI2:	DB	0
    1175/     711 :                     
    1176/     711 :                     
    1177/     711 :                     
    1178/     711 : 10 00 00 00         UP_CORTINAD1:	DB	OFF_PANTX,0,0,0
    1179/     715 : 10 00 00 00         	DB	OFF_PANTX,0,0,0
    1180/     719 : E0 00 01 00 00 00   	DB	256-(2*OFF_PANTX),0,1,0,0,0,0D0h
                    D0 
    1181/     720 :                     
    1182/     720 :                     
    1183/     720 : 10 00 00 00         UP_CORTINAD2:	DB	OFF_PANTX,0,0,0
 AS V1.42 Beta [Bld 28] - source file game.asm - page 30 - 8/12/2011 20:51:50


    1184/     724 : 10 00 00 00         	DB	OFF_PANTX,0,0,0
    1185/     728 : E0 00 01 00 00 00   	DB	256-(2*OFF_PANTX),0,1,0,0,0,0D0h
                    D0 
    1186/     72F :                     
    1187/     72F :                     
    1188/     72F :                     
    1189/     72F :                     
    1190/     72F :                     
    1191/     72F :                     
    1192/     72F :                     
    1193/     72F :                     ;NOMBRE: MOVE_EXT
    1194/     72F :                     ;OBJETIVO: DESPLAZAR LA X POR LA PANTALLA DE BLOQUE DE 32x16
    1195/     72F :                     ;ENTRADA: A  -> 0 SI ES UN PERSONAJE NORMAL.
    1196/     72F :                     ;               1 SI ES LA CRUZ.
    1197/     72F :                     ;         C -> NUMERO DE PERSONAJE
    1198/     72F :                     ;         B -> SI DIRIGUE EL SCROLL SERA 0
    1199/     72F :                     ;ESTA FUNCION HAY QUE MODIFICARLA PARA PERMITIR MOVER PERSONAJES NORMALES.
    1200/     72F :                     
    1201/     72F :                     
    1202/     72F : 2A 8B 14            MOVE_EXT:	LD	HL,(PTR_PERSO)
    1203/     732 : 32 E1 07            	LD	(MOVE_XSP),A
    1204/     735 : B7                  	OR	A
    1205/     736 : 28 05               	JR	Z,MOVE_X1
    1206/     738 : 21 8D 08            	LD	HL,PUT_XPERA
    1207/     73B : 0E 00               	LD	C,0
    1208/     73D :                     
    1209/     73D : 22 E2 07            MOVE_X1	LD	(PER_MOV_X),HL
    1210/     740 : ED 43 E4 07         	LD	(MOVE_XBC),BC
    1211/     744 :                     
    1212/     744 : CD BC 2B            	CALL	GET_DIR
    1213/     747 :                     
    1214/     747 :                     
    1215/     747 : 21 9E 14            	LD	HL,DIR_ACTUAL
    1216/     74A : 46                  	LD	B,(HL)
    1217/     74B : 3E 80               	LD	A,80h
    1218/     74D : 77                  	LD	(HL),A
    1219/     74E : 78                  	LD	A,B
    1220/     74F :                     
    1221/     74F : 21 E6 07            MOVE_X8	LD	HL,MOVE_XBUFF
    1222/     752 : 06 04               	LD	B,4
    1223/     754 : FE 02               	CP	ARRIBA
    1224/     756 : 28 04               	JR	Z,MOVE_X2
    1225/     758 : FE 03               	CP	ABAJO
    1226/     75A : 20 02               	JR	NZ,MOVE_X3
    1227/     75C : 06 02               MOVE_X2	LD	B,2
    1228/     75E :                     
    1229/     75E : 77                  MOVE_X3	LD	(HL),A
    1230/     75F : 23                  	INC	HL
    1231/     760 : 10 FC               	DJNZ	MOVE_X3
    1232/     762 : 06 FF               	LD	B,0FFh
    1233/     764 : 70                  	LD	(HL),B
    1234/     765 :                     
    1235/     765 : 3E 01               	LD	A,GET_DIR_BUFF
    1236/     767 : 11 ED 07            	LD	DE,MOVE_XNEWH
    1237/     76A : 21 E6 07            	LD	HL,MOVE_XBUFF
    1238/     76D : CD 48 2C            	CALL	ADD_EXCP
    1239/     770 :                     
    1240/     770 :                     
    1241/     770 : 2A 8B 14            MOVE_X4	LD	HL,(PTR_PERSO)
    1242/     773 : 22 DF 07            	LD	(MOVE_XPER),HL
 AS V1.42 Beta [Bld 28] - source file game.asm - page 31 - 8/12/2011 20:51:50


    1243/     776 : 2A E2 07            	LD	HL,(PER_MOV_X)
    1244/     779 : 22 8B 14            	LD	(PTR_PERSO),HL
    1245/     77C : 22 2B 48            	LD	(INDEXPERSO),HL
    1246/     77F :                     
    1247/     77F :                     
    1248/     77F : ED 4B E4 07         	LD	BC,(MOVE_XBC)
    1249/     783 : 3A 9E 14            	LD	A,(DIR_ACTUAL)
    1250/     786 : 5F                  	LD	E,A
    1251/     787 : 79                  	LD	A,C
    1252/     788 : CD 78 1F            	CALL	MOVPERSO
    1253/     78B : CD 9D 26            	CALL	ASK_OUT
    1254/     78E :                     
    1255/     78E :                     
    1256/     78E : 3A E1 07            MOVE_X7	LD	A,(MOVE_XSP)
    1257/     791 : B7                  	OR	A
    1258/     792 : 20 05               	JR	NZ,MOVE_X6
    1259/     794 :                     
    1260/     794 : 3E 04               	LD	A,4
    1261/     796 : 32 AD 14            	LD	(WRITE_CONT),A
    1262/     799 :                     
    1263/     799 : 2A DF 07            MOVE_X6	LD	HL,(MOVE_XPER)
    1264/     79C : 22 8B 14            	LD	(PTR_PERSO),HL
    1265/     79F : 22 2B 48            	LD	(INDEXPERSO),HL
    1266/     7A2 :                     
    1267/     7A2 : CD 43 09            	CALL	SWAP_PAGE
    1268/     7A5 : CD 8C 11            	CALL	ERASE_PNA
    1269/     7A8 : CD 43 1F            	CALL	VIEW_PERSO
    1270/     7AB :                     
    1271/     7AB : 3A E1 07            	LD	A,(MOVE_XSP)
    1272/     7AE : B7                  	OR	A
    1273/     7AF : 28 07               	JR	Z,MOVE_X9
    1274/     7B1 : DD 2A E2 07         	LD	IX,(PER_MOV_X)
    1275/     7B5 : CD E2 21            	CALL	MOVPVIS
    1276/     7B8 :                     
    1277/     7B8 : CD EF 13            MOVE_X9	CALL	MAPRUT
    1278/     7BB : CD 11 11            	CALL	WRITE_PNA
    1279/     7BE :                     
    1280/     7BE : 3A E1 07            	LD	A,(MOVE_XSP)
    1281/     7C1 : B7                  	OR	A
    1282/     7C2 : 28 0F               	JR	Z,MOVE_X5
    1283/     7C4 : 3A A5 08            	LD	A,(PUT_XFIGA+STRFIG_XACT)
    1284/     7C7 : 57                  	LD	D,A
    1285/     7C8 : 3A A6 08            	LD	A,(PUT_XFIGA+STRFIG_YACT)
    1286/     7CB : 5F                  	LD	E,A
    1287/     7CC : 0E 08               	LD	C,SPRITE_CRUZ
    1288/     7CE : 06 02               	LD	B,2
    1289/     7D0 : CD BC 33            	CALL	GOTO_SPXYG
    1290/     7D3 :                     
    1291/     7D3 : 3A 9E 14            MOVE_X5	LD	A,(DIR_ACTUAL)
    1292/     7D6 : FE 81               	CP	81h
    1293/     7D8 : C2 70 07            	JP	NZ,MOVE_X4
    1294/     7DB :                     
    1295/     7DB : CD 74 2C            	CALL	UP_EXCP
    1296/     7DE : C9                  	RET
    1297/     7DF :                     
    1298/     7DF :                     
    1299/     7DF :                     
    1300/     7DF : 00 00               MOVE_XPER:	DW	0
    1301/     7E1 : 00                  MOVE_XSP:	DB	0
    1302/     7E2 : 00 00               PER_MOV_X:	DW	0
 AS V1.42 Beta [Bld 28] - source file game.asm - page 32 - 8/12/2011 20:51:50


    1303/     7E4 : 00 00               MOVE_XBC:	DW	0
    1304/     7E6 :                     MOVE_XBUFF:	DS	7
    1305/     7ED :                     
    1306/     7ED :                     
    1307/     7ED :                     
    1308/     7ED : CD 74 2C            MOVE_XNEWH:	CALL	UP_EXCP
    1309/     7F0 : CD BC 2B            	CALL	GET_DIR
    1310/     7F3 :                     
    1311/     7F3 : 3A 9E 14            	LD	A,(DIR_ACTUAL)
    1312/     7F6 : FE FF               	CP	0FFh
    1313/     7F8 : 20 12               	JR	NZ,MOVE_XH1
    1314/     7FA :                     
    1315/     7FA : DD 2A 45 2C         	LD	IX,(PTR_EXCP)
    1316/     7FE : DD 6E 00            	LD	L,(IX+STREXCP_HAND)
    1317/     801 : DD 66 01            	LD	H,(IX+STREXCP_HAND+1)
    1318/     804 : 22 08 08            	LD	(MOVE_XH0+1),HL
    1319/     807 : CD 00 00            MOVE_XH0	CALL	0
    1320/     80A : 18 29               	JR	MOVE_XH5
    1321/     80C :                     
    1322/     80C : FE 80               MOVE_XH1:	CP	80h
    1323/     80E : 20 07               	JR	NZ,MOVE_XH2
    1324/     810 : 3E 81               	LD	A,081h
    1325/     812 : 32 9E 14            	LD	(DIR_ACTUAL),A
    1326/     815 : 18 1E               	JR	MOVE_XH5
    1327/     817 :                     
    1328/     817 : 21 E6 07            MOVE_XH2	LD	HL,MOVE_XBUFF
    1329/     81A : 06 04               	LD	B,4
    1330/     81C : FE 02               	CP	ARRIBA
    1331/     81E : 28 04               	JR	Z,MOVE_XH3
    1332/     820 : FE 03               	CP	ABAJO
    1333/     822 : 20 02               	JR	NZ,MOVE_XH4
    1334/     824 : 06 02               MOVE_XH3	LD	B,2
    1335/     826 :                     
    1336/     826 : 77                  MOVE_XH4	LD	(HL),A
    1337/     827 : 23                  	INC	HL
    1338/     828 : 10 FC               	DJNZ	MOVE_XH4
    1339/     82A : 06 FF               	LD	B,0FFh
    1340/     82C : 70                  	LD	(HL),B
    1341/     82D :                     
    1342/     82D : 32 9E 14            	LD	(DIR_ACTUAL),A
    1343/     830 :                     
    1344/     830 : 3E 01               	LD	A,1	;TENGO QUE MODIFICAR MI ENTORNO PERO AHORA
    1345/     832 : DD 77 0B            	LD	(IX+STREXCP_PTR+STRUCTEXCEP),A	;MISMO ESTA PUESTO EL SUPERIOR
    1346/     835 :                     ;                                                      ;Y LO CAMBIO ABAJO
    1347/     835 : CD 7F 2C            MOVE_XH5	CALL	DW_EXCP
    1348/     838 : C9                  	RET
    1349/     839 :                     
    1350/     839 :                     
    1351/     839 :                     
    1352/     839 :                     ;NOMBRE: PUT_X
    1353/     839 :                     ;OBJETIVO: COLOCAR LA X  ENCIMA DEL PERSONAJE NUMERO 0
    1354/     839 :                     
    1355/     839 : 2A 8B 08            PUT_X:	LD	HL,(PUT_X_PERSO)
    1356/     83C : 11 8D 08            	LD	DE,PUT_XPERA
    1357/     83F : 01 15 00            	LD	BC,STRUCTPERSO
    1358/     842 : ED B0               	LDIR
    1359/     844 :                     
    1360/     844 : DD 21 8D 08         	LD	IX,PUT_XPERA
    1361/     848 : 21 A2 08            	LD	HL,PUT_XFIGA
    1362/     84B : DD 75 05            	LD	(IX+STRPER_FIG),L
 AS V1.42 Beta [Bld 28] - source file game.asm - page 33 - 8/12/2011 20:51:50


    1363/     84E : DD 74 06            	LD	(IX+STRPER_FIG+1),H
    1364/     851 :                     
    1365/     851 : DD 6E 02            	LD	L,(IX+STRPER_X)
    1366/     854 : DD 66 03            	LD	H,(IX+STRPER_X+1)
    1367/     857 : DD 5E 00            	LD	E,(IX+STRPER_Y)
    1368/     85A : DD 56 01            	LD	D,(IX+STRPER_Y+1)
    1369/     85D : 06 00               	LD	B,0
    1370/     85F : 3E 04               	LD	A,MAXNUMPJS+1
    1371/     861 : 0E 00               	LD	C,CEN_TOTAL
    1372/     863 :                     
    1373/     863 : DD E5               	PUSH	IX
    1374/     865 : DD E5               	PUSH	IX
    1375/     867 : CD 42 0D            	CALL	SET_XY
    1376/     86A : DD E1               	POP	IX
    1377/     86C : CD E2 21            	CALL	MOVPVIS
    1378/     86F : DD E1               	POP	IX
    1379/     871 : DD 5E 05            	LD	E,(IX+STRPER_FIG)
    1380/     874 : DD 56 06            	LD	D,(IX+STRPER_FIG+1)
    1381/     877 : D5                  	PUSH	DE
    1382/     878 : DD E1               	POP	IX
    1383/     87A :                     
    1384/     87A : 0E 08               	LD	C,SPRITE_CRUZ
    1385/     87C : 06 02               	LD	B,2
    1386/     87E :                     
    1387/     87E : DD 56 03            	LD	D,(IX+STRFIG_XACT)
    1388/     881 : DD 5E 04            	LD	E,(IX+STRFIG_YACT)
    1389/     884 : CD BC 33            	CALL	GOTO_SPXYG
    1390/     887 : CD DF 35            	CALL	SPD_ON
    1391/     88A : C9                  	RET
    1392/     88B :                     
    1393/     88B : 00 00               PUT_X_PERSO:	DW	0
    1394/     88D :                     PUT_XPERA:	DS	STRUCTPERSO
    1395/     8A2 :                     PUT_XFIGA:	DS	STRUCTFIGURA
    1396/     8B0 :                     
    1397/     8B0 :                     
    1398/     8B0 :                     
    1399/     8B0 :                     
    1400/     8B0 :                     ;NOMBRE: DO_VISUAL
    1401/     8B0 :                     ;OBJETIVO: REALIZAR TODAS LAS GESTIONES GRAFICAS DEL JUEGO (EN LOS MODOS DE
    1402/     8B0 :                     ;          INTERIOR Y DE EXTERIOR)
    1403/     8B0 :                     
    1404/     8B0 : CD 8C 11            DO_VISUAL:	CALL	ERASE_PNA
    1405/     8B3 : CD 43 1F            	CALL	VIEW_PERSO
    1406/     8B6 : CD EF 13            	CALL	MAPRUT
    1407/     8B9 : CD 11 11            	CALL	WRITE_PNA
    1408/     8BC : CD 43 09            	CALL	SWAP_PAGE
    1409/     8BF : CD 9D 26            	CALL	ASK_OUT
    1410/     8C2 : C9                  	RET
    1411/     8C3 :                     
    1412/     8C3 :                     
    1413/     8C3 : CD 9D 26            WAITKB:	CALL	ASK_OUT
    1414/     8C6 : 3E 07               	LD	A,7
    1415/     8C8 : CD 3A 2D            	CALL	LEE_FILA_KB
    1416/     8CB : 47                  	LD	B,A
    1417/     8CC : 3A D9 08            	LD	A,(LLL)
    1418/     8CF : A8                  	XOR	B
    1419/     8D0 : CB 77               	BIT	6,A
    1420/     8D2 : 28 EF               	JR	Z,WAITKB
    1421/     8D4 : 78                  	LD	A,B
    1422/     8D5 : 32 D9 08            	LD	(LLL),A
 AS V1.42 Beta [Bld 28] - source file game.asm - page 34 - 8/12/2011 20:51:50


    1423/     8D8 : C9                  	RET
    1424/     8D9 :                     
    1425/     8D9 : FF                  LLL:	DB	0FFh
    1426/     8DA :                     
    1427/     8DA :                     
    1428/     8DA :                     
    1429/     8DA :                     
    1430/     8DA :                     
    1431/     8DA :                     
    1432/     8DA :                     
    1433/     8DA :                     
    1434/     8DA :                     
    1435/     8DA :                     
    1436/     8DA :                     
    1437/     8DA :                     ;NOMBRE: MAKEMAR
    1438/     8DA :                     ;OBJETIVO: DIBUJAR EL MARCADOR
    1439/     8DA :                     ;ESTA FUNCION ES TEMPORAL!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
    1440/     8DA :                     
    1441/     8DA :                     
    1442/     8DA :                     MAKEMARK:	
    1443/     8DA : 21 D2 14            	LD	HL,MARC1
    1444/     8DD : 11 8B 6D            	LD	DE,BUFFER
    1445/     8E0 : DD 21 00 00         	LD	IX,0
    1446/     8E4 : FD 21 00 00         	LD	IY,0
    1447/     8E8 : CD AD 29            	CALL	LPIMAGE
    1448/     8EB :                     
    1449/     8EB : 21 DE 14            	LD	HL,MARC2
    1450/     8EE : 11 8B 6D            	LD	DE,BUFFER
    1451/     8F1 : DD 21 00 00         	LD	IX,0
    1452/     8F5 : FD 21 41 00         	LD	IY,65
    1453/     8F9 : CD AD 29            	CALL	LPIMAGE
    1454/     8FC :                     
    1455/     8FC : 21 EA 14            	LD	HL,MARC3
    1456/     8FF : 11 8B 6D            	LD	DE,BUFFER
    1457/     902 : DD 21 00 00         	LD	IX,0
    1458/     906 : FD 21 8D 00         	LD	IY,141
    1459/     90A : CD AD 29            	CALL	LPIMAGE
    1460/     90D :                     
    1461/     90D : CD 1B 36            	CALL	WAIT_COM
    1462/     910 : 21 17 09            	LD	HL,MAKEMARKD
    1463/     913 : CD 46 33            	CALL	COPYVRAM
    1464/     916 : C9                  	RET
    1465/     917 :                     
    1466/     917 : 00 00 00 00 00 00   MAKEMARKD:	DB	0,0, 0,0 ,0,0, 0,1 ,0,1,212,0,0,0,0D0h
                    00 01 00 01 D4 00 
                    00 00 D0 
    1467/     926 :                     
    1468/     926 :                     
    1469/     926 :                     
    1470/     926 :                     
    1471/     926 :                     
    1472/     926 :                     
    1473/     926 :                     ;NOMBRE: INIT_BUFPAG
    1474/     926 :                     ;OBJETIVO: INICIALIZAR LOS BUFFER DE PATRONES DE AMBAS PAGINAS.
    1475/     926 :                     ;MODIFICA:
    1476/     926 :                     
    1477/     926 :                     
    1478/     926 : 21 E3 44            INIT_BUFPAG:	LD	HL,BUFFER_PAG1
    1479/     929 : 1E FF               	LD	E,255
    1480/     92B : 06 1E               	LD	B,NUMPATY*2
 AS V1.42 Beta [Bld 28] - source file game.asm - page 35 - 8/12/2011 20:51:50


    1481/     92D : C5                  INIT_BUFP1	PUSH	BC
    1482/     92E : 06 1C               	LD	B,NUMPATX
    1483/     930 : 73                  INIT_BUFP2	LD	(HL),E
    1484/     931 : 23                  	INC	HL
    1485/     932 : 10 FC               	DJNZ	INIT_BUFP2
    1486/     934 : C1                  	POP	BC
    1487/     935 : 10 F6               	DJNZ	INIT_BUFP1
    1488/     937 : C9                  	RET
    1489/     938 :                     
    1490/     938 :                     
    1491/     938 :                     
    1492/     938 :                     
    1493/     938 :                     
    1494/     938 :                     
    1495/     938 :                     
    1496/     938 :                     ;NOMBRE: INIT_FIGURASV
    1497/     938 :                     ;OBJETIVO: INICIALIZAR LA OCUPACION DEL VECTOR DE FIGURAS A 0.
    1498/     938 :                     ;MODIFICA: AF,IX,B,DE
    1499/     938 :                     
    1500/     938 : AF                  INIT_FIGURASV:	XOR	A
    1501/     939 : 06 E0               	LD	B,MAXFIGURAS*STRUCTFIGURA
    1502/     93B : 21 FD 48            	LD	HL,STRFIG_VECTOR
    1503/     93E : 77                  INIT_FIG1	LD	(HL),A
    1504/     93F : 23                  	INC	HL
    1505/     940 : 10 FC               	DJNZ	INIT_FIG1
    1506/     942 : C9                  	RET
    1507/     943 :                     
    1508/     943 :                     
    1509/     943 :                     
    1510/     943 :                     
    1511/     943 :                     
    1512/     943 :                     
    1513/     943 :                     
    1514/     943 :                     ;NOMBRE: SWAP_PAGE
    1515/     943 :                     ;OBJETIVO: REALIZAR EL INTERCAMBIO ENTRE PAGINA ACTIVA Y NO ACTIVA
    1516/     943 :                     ;MODIFICA: AF,B,DE,HL
    1517/     943 :                     
    1518/     943 : CD 1B 36            SWAP_PAGE:	CALL	WAIT_COM
    1519/     946 :                     
    1520/     946 : F3                  	DI
    1521/     947 : 3A 8A 14            	LD	A,(PAG_NACT)
    1522/     94A : 47                  	LD	B,A
    1523/     94B : 3A 89 14            	LD	A,(PAG_ACT)
    1524/     94E : 32 8A 14            	LD	(PAG_NACT),A
    1525/     951 : 78                  	LD	A,B
    1526/     952 : 32 89 14            	LD	(PAG_ACT),A
    1527/     955 : 3A 9C 14            	LD	A,(PERIODO)
    1528/     958 : 32 56 2B            	LD	(TIME_),A
    1529/     95B : 3E 01               	LD	A,1
    1530/     95D : 32 A7 14            	LD	(SINCRO),A
    1531/     960 : FB                  	EI
    1532/     961 :                     
    1533/     961 : 2A 97 14            	LD	HL,(MAPEAPTR)
    1534/     964 : ED 5B 99 14         	LD	DE,(MAPEAPTRA)
    1535/     968 : 22 99 14            	LD	(MAPEAPTRA),HL
    1536/     96B : ED 53 97 14         	LD	(MAPEAPTR),DE
    1537/     96F :                     
    1538/     96F : AF                  	XOR	A
    1539/     970 : 32 A6 14            	LD	(NUMPAT2PLN),A
    1540/     973 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm - page 36 - 8/12/2011 20:51:50


    1541/     973 : 3A 4F 0A            	LD	A,(SWAP_CONT)
    1542/     976 : B7                  	OR	A
    1543/     977 : C2 47 0A            	JP	NZ,SWAP_PAGEF
    1544/     97A :                     
    1545/     97A : AF                  	XOR	A
    1546/     97B : 32 50 0A            	LD	(SWAP_FLAG),A
    1547/     97E : CD BC 2B            	CALL	GET_DIR
    1548/     981 : 3A A5 14            	LD	A,(SCROLLSOL)
    1549/     984 : 47                  	LD	B,A
    1550/     985 : AF                  	XOR	A
    1551/     986 : 32 A5 14            	LD	(SCROLLSOL),A
    1552/     989 : 32 A4 14            	LD	(SCROLLST),A
    1553/     98C : 3A 9E 14            	LD	A,(DIR_ACTUAL)
    1554/     98F :                     
    1555/     98F : CB 40               	BIT	0,B
    1556/     991 : 28 19               	JR	Z,SWAP_DER
    1557/     993 : FE 01               	CP	IZQUIERDA
    1558/     995 : 28 08               	JR	Z,SWAP_IZX
    1559/     997 : FE 07               	CP	ARR_IZQ
    1560/     999 : 28 04               	JR	Z,SWAP_IZX
    1561/     99B : FE 05               	CP	ABA_IZQ
    1562/     99D : 20 0D               	JR	NZ,SWAP_DER
    1563/     99F : 3E 01               SWAP_IZX	LD	A,IZQSCR
    1564/     9A1 : 32 A4 14            	LD	(SCROLLST),A
    1565/     9A4 : 3E 01               	LD	A,1
    1566/     9A6 : 32 50 0A            	LD	(SWAP_FLAG),A
    1567/     9A9 : 3A 9E 14            	LD	A,(DIR_ACTUAL)
    1568/     9AC :                     
    1569/     9AC :                     
    1570/     9AC : CB 48               SWAP_DER:	BIT	1,B
    1571/     9AE : 28 1C               	JR	Z,SWAP_ABA
    1572/     9B0 : FE 00               	CP	DERECHA
    1573/     9B2 : 28 08               	JR	Z,SWAP_DEX
    1574/     9B4 : FE 06               	CP	ARR_DER
    1575/     9B6 : 28 04               	JR	Z,SWAP_DEX
    1576/     9B8 : FE 04               	CP	ABA_DER
    1577/     9BA : 20 10               	JR	NZ,SWAP_ABA
    1578/     9BC : 3A A4 14            SWAP_DEX	LD	A,(SCROLLST)
    1579/     9BF : F6 02               	OR	DERSCR
    1580/     9C1 : 32 A4 14            	LD	(SCROLLST),A
    1581/     9C4 : 3E 01               	LD	A,1
    1582/     9C6 : 32 50 0A            	LD	(SWAP_FLAG),A
    1583/     9C9 : 3A 9E 14            	LD	A,(DIR_ACTUAL)
    1584/     9CC :                     
    1585/     9CC :                     
    1586/     9CC : CB 50               SWAP_ABA:	BIT	2,B
    1587/     9CE : 28 1C               	JR	Z,SWAP_ARA
    1588/     9D0 : FE 03               	CP	ABAJO
    1589/     9D2 : 28 08               	JR	Z,SWAP_ABX
    1590/     9D4 : FE 04               	CP	ABA_DER
    1591/     9D6 : 28 04               	JR	Z,SWAP_ABX
    1592/     9D8 : FE 05               	CP	ABA_IZQ
    1593/     9DA : 20 10               	JR	NZ,SWAP_ARA
    1594/     9DC : 3A A4 14            SWAP_ABX	LD	A,(SCROLLST)
    1595/     9DF : F6 04               	OR	ABASCR
    1596/     9E1 : 32 A4 14            	LD	(SCROLLST),A
    1597/     9E4 : 3E 01               	LD	A,1
    1598/     9E6 : 32 50 0A            	LD	(SWAP_FLAG),A
    1599/     9E9 : 3A 9E 14            	LD	A,(DIR_ACTUAL)
    1600/     9EC :                     
 AS V1.42 Beta [Bld 28] - source file game.asm - page 37 - 8/12/2011 20:51:50


    1601/     9EC :                     
    1602/     9EC : CB 58               SWAP_ARA:	BIT	3,B
    1603/     9EE : 28 19               	JR	Z,SWAP_PAGFL
    1604/     9F0 : FE 02               	CP	ARRIBA
    1605/     9F2 : 28 08               	JR	Z,SWAP_ARX
    1606/     9F4 : FE 06               	CP	ARR_DER
    1607/     9F6 : 28 04               	JR	Z,SWAP_ARX
    1608/     9F8 : FE 07               	CP	ARR_IZQ
    1609/     9FA : 20 0D               	JR	NZ,SWAP_PAGFL
    1610/     9FC : 3A A4 14            SWAP_ARX	LD	A,(SCROLLST)
    1611/     9FF : F6 08               	OR	ARRSCR
    1612/     A01 : 32 A4 14            	LD	(SCROLLST),A
    1613/     A04 : 3E 01               	LD	A,1
    1614/     A06 : 32 50 0A            	LD	(SWAP_FLAG),A
    1615/     A09 :                     
    1616/     A09 :                     
    1617/     A09 : 3A 50 0A            SWAP_PAGFL	LD	A,(SWAP_FLAG)
    1618/     A0C : B7                  	OR	A
    1619/     A0D : 28 23               	JR	Z,SWAP_PAGENS
    1620/     A0F :                     
    1621/     A0F : 3E 08               SWAP_PAGND:	LD	A,INC_MOVD
    1622/     A11 : 32 91 14            	LD	(INC_MOV),A
    1623/     A14 : 3E 04               	LD	A,4
    1624/     A16 : 32 AD 14            	LD	(WRITE_CONT),A
    1625/     A19 : 3E 01               	LD	A,1
    1626/     A1B : 32 4F 0A            	LD	(SWAP_CONT),A
    1627/     A1E : 3E 00               	LD	A,NUMREPFRAMED
    1628/     A20 : 32 8E 14            	LD	(NUMREPFRAME),A
    1629/     A23 : 3E 03               	LD	A,PERIODOD
    1630/     A25 : 32 9C 14            	LD	(PERIODO),A
    1631/     A28 : 3A 9E 14            	LD	A,(DIR_ACTUAL)
    1632/     A2B : 07                  	RLCA
    1633/     A2C : 30 19               	JR	NC,SWAP_PAGEF
    1634/     A2E : AF                  	XOR	A
    1635/     A2F : 32 A4 14            	LD	(SCROLLST),A
    1636/     A32 :                     
    1637/     A32 :                     
    1638/     A32 : 3E 04               SWAP_PAGENS:	LD	A,INC_MOVS
    1639/     A34 : 06 01               	LD	B,PERIODOS
    1640/     A36 : 32 91 14            	LD	(INC_MOV),A
    1641/     A39 : 3E 02               	LD	A,NUMREPFRAMES
    1642/     A3B : 32 8E 14            	LD	(NUMREPFRAME),A
    1643/     A3E : 78                  	LD	A,B
    1644/     A3F : 32 9C 14            	LD	(PERIODO),A
    1645/     A42 : 3E 02               	LD	A,2
    1646/     A44 : 32 4F 0A            	LD	(SWAP_CONT),A
    1647/     A47 :                     
    1648/     A47 : 3A 4F 0A            SWAP_PAGEF:	LD	A,(SWAP_CONT)
    1649/     A4A : 3D                  	DEC	A
    1650/     A4B : 32 4F 0A            	LD	(SWAP_CONT),A
    1651/     A4E :                     
    1652/     A4E : C9                  	RET
    1653/     A4F :                     
    1654/     A4F :                     
    1655/     A4F : 00                  SWAP_CONT:	DB	0
    1656/     A50 : 00                  SWAP_FLAG:	DB	0
    1657/     A51 :                     
    1658/     A51 :                     
    1659/     A51 :                     
    1660/     A51 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm - page 38 - 8/12/2011 20:51:50


    1661/     A51 :                     
    1662/     A51 :                     ;NOMBRE: PRINT_TEXT
    1663/     A51 :                     ;OBJETIVO: MOSTRAR UN MENSAJE DE TEXTO EN LA PAGINA ACTIVA. EL CODIGO DE ENTRADA
    1664/     A51 :                     ;ESTA EN ASCIIZ EXCEPTO VARIOS SIMBOLOS:
    1665/     A51 :                     ;LA ADMIRACION A -> }
    1666/     A51 :                     ;LA INTERROGACION A -> }
    1668/     A51 :                     ;LA GN -> ;ENTRADA:      D  -> COORDENADA X
    1669/     A51 :                     ;              E  -> COORDENADA Y
    1670/     A51 :                     ;              HL -> PUNTERO AL MENSAJE ASCIIZ
    1671/     A51 :                     ;              B  -> PAGINA DONDE SE ESCRIBE
    1672/     A51 :                     
    1673/     A51 : 3A A7 14            PRINT_TEXT:	LD	A,(SINCRO)
    1674/     A54 : B7                  	OR	A
    1675/     A55 : 20 FA               	JR	NZ,PRINT_TEXT
    1676/     A57 :                     
    1677/     A57 : 78                  	LD	A,B
    1678/     A58 : 32 A0 0A            	LD	(PRINT_TDATA+7),A
    1679/     A5B : 7A                  	LD	A,D
    1680/     A5C : 32 9D 0A            	LD	(PRINT_TDATA+4),A
    1681/     A5F : 7B                  	LD	A,E
    1682/     A60 : 32 9F 0A            	LD	(PRINT_TDATA+6),A
    1683/     A63 :                     
    1684/     A63 :                     
    1685/     A63 : 7E                  PRINT_TEXT1	LD	A,(HL)
    1686/     A64 : 23                  	INC	HL
    1687/     A65 : FE 00               	CP	0
    1688/     A67 : C8                  	RET	Z
    1689/     A68 : E5                  	PUSH	HL
    1690/     A69 : FE 20               	CP	' '
    1691/     A6B : 28 1E               	JR	Z,PRINT_T1
    1692/     A6D :                     
    1693/     A6D : 6F                  	LD	L,A
    1694/     A6E : 26 00               	LD	H,0
    1695/     A70 : 29                  	ADD	HL,HL
    1696/     A71 : ED 5B A9 0A         	LD	DE,(PRINT_TLOC)
    1697/     A75 : 19                  	ADD	HL,DE
    1698/     A76 : 7E                  	LD	A,(HL)
    1699/     A77 : B7                  	OR	A
    1700/     A78 : 28 1C               	JR	Z,PRINT_T2	;SE HA ESCRITO UN CARACTER NO RECONOCIBLE
    1701/     A7A :                     
    1702/     A7A : 32 99 0A            	LD	(PRINT_TDATA),A
    1703/     A7D : 23                  	INC	HL
    1704/     A7E : 7E                  	LD	A,(HL)
    1705/     A7F : 32 9B 0A            	LD	(PRINT_TDATA+2),A
    1706/     A82 :                     
    1707/     A82 : CD 1B 36            	CALL	WAIT_COM
    1708/     A85 : 21 99 0A            	LD	HL,PRINT_TDATA
    1709/     A88 : CD 46 33            	CALL	COPYVRAM
    1710/     A8B : 3A 9D 0A            PRINT_T1	LD	A,(PRINT_TDATA+4)
    1711/     A8E : 47                  	LD	B,A
    1712/     A8F : 3A A8 0A            	LD	A,(PRINT_TSP)
    1713/     A92 : 80                  	ADD	A,B
    1714/     A93 : 32 9D 0A            	LD	(PRINT_TDATA+4),A
    1715/     A96 : E1                  PRINT_T2	POP	HL
    1716/     A97 : 18 CA               	JR	PRINT_TEXT1
    1717/     A99 :                     
    1718/     A99 :                     
    1719/     A99 :                     
    1720/     A99 : 00 00 00 02         PRINT_TDATA:	DB	0,0,0,PAG_FONTS
    1721/     A9D : 00 00 00 00         	DB	0,0,0,0
 AS V1.42 Beta [Bld 28] - source file game.asm - page 39 - 8/12/2011 20:51:50


    1722/     AA1 : 04 00 08 00 00 00   PRINT_TSIZE:	DB	4,0,8,0,0,0
    1723/     AA7 : 98                  PRINT_TTYPE	DB	98h
    1724/     AA8 :                     
    1725/     AA8 : 04                  PRINT_TSP:	DB	4	;
    1726/     AA9 : AB 0B               PRINT_TLOC:	DW	PRINT_TLOC2	;
    1727/     AAB :                     
    1728/     AAB :                     
    1729/     AAB : 00 00 00 00 00 00   PRINT_TLOC1:	DB	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                    00 00 00 00 00 00 
                    00 00 00 00 00 00 
                    00 00 
    1730/     ABF : 00 00 00 00 00 00   	DB	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                    00 00 00 00 00 00 
                    00 00 00 00 00 00 
                    00 00 
    1731/     AD3 : 00 00 00 00 00 00   	DB	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                    00 00 00 00 00 00 
                    00 00 00 00 00 00 
                    00 00 
    1732/     AE7 : 00 00 00 00 00 00   	DB	0,0,0,0,0,0,160,48,0,0,0,0,0,0,0,0,0,0,160,52
                    A0 30 00 00 00 00 
                    00 00 00 00 00 00 
                    A0 34 
    1733/     AFB : 00 00 00 00 00 00   	DB	0,0,0,0,0,0,0,0,168,52,0,0,144,56,152,56,160,32,168,32
                    00 00 A8 34 00 00 
                    90 38 98 38 A0 20 
                    A8 20 
    1734/     B0F : B0 20 B8 20 90 28   	DB	176,32,184,32,144,40,152,40,160,40,168,40,176,40,184,40,144,48,0,0
                    98 28 A0 28 A8 28 
                    B0 28 B8 28 90 30 
                    00 00 
    1735/     B23 : 00 00 00 00 00 00   	DB	0,0,0,0,0,0,152,48,0,0,144,0,152,0,160,0,168,0,176,0
                    98 30 00 00 90 00 
                    98 00 A0 00 A8 00 
                    B0 00 
    1736/     B37 : B8 00 90 08 98 08   	DB	184,0,144,8,152,8,160,8,168,8,176,8,184,8,144,16,152,16,160,16
                    A0 08 A8 08 B0 08 
                    B8 08 90 10 98 10 
                    A0 10 
    1737/     B4B : A8 10 B0 10 B8 10   	DB	168,16,176,16,184,16,144,24,152,24,160,24,168,24,176,24,184,24,144,32
                    90 18 98 18 A0 18 
                    A8 18 B0 18 B8 18 
                    90 20 
    1738/     B5F : 98 20 00 00 B8 30   	DB	152,32,0,0,184,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                    00 00 00 00 00 00 
                    00 00 00 00 00 00 
                    00 00 
    1739/     B73 : 00 00 00 00 00 00   	DB	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                    00 00 00 00 00 00 
                    00 00 00 00 00 00 
                    00 00 
    1740/     B87 : 00 00 00 00 00 00   	DB	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                    00 00 00 00 00 00 
                    00 00 00 00 00 00 
                    00 00 
    1741/     B9B : 00 00 00 00 00 00   	DB	0,0,0,0,0,0,168,48,0,0,176,48,0,0,0,0
                    A8 30 00 00 B0 30 
                    00 00 00 00 
    1742/     BAB :                     
    1743/     BAB :                     
 AS V1.42 Beta [Bld 28] - source file game.asm - page 40 - 8/12/2011 20:51:50


    1744/     BAB : 00 00 00 00 00 00   PRINT_TLOC2:	DB	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                    00 00 00 00 00 00 
                    00 00 00 00 
    1745/     BBB : 00 00 00 00 00 00   	DB	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                    00 00 00 00 00 00 
                    00 00 00 00 
    1746/     BCB : 00 00 00 00 00 00   	DB	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                    00 00 00 00 00 00 
                    00 00 00 00 
    1747/     BDB : 00 00 00 00 00 00   	DB	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                    00 00 00 00 00 00 
                    00 00 00 00 
    1748/     BEB : 00 00 C0 00 C8 00   	DB	0,0,192,0,200,0,204,0,208,0,212,0,216,0,220,0
                    CC 00 D0 00 D4 00 
                    D8 00 DC 00 
    1749/     BFB : C0 08 C4 08 C8 08   	DB	192,8,196,8,200,8,204,8,208,8,212,8,216,8,220,8
                    CC 08 D0 08 D4 08 
                    D8 08 DC 08 
    1750/     C0B : C0 10 C4 10 C8 10   	DB	192,16,196,16,200,16,204,16,208,16,212,16,216,16,220,16
                    CC 10 D0 10 D4 10 
                    D8 10 DC 10 
    1751/     C1B : C0 18 C4 18 C8 18   	DB	192,24,196,24,200,24,204,24,208,24,212,24,216,24,220,24
                    CC 18 D0 18 D4 18 
                    D8 18 DC 18 
    1752/     C2B : C0 20 C4 20 C8 20   	DB	192,32,196,32,200,32,204,32,208,32,212,32,216,32,220,32
                    CC 20 D0 20 D4 20 
                    D8 20 DC 20 
    1753/     C3B : C0 28 C4 28 C8 28   	DB	192,40,196,40,200,40,204,40,208,40,212,40,216,40,220,40
                    CC 28 D0 28 D4 28 
                    D8 28 DC 28 
    1754/     C4B : C0 30 C4 30 C8 30   	DB	192,48,196,48,200,48,204,48,208,48,212,48,216,48,220,48
                    CC 30 D0 30 D4 30 
                    D8 30 DC 30 
    1755/     C5B : C0 38 C4 38 C8 38   	DB	192,56,196,56,200,56,204,56,208,56,212,56,216,56,220,56
                    CC 38 D0 38 D4 38 
                    D8 38 DC 38 
    1756/     C6B : 00 00 00 00 00 00   	DB	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                    00 00 00 00 00 00 
                    00 00 00 00 
    1757/     C7B : 00 00 00 00 00 00   	DB	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                    00 00 00 00 00 00 
                    00 00 00 00 
    1758/     C8B : 00 00 00 00 00 00   	DB	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                    00 00 00 00 00 00 
                    00 00 00 00 
    1759/     C9B :                     
    1760/     C9B :                     
    1761/     C9B :                     ;NOMBRE: CHG_FONTS
    1762/     C9B :                     ;OBJETIVO: COLOCAR UN TIPO DE LETRA
    1763/     C9B :                     ;ENTRADA: A -> NUMERO DE FUENTE
    1764/     C9B :                     
    1765/     C9B :                     
    1766/     C9B : B7                  CHG_FONTS:	OR	A
    1767/     C9C : 20 12               	JR	NZ,CHGFONT1
    1768/     C9E :                     
    1769/     C9E : 01 AB 0A            	LD	BC,PRINT_TLOC1
    1770/     CA1 : ED 43 A9 0A         	LD	(PRINT_TLOC),BC
    1771/     CA5 : 3E 09               	LD	A,9
    1772/     CA7 : 32 A8 0A            	LD	(PRINT_TSP),A
    1773/     CAA : 3E 08               	LD	A,8
 AS V1.42 Beta [Bld 28] - source file game.asm - page 41 - 8/12/2011 20:51:50


    1774/     CAC : 32 A1 0A            	LD	(PRINT_TSIZE),A
    1775/     CAF : C9                  	RET
    1776/     CB0 :                     
    1777/     CB0 : 01 AB 0B            CHGFONT1	LD	BC,PRINT_TLOC2
    1778/     CB3 : ED 43 A9 0A         	LD	(PRINT_TLOC),BC
    1779/     CB7 : 3E 04               	LD	A,4
    1780/     CB9 : 32 A8 0A            	LD	(PRINT_TSP),A
    1781/     CBC : 32 A1 0A            	LD	(PRINT_TSIZE),A
    1782/     CBF : 3E 08               	LD	A,8
    1783/     CC1 : 32 E4 02            	LD	(PRINT_TSY+1),A
    1784/     CC4 : C9                  	RET
    1785/     CC5 :                     
    1786/     CC5 :                     
    1787/     CC5 :                     
    1788/     CC5 :                     
    1789/     CC5 :                     
    1790/     CC5 :                     
    1791/     CC5 :                     
    1792/     CC5 :                     
    1793/     CC5 :                     
    1794/     CC5 :                     ;NOMBRE: FOUND_ENLACE
    1795/     CC5 :                     ;OBJETIVO: UNA VEZ QUE SE HA DETERMINADO QUE UN PERSONAJE SE HA ENCONTRADO CON
    1796/     CC5 :                     ;          UNA CASILLA DE ENLACE SE REALIZA EL CAMBIO DE COORDENADAS
    1797/     CC5 :                     ;ENTRADA:  HL -> COORDENADA X
    1798/     CC5 :                     ;          DE -> COORDENADA Y
    1799/     CC5 :                     ;          IX -> PUNTERO AL PERSONAJE.
    1800/     CC5 :                     ;          B  -> SERA O SI EL PERSONAJE DIRIGUE EL SCROLL.
    1801/     CC5 :                     ;          A  -> NUMERO DE PERSONAJE
    1802/     CC5 :                     ;MODIFICA: HL,DE,BC,IY,AF,HL',BC',DE'
    1803/     CC5 :                     
    1804/     CC5 :                     
    1805/     CC5 : FD 21 0F 3C         FOUND_ENLACE:	LD	IY,STRENL_VEC
    1806/     CC9 : C5                  	PUSH	BC
    1807/     CCA : F5                  	PUSH	AF
    1808/     CCB : 3A DE 21            	LD	A,(MOVPCHK_PROF)
    1809/     CCE : 4F                  	LD	C,A
    1810/     CCF : 06 00               	LD	B,0
    1811/     CD1 : EB                  	EX	DE,HL
    1812/     CD2 : 09                  	ADD	HL,BC
    1813/     CD3 : EB                  	EX	DE,HL
    1814/     CD4 :                     
    1815/     CD4 : 7D                  	LD	A,L
    1816/     CD5 : E6 F8               	AND	0F8h
    1817/     CD7 : 6F                  	LD	L,A
    1818/     CD8 : 7B                  	LD	A,E
    1819/     CD9 : E6 F8               	AND	0F8h
    1820/     CDB : 5F                  	LD	E,A
    1821/     CDC :                     
    1822/     CDC : D9                  	EXX
    1823/     CDD : 06 3C               	LD	B,MAXNUMENL
    1824/     CDF : 11 0A 00            	LD	DE,STRUCTENLACE
    1825/     CE2 :                     
    1826/     CE2 : D9                  GO_ENLACE1	EXX
    1827/     CE3 : E5                  	PUSH	HL
    1828/     CE4 : D5                  	PUSH	DE
    1829/     CE5 : FD 4E 00            	LD	C,(IY+STRENL_XO)
    1830/     CE8 : FD 46 01            	LD	B,(IY+STRENL_XO+1)
    1831/     CEB : AF                  	XOR	A
    1832/     CEC : ED 42               	SBC	HL,BC
    1833/     CEE : 20 0C               	JR	NZ,GO_ENLACE2
 AS V1.42 Beta [Bld 28] - source file game.asm - page 42 - 8/12/2011 20:51:50


    1834/     CF0 :                     
    1835/     CF0 : FD 4E 02            	LD	C,(IY+STRENL_YO)
    1836/     CF3 : FD 46 03            	LD	B,(IY+STRENL_YO+1)
    1837/     CF6 : AF                  	XOR	A
    1838/     CF7 : EB                  	EX	DE,HL
    1839/     CF8 : ED 42               	SBC	HL,BC
    1840/     CFA : 28 0C               	JR	Z,GO_ENLACE3
    1841/     CFC :                     
    1842/     CFC : D1                  GO_ENLACE2:	POP	DE
    1843/     CFD : E1                  	POP	HL
    1844/     CFE : D9                  	EXX
    1845/     CFF : FD 19               	ADD	IY,DE
    1846/     D01 : 10 DF               	DJNZ	GO_ENLACE1
    1847/     D03 :                     
    1848/     D03 : C1                  	POP	BC
    1849/     D04 : F1                  	POP	AF
    1850/     D05 : 3E 01               	LD	A,1
    1851/     D07 : C9                  	RET
    1852/     D08 :                     
    1853/     D08 :                     
    1854/     D08 : D1                  GO_ENLACE3:	POP	DE
    1855/     D09 : E1                  	POP	HL
    1856/     D0A : C1                  	POP	BC
    1857/     D0B :                     
    1858/     D0B : AF                  	XOR	A
    1859/     D0C : B0                  	OR	B
    1860/     D0D : 20 12               	JR	NZ,GO_ENLACE4
    1861/     D0F :                     
    1862/     D0F : FD 7E 08            	LD	A,(IY+STRENL_TA_OF)
    1863/     D12 : 32 94 14            	LD	(MAPRUT_OFF),A
    1864/     D15 : 87                  	ADD	A,A
    1865/     D16 : 87                  	ADD	A,A
    1866/     D17 : 21 EF 64            	LD	HL,PROPIEDAD_VEC
    1867/     D1A : 5F                  	LD	E,A
    1868/     D1B : 16 00               	LD	D,0
    1869/     D1D : 19                  	ADD	HL,DE
    1870/     D1E : 22 95 14            	LD	(PROP_PTR),HL
    1871/     D21 :                     
    1872/     D21 : FD 6E 04            GO_ENLACE4	LD	L,(IY+STRENL_XD)
    1873/     D24 : FD 66 05            	LD	H,(IY+STRENL_XD+1)
    1874/     D27 : FD 5E 06            	LD	E,(IY+STRENL_YD)
    1875/     D2A : FD 56 07            	LD	D,(IY+STRENL_YD+1)
    1876/     D2D : F1                  	POP	AF
    1877/     D2E :                     
    1878/     D2E : FD 4E 09            	LD	C,(IY+STRENL_ADJ)
    1879/     D31 : DD E5               	PUSH	IX
    1880/     D33 : CD 42 0D            	CALL	SET_XY
    1881/     D36 : 3E 03               	LD	A,TIMEFADE
    1882/     D38 : 32 9D 14            	LD	(FADE_V),A
    1883/     D3B : CD 96 38            	CALL	FADE_OFF
    1884/     D3E : DD E1               	POP	IX
    1885/     D40 : AF                  	XOR	A
    1886/     D41 : C9                  	RET
    1887/     D42 :                     
    1888/     D42 :                     
    1889/     D42 :                     ;NOMBRE: SET_XY
    1890/     D42 :                     ;OBJETIVO: COLOCAR UN PERSONAJE EN LA POSICION XY.
    1891/     D42 :                     ;ENTRADA: HL -> COORDENADA X
    1892/     D42 :                     ;         DE -> COORDENADA Y
    1893/     D42 :                     ;         IX -> PUNTERO AL PERSONAJE.
 AS V1.42 Beta [Bld 28] - source file game.asm - page 43 - 8/12/2011 20:51:50


    1894/     D42 :                     ;         B  -> SERA 0 SI EL PERSONAJE DIRIGUE EL SCROLL.
    1895/     D42 :                     ;         C  -> EN CASO DE QUE B SEA 0 INDICA EL TIPO DE ALINEAMIENTO.
    1896/     D42 :                     ;         A  -> NUMERO DE PERSONAJE
    1897/     D42 :                     
    1898/     D42 : 08                  SET_XY:	EX	AF,AF'
    1899/     D43 : 7D                  	LD	A,L
    1900/     D44 : E6 F8               	AND	0F8h
    1901/     D46 : 6F                  	LD	L,A
    1902/     D47 : 7B                  	LD	A,E
    1903/     D48 : E6 F8               	AND	0F8h
    1904/     D4A : C6 04               	ADD	A,4
    1905/     D4C : 5F                  	LD	E,A
    1906/     D4D :                     
    1907/     D4D : DD 75 02            	LD	(IX+STRPER_X),L
    1908/     D50 : DD 74 03            	LD	(IX+STRPER_X+1),H
    1909/     D53 : DD 73 00            	LD	(IX+STRPER_Y),E
    1910/     D56 : DD 72 01            	LD	(IX+STRPER_Y+1),D
    1911/     D59 :                     
    1912/     D59 :                     
    1913/     D59 : AF                  	XOR	A
    1914/     D5A : B0                  	OR	B
    1915/     D5B : C0                  	RET	NZ
    1916/     D5C :                     
    1917/     D5C : 08                  	EX	AF,AF'
    1918/     D5D : 06 03               	LD	B,MAXNUMPJS
    1919/     D5F : B8                  	CP	B
    1920/     D60 : 30 2F               	JR	NC,SET_XY1P
    1921/     D62 : 3A 8D 14            	LD	A,(MODO_GAME)
    1922/     D65 : FE 00               	CP	INTERIOR
    1923/     D67 : 20 28               	JR	NZ,SET_XY1P
    1924/     D69 :                     
    1925/     D69 : 06 03               	LD	B,MAXNUMPJS
    1926/     D6B : DD 2A 8B 14         	LD	IX,(PTR_PERSO)
    1927/     D6F :                     
    1928/     D6F : DD 75 02            SET_XYPJS	LD	(IX+STRPER_X),L
    1929/     D72 : DD 74 03            	LD	(IX+STRPER_X+1),H
    1930/     D75 : DD 73 00            	LD	(IX+STRPER_Y),E
    1931/     D78 : DD 72 01            	LD	(IX+STRPER_Y+1),D
    1932/     D7B : C5                  	PUSH	BC
    1933/     D7C : 01 15 00            	LD	BC,STRUCTPERSO
    1934/     D7F : DD 09               	ADD	IX,BC
    1935/     D81 : C1                  	POP	BC
    1936/     D82 : 10 EB               	DJNZ	SET_XYPJS
    1937/     D84 :                     
    1938/     D84 :                     
    1939/     D84 : D9                  	EXX
    1940/     D85 : 3E 80               	LD	A,80h
    1941/     D87 : 06 20               	LD	B,TAM_FIFO
    1942/     D89 : 21 82 1E            	LD	HL,MOVPJSWAY
    1943/     D8C : 77                  SET_XYLFIFO	LD	(HL),A
    1944/     D8D : 23                  	INC	HL
    1945/     D8E : 10 FC               	DJNZ	SET_XYLFIFO
    1946/     D90 : D9                  	EXX
    1947/     D91 :                     
    1948/     D91 :                     
    1949/     D91 : 06 03               SET_XY1P	LD	B,3
    1950/     D93 : CB 3C               SET_XY1	SRL	H
    1951/     D95 : CB 1D               	RR	L
    1952/     D97 : 10 FA               	DJNZ	SET_XY1
    1953/     D99 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm - page 44 - 8/12/2011 20:51:50


    1954/     D99 : 06 03               	LD	B,3
    1955/     D9B : CB 3A               SET_XY2	SRL	D
    1956/     D9D : CB 1B               	RR	E
    1957/     D9F : 10 FA               	DJNZ	SET_XY2
    1958/     DA1 :                     
    1959/     DA1 : E5                  	PUSH	HL
    1960/     DA2 : DD E1               	POP	IX
    1961/     DA4 : D5                  	PUSH	DE
    1962/     DA5 : FD E1               	POP	IY
    1963/     DA7 : 79                  	LD	A,C
    1964/     DA8 :                     
    1965/     DA8 :                     
    1966/     DA8 : 01 E6 FF            	LD	BC,-NUMPATX+2
    1967/     DAB : 11 F6 FF            	LD	DE,-NUMPATY+5
    1968/     DAE : D9                  	EXX
    1969/     DAF : 01 F4 FF            	LD	BC,-NUMPATX2+2
    1970/     DB2 : 11 FA FF            	LD	DE,-NUMPATY2+1
    1971/     DB5 :                     
    1972/     DB5 :                     
    1973/     DB5 : FE 00               	CP	CEN_TOTAL
    1974/     DB7 : 20 06               	JR	NZ,SET_XY_AJ1
    1975/     DB9 : DD 09               	ADD	IX,BC
    1976/     DBB : FD 19               	ADD	IY,DE
    1977/     DBD : 18 41               	JR	SET_XYF
    1978/     DBF :                     
    1979/     DBF : FE 10               SET_XY_AJ1	CP	CEN_HOR_ARR
    1980/     DC1 : 20 04               	JR	NZ,SET_XY_AJ2
    1981/     DC3 : DD 09               	ADD	IX,BC
    1982/     DC5 : 18 39               	JR	SET_XYF
    1983/     DC7 :                     
    1984/     DC7 : FE 20               SET_XY_AJ2	CP	CEN_HOR_ABA
    1985/     DC9 : 20 07               	JR	NZ,SET_XY_AJ3
    1986/     DCB : DD 09               	ADD	IX,BC
    1987/     DCD : D9                  	EXX
    1988/     DCE : FD 19               	ADD	IY,DE
    1989/     DD0 : 18 2E               	JR	SET_XYF
    1990/     DD2 :                     
    1991/     DD2 : FE 30               SET_XY_AJ3	CP	CEN_VER_IZQ
    1992/     DD4 : 20 04               	JR	NZ,SET_XY_AJ4
    1993/     DD6 : FD 19               	ADD	IY,DE
    1994/     DD8 : 18 26               	JR	SET_XYF
    1995/     DDA :                     
    1996/     DDA : FE 40               SET_XY_AJ4	CP	CEN_VER_DER
    1997/     DDC : 20 07               	JR	NZ,SET_XY_AJ5
    1998/     DDE : FD 19               	ADD	IY,DE
    1999/     DE0 : D9                  	EXX
    2000/     DE1 : DD 09               	ADD	IX,BC
    2001/     DE3 : 18 1B               	JR	SET_XYF
    2002/     DE5 :                     
    2003/     DE5 : FE 60               SET_XY_AJ5	CP	ESQ_SUP_DER
    2004/     DE7 : 20 05               	JR	NZ,SET_XY_AJ6
    2005/     DE9 : D9                  	EXX
    2006/     DEA : DD 09               	ADD	IX,BC
    2007/     DEC : 18 12               	JR	SET_XYF
    2008/     DEE :                     
    2009/     DEE : FE 70               SET_XY_AJ6	CP	ESQ_INF_IZQ
    2010/     DF0 : 20 05               	JR	NZ,SET_XY_AJ7
    2011/     DF2 : D9                  	EXX
    2012/     DF3 : FD 19               	ADD	IY,DE
    2013/     DF5 : 18 09               	JR	SET_XYF
 AS V1.42 Beta [Bld 28] - source file game.asm - page 45 - 8/12/2011 20:51:50


    2014/     DF7 :                     
    2015/     DF7 : FE 80               SET_XY_AJ7	CP	ESQ_INF_DER
    2016/     DF9 : 20 05               	JR	NZ,SET_XYF
    2017/     DFB : D9                  	EXX
    2018/     DFC : DD 09               	ADD	IX,BC
    2019/     DFE : FD 19               	ADD	IY,DE
    2020/     E00 :                     
    2021/     E00 : DD E5               SET_XYF	PUSH	IX
    2022/     E02 : E1                  	POP	HL
    2023/     E03 : FD E5               	PUSH	IY
    2024/     E05 : D1                  	POP	DE
    2025/     E06 :                     
    2026/     E06 : CB 7C               	BIT	7,H
    2027/     E08 : 28 03               	JR	Z,SETXY_TDE
    2028/     E0A : 21 01 00            	LD	HL,1
    2029/     E0D :                     
    2030/     E0D :                     
    2031/     E0D :                     
    2032/     E0D :                     
    2033/     E0D : CB 7A               SETXY_TDE	BIT	7,D
    2034/     E0F : 28 03               	JR	Z,SETXY_TF
    2035/     E11 : 11 01 00            	LD	DE,1
    2036/     E14 :                     
    2037/     E14 : 22 A0 14            SETXY_TF	LD	(DESP_PANTX),HL
    2038/     E17 : ED 53 A2 14         	LD	(DESP_PANTY),DE
    2039/     E1B : 3E 02               	LD	A,2
    2040/     E1D : 32 93 14            	LD	(MAPEACONT),A
    2041/     E20 : C9                  	RET
    2042/     E21 :                     
    2043/     E21 :                     
    2044/     E21 :                     
    2045/     E21 :                     
    2046/     E21 :                     
    2047/     E21 :                     
    2048/     E21 :                     
    2049/     E21 :                     
    2050/     E21 :                     
    2051/     E21 :                     ;NOMBRE: MAKESCROLL
    2052/     E21 :                     ;OBJETIVO: INCREMENTAR LAS VARIABLES DE SCROLL EN FUNCION DE LAS SOLICITUDES
    2053/     E21 :                     
    2054/     E21 :                     
    2055/     E21 :                     
    2056/     E21 : 3A A4 14            MAKESCROLL:	LD	A,(SCROLLST)
    2057/     E24 : E6 08               	AND	ARRSCR
    2058/     E26 : 28 0C               	JR	Z,MKSCROLLAB
    2059/     E28 :                     
    2060/     E28 : 2A A2 14            	LD	HL,(DESP_PANTY)
    2061/     E2B : 2B                  	DEC	HL
    2062/     E2C : 22 A2 14            	LD	(DESP_PANTY),HL
    2063/     E2F : 3E 02               	LD	A,2
    2064/     E31 : 32 93 14            	LD	(MAPEACONT),A
    2065/     E34 :                     
    2066/     E34 :                     
    2067/     E34 : 3A A4 14            MKSCROLLAB:	LD	A,(SCROLLST)
    2068/     E37 : E6 04               	AND	ABASCR
    2069/     E39 : 28 0C               	JR	Z,MKSCROLLIZ
    2070/     E3B :                     
    2071/     E3B : 2A A2 14            	LD	HL,(DESP_PANTY)
    2072/     E3E : 23                  	INC	HL
    2073/     E3F : 22 A2 14            	LD	(DESP_PANTY),HL
 AS V1.42 Beta [Bld 28] - source file game.asm - page 46 - 8/12/2011 20:51:50


    2074/     E42 : 3E 02               	LD	A,2
    2075/     E44 : 32 93 14            	LD	(MAPEACONT),A
    2076/     E47 :                     
    2077/     E47 :                     
    2078/     E47 :                     
    2079/     E47 : 3A A4 14            MKSCROLLIZ:	LD	A,(SCROLLST)
    2080/     E4A : E6 01               	AND	IZQSCR
    2081/     E4C : 28 0C               	JR	Z,MKSCROLLDE
    2082/     E4E :                     
    2083/     E4E : 2A A0 14            	LD	HL,(DESP_PANTX)
    2084/     E51 : 2B                  	DEC	HL
    2085/     E52 : 22 A0 14            	LD	(DESP_PANTX),HL
    2086/     E55 : 3E 02               	LD	A,2
    2087/     E57 : 32 93 14            	LD	(MAPEACONT),A
    2088/     E5A :                     
    2089/     E5A :                     
    2090/     E5A : 3A A4 14            MKSCROLLDE:	LD	A,(SCROLLST)
    2091/     E5D : E6 02               	AND	DERSCR
    2092/     E5F : C8                  	RET	Z
    2093/     E60 :                     
    2094/     E60 : 2A A0 14            	LD	HL,(DESP_PANTX)
    2095/     E63 : 23                  	INC	HL
    2096/     E64 : 22 A0 14            	LD	(DESP_PANTX),HL
    2097/     E67 : 3E 02               	LD	A,2
    2098/     E69 : 32 93 14            	LD	(MAPEACONT),A
    2099/     E6C : C9                  	RET
    2100/     E6D :                     
    2101/     E6D :                     
    2102/     E6D :                     
    2103/     E6D :                     ;NOMBRE: DOSCROLL
    2104/     E6D :                     ;OBJETIVO: GESTIONAR EL SCROLL DE LA PANTALLA.
    2105/     E6D :                     ;ENTRADA: IX -> PUNTERO AL PERSONAJE QUE DIRIGUE EL MAPA
    2106/     E6D :                     
    2107/     E6D :                     
    2108/     E6D : 3A 4F 0A            DOSCROLL:	LD	A,(SWAP_CONT)
    2109/     E70 : B7                  	OR	A
    2110/     E71 : C0                  	RET	NZ
    2111/     E72 :                     
    2112/     E72 : DD 6E 05            	LD	L,(IX+STRPER_FIG)	;TODO ESTO ES NECESARIO PARA
    2113/     E75 : DD 66 06            	LD	H,(IX+STRPER_FIG+1)	;NO MODIFICAR LA FIGURA
    2114/     E78 : 11 72 0F            	LD	DE,DOSCR_SFIG
    2115/     E7B : DD 73 05            	LD	(IX+STRPER_FIG),E
    2116/     E7E : DD 72 06            	LD	(IX+STRPER_FIG+1),D
    2117/     E81 :                     
    2118/     E81 : E5                  	PUSH	HL
    2119/     E82 : DD E5               	PUSH	IX
    2120/     E84 : CD E2 21            	CALL	MOVPVIS
    2121/     E87 : DD E1               	POP	IX
    2122/     E89 : E1                  	POP	HL
    2123/     E8A :                     
    2124/     E8A : DD 4E 05            	LD	C,(IX+STRPER_FIG)
    2125/     E8D : DD 46 06            	LD	B,(IX+STRPER_FIG+1)
    2126/     E90 : DD 75 05            	LD	(IX+STRPER_FIG),L
    2127/     E93 : DD 74 06            	LD	(IX+STRPER_FIG+1),H
    2128/     E96 :                     
    2129/     E96 : AF                  	XOR	A
    2130/     E97 : B9                  	CP	C
    2131/     E98 : 20 02               	JR	NZ,DOSCROLL1
    2132/     E9A : B8                  	CP	B
    2133/     E9B : C8                  	RET	Z
 AS V1.42 Beta [Bld 28] - source file game.asm - page 47 - 8/12/2011 20:51:50


    2134/     E9C :                     
    2135/     E9C :                     
    2136/     E9C : DD 6E 02            DOSCROLL1	LD	L,(IX+STRPER_X)
    2137/     E9F : DD 66 03            	LD	H,(IX+STRPER_X+1)
    2138/     EA2 : 06 03               	LD	B,3
    2139/     EA4 : CB 3C               DOSCR1:	SRL	H
    2140/     EA6 : CB 1D               	RR	L
    2141/     EA8 : 10 FA               	DJNZ	DOSCR1
    2142/     EAA : 22 6E 0F            	LD	(DOSCR_PATX),HL
    2143/     EAD :                     
    2144/     EAD : DD 6E 00            	LD	L,(IX+STRPER_Y)
    2145/     EB0 : DD 66 01            	LD	H,(IX+STRPER_Y+1)
    2146/     EB3 : 06 03               	LD	B,3
    2147/     EB5 : CB 3C               DOSCR2:	SRL	H
    2148/     EB7 : CB 1D               	RR	L
    2149/     EB9 : 10 FA               	DJNZ	DOSCR2
    2150/     EBB : 22 70 0F            	LD	(DOSCR_PATY),HL
    2151/     EBE :                     
    2152/     EBE : 3A 76 0F            	LD	A,(DOSCR_SFIG+STRFIG_YACT)
    2153/     EC1 : E6 F8               	AND	0F8h
    2154/     EC3 : 1E 20               	LD	E,COORCYAR
    2155/     EC5 : BB                  	CP	E
    2156/     EC6 : 20 20               	JR	NZ,DOSCROLLAB
    2157/     EC8 :                     
    2158/     EC8 : 2A 70 0F            	LD	HL,(DOSCR_PATY)
    2159/     ECB : 11 FB FF            	LD	DE,OFF_PVISYAR
    2160/     ECE : 19                  	ADD	HL,DE
    2161/     ECF : CB 25               	SLA	L
    2162/     ED1 : CB 14               	RL	H
    2163/     ED3 : 11 67 48            	LD	DE,INDEXMAPA
    2164/     ED6 : 19                  	ADD	HL,DE
    2165/     ED7 : 5E                  	LD	E,(HL)
    2166/     ED8 : 23                  	INC	HL
    2167/     ED9 : 56                  	LD	D,(HL)
    2168/     EDA :                     
    2169/     EDA : 2A 6E 0F            	LD	HL,(DOSCR_PATX)
    2170/     EDD : 19                  	ADD	HL,DE
    2171/     EDE : 7E                  	LD	A,(HL)
    2172/     EDF : FE FF               	CP	PATFINSCROLL
    2173/     EE1 : 28 05               	JR	Z,DOSCROLLAB
    2174/     EE3 :                     
    2175/     EE3 : 3E 08               	LD	A,ARRSCR
    2176/     EE5 : 32 A5 14            	LD	(SCROLLSOL),A
    2177/     EE8 :                     
    2178/     EE8 : 3A 76 0F            DOSCROLLAB:	LD	A,(DOSCR_SFIG+STRFIG_YACT)
    2179/     EEB : E6 F8               	AND	0F8h
    2180/     EED : 1E 40               	LD	E,COORCYAB
    2181/     EEF : BB                  	CP	E
    2182/     EF0 : 20 23               	JR	NZ,DOSCROLLIZ
    2183/     EF2 :                     
    2184/     EF2 : 2A 70 0F            	LD	HL,(DOSCR_PATY)
    2185/     EF5 : 11 06 00            	LD	DE,OFF_PVISYAB
    2186/     EF8 : 19                  	ADD	HL,DE
    2187/     EF9 : CB 25               	SLA	L
    2188/     EFB : CB 14               	RL	H
    2189/     EFD : 11 67 48            	LD	DE,INDEXMAPA
    2190/     F00 : 19                  	ADD	HL,DE
    2191/     F01 : 5E                  	LD	E,(HL)
    2192/     F02 : 23                  	INC	HL
    2193/     F03 : 56                  	LD	D,(HL)
 AS V1.42 Beta [Bld 28] - source file game.asm - page 48 - 8/12/2011 20:51:50


    2194/     F04 : 2A 6E 0F            	LD	HL,(DOSCR_PATX)
    2195/     F07 : 19                  	ADD	HL,DE
    2196/     F08 : 7E                  	LD	A,(HL)
    2197/     F09 : FE FF               	CP	PATFINSCROLL
    2198/     F0B : 28 08               	JR	Z,DOSCROLLIZ
    2199/     F0D :                     
    2200/     F0D : 3A A5 14            	LD	A,(SCROLLSOL)
    2201/     F10 : F6 04               	OR	ABASCR
    2202/     F12 : 32 A5 14            	LD	(SCROLLSOL),A
    2203/     F15 :                     
    2204/     F15 :                     
    2205/     F15 : 3A 75 0F            DOSCROLLIZ:	LD	A,(DOSCR_SFIG+STRFIG_XACT)
    2206/     F18 : E6 F8               	AND	0F8h
    2207/     F1A : 1E 20               	LD	E,COORCXIZ
    2208/     F1C : BB                  	CP	E
    2209/     F1D : 20 23               	JR	NZ,DOSCROLLDE
    2210/     F1F :                     
    2211/     F1F : 2A 70 0F            	LD	HL,(DOSCR_PATY)
    2212/     F22 : CB 25               	SLA	L
    2213/     F24 : CB 14               	RL	H
    2214/     F26 : 11 67 48            	LD	DE,INDEXMAPA
    2215/     F29 : 19                  	ADD	HL,DE
    2216/     F2A : 5E                  	LD	E,(HL)
    2217/     F2B : 23                  	INC	HL
    2218/     F2C : 56                  	LD	D,(HL)
    2219/     F2D : 2A 6E 0F            	LD	HL,(DOSCR_PATX)
    2220/     F30 : 19                  	ADD	HL,DE
    2221/     F31 : 11 FB FF            	LD	DE,OFF_PVISXIZ
    2222/     F34 : 19                  	ADD	HL,DE
    2223/     F35 : 7E                  	LD	A,(HL)
    2224/     F36 : FE FF               	CP	PATFINSCROLL
    2225/     F38 : 28 08               	JR	Z,DOSCROLLDE
    2226/     F3A :                     
    2227/     F3A : 3A A5 14            	LD	A,(SCROLLSOL)
    2228/     F3D : F6 01               	OR	IZQSCR
    2229/     F3F : 32 A5 14            	LD	(SCROLLSOL),A
    2230/     F42 :                     
    2231/     F42 :                     
    2232/     F42 : 3A 75 0F            DOSCROLLDE:	LD	A,(DOSCR_SFIG+STRFIG_XACT)
    2233/     F45 : E6 F8               	AND	0F8h
    2234/     F47 : 1E B0               	LD	E,COORCXDE
    2235/     F49 : BB                  	CP	E
    2236/     F4A : C0                  	RET	NZ
    2237/     F4B :                     
    2238/     F4B : 2A 70 0F            	LD	HL,(DOSCR_PATY)
    2239/     F4E : CB 25               	SLA	L
    2240/     F50 : CB 14               	RL	H
    2241/     F52 : 11 67 48            	LD	DE,INDEXMAPA
    2242/     F55 : 19                  	ADD	HL,DE
    2243/     F56 : 5E                  	LD	E,(HL)
    2244/     F57 : 23                  	INC	HL
    2245/     F58 : 56                  	LD	D,(HL)
    2246/     F59 : 2A 6E 0F            	LD	HL,(DOSCR_PATX)
    2247/     F5C : 19                  	ADD	HL,DE
    2248/     F5D : 11 06 00            	LD	DE,OFF_PVISXDE
    2249/     F60 : 19                  	ADD	HL,DE
    2250/     F61 : 7E                  	LD	A,(HL)
    2251/     F62 : FE FF               	CP	PATFINSCROLL
    2252/     F64 : C8                  	RET	Z
    2253/     F65 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm - page 49 - 8/12/2011 20:51:50


    2254/     F65 : 3A A5 14            	LD	A,(SCROLLSOL)
    2255/     F68 : F6 02               	OR	DERSCR
    2256/     F6A : 32 A5 14            	LD	(SCROLLSOL),A
    2257/     F6D :                     
    2258/     F6D : C9                  	RET
    2259/     F6E :                     
    2260/     F6E : 00 00               DOSCR_PATX:	DW	0
    2261/     F70 : 00 00               DOSCR_PATY:	DW	0
    2262/     F72 :                     DOSCR_SFIG:	DS	STRUCTFIGURA
    2263/     F80 :                     
    2264/     F80 :                     
    2265/     F80 :                     
    2266/     F80 :                     ;NOMBRE: SAVE2PLANE
    2267/     F80 :                     ;OBJETIVO: SALVAR AQUELLOS PATRONES PISADOS POR UN PERSONAJE
    2268/     F80 :                     ;ENTRADA: IX -> PUNTERO AL PERSONAJE QUE SE MUEVE
    2269/     F80 :                     
    2270/     F80 :                     
    2271/     F80 : DD 6E 05            SAVE2PLANE:	LD	L,(IX+STRPER_FIG)
    2272/     F83 : DD 66 06            	LD	H,(IX+STRPER_FIG+1)
    2273/     F86 : E5                  	PUSH	HL
    2274/     F87 : FD E1               	POP	IY
    2275/     F89 :                     
    2276/     F89 : FD 7E 03            	LD	A,(IY+STRFIG_XACT)
    2277/     F8C : F5                  	PUSH	AF
    2278/     F8D :                     
    2279/     F8D :                     
    2280/     F8D : 0E 00               	LD	C,0
    2281/     F8F : 06 03               	LD	B,3
    2282/     F91 : CB 3F               SAVE2PLN1	SRL	A
    2283/     F93 : CB 11               	RL	C
    2284/     F95 : 10 FA               	DJNZ	SAVE2PLN1
    2285/     F97 :                     
    2286/     F97 : 2A A0 14            	LD	HL,(DESP_PANTX)
    2287/     F9A : 5F                  	LD	E,A
    2288/     F9B : 16 00               	LD	D,0
    2289/     F9D : 19                  	ADD	HL,DE
    2290/     F9E :                     
    2291/     F9E : F1                  	POP	AF
    2292/     F9F : E6 F8               	AND	0F8h
    2293/     FA1 : 32 4D 10            	LD	(SAVE2PLNXO),A
    2294/     FA4 :                     
    2295/     FA4 : C5                  	PUSH	BC
    2296/     FA5 : FD 7E 04            	LD	A,(IY+STRFIG_YACT)
    2297/     FA8 : F5                  	PUSH	AF
    2298/     FA9 :                     
    2299/     FA9 : 0E 00               	LD	C,0
    2300/     FAB : 06 03               	LD	B,3
    2301/     FAD : CB 3F               SAVE2PLN2	SRL	A
    2302/     FAF : CB 11               	RL	C
    2303/     FB1 : 10 FA               	DJNZ	SAVE2PLN2
    2304/     FB3 :                     
    2305/     FB3 : E5                  	PUSH	HL
    2306/     FB4 : 2A A2 14            	LD	HL,(DESP_PANTY)
    2307/     FB7 : 5F                  	LD	E,A
    2308/     FB8 : 16 00               	LD	D,0
    2309/     FBA : 19                  	ADD	HL,DE
    2310/     FBB : EB                  	EX	DE,HL
    2311/     FBC : E1                  	POP	HL
    2312/     FBD : F1                  	POP	AF
    2313/     FBE : E6 F8               	AND	0F8h
 AS V1.42 Beta [Bld 28] - source file game.asm - page 50 - 8/12/2011 20:51:50


    2314/     FC0 : 32 4E 10            	LD	(SAVE2PLNYO),A
    2315/     FC3 :                     
    2316/     FC3 : AF                  	XOR	A
    2317/     FC4 : B1                  	OR	C
    2318/     FC5 : 3A 90 14            	LD	A,(ALTOPATPER)
    2319/     FC8 : 28 01               	JR	Z,SAVE2PLNX
    2320/     FCA : 3C                  	INC	A
    2321/     FCB :                     
    2322/     FCB : 32 4B 10            SAVE2PLNX:	LD	(SAVE2PLNNY),A
    2323/     FCE : C1                  	POP	BC
    2324/     FCF : AF                  	XOR	A
    2325/     FD0 : B1                  	OR	C
    2326/     FD1 : 3A 8F 14            	LD	A,(ANCHOPATPER)
    2327/     FD4 : 28 01               	JR	Z,SAVE2PLN
    2328/     FD6 : 3C                  	INC	A
    2329/     FD7 :                     
    2330/     FD7 : 32 4C 10            SAVE2PLN:	LD	(SAVE2PLNNX),A
    2331/     FDA : E5                  	PUSH	HL
    2332/     FDB : CB 23               	SLA	E
    2333/     FDD : CB 12               	RL	D
    2334/     FDF : 21 67 48            	LD	HL,INDEXMAPA
    2335/     FE2 : 19                  	ADD	HL,DE
    2336/     FE3 : 5E                  	LD	E,(HL)
    2337/     FE4 : 23                  	INC	HL
    2338/     FE5 : 56                  	LD	D,(HL)
    2339/     FE6 : E1                  	POP	HL
    2340/     FE7 : 19                  	ADD	HL,DE
    2341/     FE8 : DD 21 D3 42         	LD	IX,STR2PLN_VEC
    2342/     FEC : 11 03 00            	LD	DE,STRUCT2PLANE
    2343/     FEF : 3A A6 14            	LD	A,(NUMPAT2PLN)
    2344/     FF2 : 47                  	LD	B,A
    2345/     FF3 : B7                  	OR	A
    2346/     FF4 : 28 04               	JR	Z,SAVE2PLN3
    2347/     FF6 :                     
    2348/     FF6 : DD 19               SAVE2PLN4	ADD	IX,DE
    2349/     FF8 : 10 FC               	DJNZ	SAVE2PLN4
    2350/     FFA :                     
    2351/     FFA : 3A 4B 10            SAVE2PLN3:	LD	A,(SAVE2PLNNY)
    2352/     FFD : 47                  	LD	B,A
    2353/     FFE : E5                  SAVE2PLNBY	PUSH	HL
    2354/     FFF : C5                  	PUSH	BC
    2355/    1000 : 3A 4C 10            	LD	A,(SAVE2PLNNX)
    2356/    1003 : 47                  	LD	B,A
    2357/    1004 : 3A 4D 10            	LD	A,(SAVE2PLNXO)
    2358/    1007 : 57                  	LD	D,A
    2359/    1008 : 7E                  SAVE2PLNBX	LD	A,(HL)
    2360/    1009 : D9                  	EXX
    2361/    100A : 4F                  	LD	C,A
    2362/    100B : 06 00               	LD	B,0
    2363/    100D : 2A 95 14            	LD	HL,(PROP_PTR)
    2364/    1010 : 09                  	ADD	HL,BC
    2365/    1011 : 7E                  	LD	A,(HL)
    2366/    1012 : D9                  	EXX
    2367/    1013 : CB 4F               	BIT	1,A
    2368/    1015 : 28 1B               	JR	Z,SAVE2PLNN2
    2369/    1017 :                     
    2370/    1017 : 7E                  	LD	A,(HL)
    2371/    1018 : DD 77 02            	LD	(IX+STR2PLN_PAT),A
    2372/    101B : DD 72 00            	LD	(IX+STR2PLN_X),D
    2373/    101E : 3A 4E 10            	LD	A,(SAVE2PLNYO)
 AS V1.42 Beta [Bld 28] - source file game.asm - page 51 - 8/12/2011 20:51:50


    2374/    1021 : DD 77 01            	LD	(IX+STR2PLN_Y),A
    2375/    1024 : 3A A6 14            	LD	A,(NUMPAT2PLN)
    2376/    1027 : 3C                  	INC	A
    2377/    1028 : 32 A6 14            	LD	(NUMPAT2PLN),A
    2378/    102B : D9                  	EXX
    2379/    102C : 11 03 00            	LD	DE,STRUCT2PLANE
    2380/    102F : DD 19               	ADD	IX,DE
    2381/    1031 : D9                  	EXX
    2382/    1032 :                     
    2383/    1032 : 23                  SAVE2PLNN2:	INC	HL
    2384/    1033 : 3E 08               	LD	A,8
    2385/    1035 : 82                  	ADD	A,D
    2386/    1036 : 57                  	LD	D,A
    2387/    1037 : 10 CF               	DJNZ	SAVE2PLNBX
    2388/    1039 :                     
    2389/    1039 : C1                  	POP	BC
    2390/    103A : E1                  	POP	HL
    2391/    103B : ED 5B 87 14         	LD	DE,(TAM_FILA_MTEX)
    2392/    103F : 19                  	ADD	HL,DE
    2393/    1040 : 3A 4E 10            	LD	A,(SAVE2PLNYO)
    2394/    1043 : C6 08               	ADD	A,8
    2395/    1045 : 32 4E 10            	LD	(SAVE2PLNYO),A
    2396/    1048 : 10 B4               	DJNZ	SAVE2PLNBY
    2397/    104A : C9                  	RET
    2398/    104B :                     
    2399/    104B :                     
    2400/    104B : 00                  SAVE2PLNNY:	DB	0
    2401/    104C : 00                  SAVE2PLNNX:	DB	0
    2402/    104D : 00                  SAVE2PLNXO:	DB	0
    2403/    104E : 00                  SAVE2PLNYO:	DB	0
    2404/    104F :                     
    2405/    104F :                     
    2406/    104F :                     
    2407/    104F :                     
    2408/    104F :                     ;NOMBRE:PUT2PLANE
    2409/    104F :                     ;OBJETIVO: RESTAURAR AQUELLOS PATRONES DEL SEGUNDO PLANO QUE HAN SIDO PISADOS
    2410/    104F :                     ;          POR ALGUN PERSONAJE.
    2411/    104F :                     
    2412/    104F :                     
    2413/    104F :                     
    2414/    104F : 3A A6 14            PUT2PLANE:	LD	A,(NUMPAT2PLN)
    2415/    1052 : B7                  	OR	A
    2416/    1053 : C8                  	RET	Z
    2417/    1054 :                     
    2418/    1054 : 47                  	LD	B,A
    2419/    1055 : DD 21 D3 42         	LD	IX,STR2PLN_VEC
    2420/    1059 : 11 03 00            	LD	DE,STRUCT2PLANE
    2421/    105C : 3A 8A 14            	LD	A,(PAG_NACT)
    2422/    105F : 32 7B 14            	LD	(MAPEAPD),A
    2423/    1062 : DD 7E 02            PUT2PLN1	LD	A,(IX+STR2PLN_PAT)
    2424/    1065 : D9                  	EXX
    2425/    1066 : 06 00               	LD	B,0
    2426/    1068 : 17                  	RLA
    2427/    1069 : CB 10               	RL	B
    2428/    106B : 17                  	RLA
    2429/    106C : CB 10               	RL	B
    2430/    106E : 17                  	RLA
    2431/    106F : CB 10               	RL	B
    2432/    1071 : CB 20               	SLA	B
    2433/    1073 : CB 20               	SLA	B
 AS V1.42 Beta [Bld 28] - source file game.asm - page 52 - 8/12/2011 20:51:50


    2434/    1075 : CB 20               	SLA	B
    2435/    1077 : 32 74 14            	LD	(MAPEAXO),A
    2436/    107A :                     
    2437/    107A : 3A 94 14            	LD	A,(MAPRUT_OFF)
    2438/    107D : 80                  	ADD	A,B
    2439/    107E : C6 98               	ADD	A,COORDY_PAT
    2440/    1080 : 32 76 14            	LD	(MAPEAYO),A
    2441/    1083 :                     
    2442/    1083 : DD 7E 00            	LD	A,(IX+STR2PLN_X)
    2443/    1086 : C6 10               	ADD	A,OFF_PANTX
    2444/    1088 : 32 78 14            	LD	(MAPEAXD),A
    2445/    108B :                     
    2446/    108B : DD 7E 01            	LD	A,(IX+STR2PLN_Y)
    2447/    108E : C6 14               	ADD	A,OFF_PANTY
    2448/    1090 : 32 7A 14            	LD	(MAPEAYD),A
    2449/    1093 :                     
    2450/    1093 : 21 74 14            	LD	HL,MAPEAXO
    2451/    1096 : CD 1B 36            	CALL	WAIT_COM
    2452/    1099 : CD 46 33            	CALL	COPYVRAM
    2453/    109C : D9                  	EXX
    2454/    109D : DD 19               	ADD	IX,DE
    2455/    109F : 10 C1               	DJNZ	PUT2PLN1
    2456/    10A1 : C9                  	RET
    2457/    10A2 :                     
    2458/    10A2 :                     
    2459/    10A2 :                     
    2460/    10A2 :                     
    2461/    10A2 :                     
    2462/    10A2 :                     
    2463/    10A2 :                     ;NOMBRE: INITFIGURA
    2464/    10A2 :                     ;OBJETIVO: INICIALIZAR LOS DATOS DE UNA FIGURA, ADEMAS DE SALVAR EL FONDO
    2465/    10A2 :                     ;          DE LA PAGINA OCULTA Y COPIAR EL PERSONAJE A DICHA PAGINA.
    2466/    10A2 :                     ;ENTRADA: B -> COORDENADA Y
    2467/    10A2 :                     ;         C -> COORDENADA X
    2468/    10A2 :                     ;         H -> DIRECCION INICIAL
    2469/    10A2 :                     ;         L -> PATRON
    2470/    10A2 :                     ;SALIDA: PUNTERO A LA FIGURA CORRESPONDIENTE. SI NO SE ENCUENTRAN FIGURAS LIBRES
    2471/    10A2 :                     ;        SERA 0.
    2472/    10A2 :                     ;MODIFICA: AF,AF',BC,DE,IX,HL
    2473/    10A2 :                     
    2474/    10A2 :                     
    2475/    10A2 :                     
    2476/    10A2 : DD 21 FD 48         INITFIGURA:	LD	IX,STRFIG_VECTOR
    2477/    10A6 : C5                  	PUSH	BC
    2478/    10A7 : 06 10               	LD	B,MAXFIGURAS
    2479/    10A9 : 11 0E 00            	LD	DE,STRUCTFIGURA
    2480/    10AC : DD 7E 08            INITFIGURA1	LD	A,(IX+STRFIG_OCUP)
    2481/    10AF : B7                  	OR	A
    2482/    10B0 : 20 06               	JR	NZ,INITFIGURA2
    2483/    10B2 : DD 7E 0A            	LD	A,(IX+STRFIG_BRD)
    2484/    10B5 : B7                  	OR	A
    2485/    10B6 : 28 09               	JR	Z,INITFIGURA3
    2486/    10B8 :                     
    2487/    10B8 : DD 19               INITFIGURA2:	ADD	IX,DE
    2488/    10BA : 10 F0               	DJNZ	INITFIGURA1
    2489/    10BC :                     
    2490/    10BC : 21 00 00            	LD	HL,0
    2491/    10BF : C1                  	POP	BC
    2492/    10C0 : C9                  	RET
    2493/    10C1 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm - page 53 - 8/12/2011 20:51:50


    2494/    10C1 :                     
    2495/    10C1 : 3E 01               INITFIGURA3:	LD	A,1
    2496/    10C3 : DD 77 08            	LD	(IX+STRFIG_OCUP),A
    2497/    10C6 : DD 75 00            	LD	(IX+STRFIG_PAT),L
    2498/    10C9 : DD 74 07            	LD	(IX+STRFIG_DIRE),H
    2499/    10CC :                     
    2500/    10CC : CB BC               	RES	7,H
    2501/    10CE : 44                  	LD	B,H
    2502/    10CF : 1E FF               	LD	E,0FFh
    2503/    10D1 : 54                  	LD	D,H
    2504/    10D2 : 3A 9B 14            	LD	A,(ANIMACIONI)
    2505/    10D5 : CD E8 11            	CALL	AU_ANIMACION
    2506/    10D8 : DD 77 05            	LD	(IX+STRFIG_ANIM),A
    2507/    10DB : DD 71 06            	LD	(IX+STRFIG_REPT),C
    2508/    10DE :                     
    2509/    10DE :                     
    2510/    10DE : C1                  	POP	BC
    2511/    10DF : DD 70 02            	LD	(IX+STRFIG_YANT),B
    2512/    10E2 : DD 70 04            	LD	(IX+STRFIG_YACT),B
    2513/    10E5 : DD 71 03            	LD	(IX+STRFIG_XACT),C
    2514/    10E8 : DD 71 01            	LD	(IX+STRFIG_XANT),C
    2515/    10EB :                     
    2516/    10EB :                     
    2517/    10EB : DD E5               	PUSH	IX
    2518/    10ED : E1                  	POP	HL
    2519/    10EE : C9                  	RET
    2520/    10EF :                     
    2521/    10EF :                     
    2522/    10EF :                     
    2523/    10EF :                     ;NOMBRE: GFIG_MOVAC
    2524/    10EF :                     ;OBJETIVO: GESTIONAR LA ESTRUCTURA DE LA INFORMACION DEL MOVIMIENTO
    2525/    10EF :                     ;          DE UNA FIGURA, ASI COMO REALIZAR FISICAMENTE EL MOVMIENTO.
    2526/    10EF :                     ;ENTRADA:  HL -> PUNTERO A LA FIGURA
    2527/    10EF :                     ;          B  -> COORDENADA Y
    2528/    10EF :                     ;          C  -> COORDENADA X
    2529/    10EF :                     ;          E  -> DIRECCION
    2530/    10EF :                     ;MODIFICA: AF,AF',BC,HL,DE,IX
    2531/    10EF :                     
    2532/    10EF :                     
    2533/    10EF :                     
    2534/    10EF :                     
    2535/    10EF : E5                  GFIG_MOVAC:	PUSH	HL
    2536/    10F0 : DD E1               	POP	IX
    2537/    10F2 : C5                  	PUSH	BC
    2538/    10F3 : DD 4E 06            	LD	C,(IX+STRFIG_REPT)
    2539/    10F6 : 43                  	LD	B,E
    2540/    10F7 : DD 5E 07            	LD	E,(IX+STRFIG_DIRE)
    2541/    10FA : DD 70 07            	LD	(IX+STRFIG_DIRE),B
    2542/    10FD : DD 7E 05            	LD	A,(IX+STRFIG_ANIM)
    2543/    1100 : CD E8 11            	CALL	AU_ANIMACION
    2544/    1103 : DD 77 05            	LD	(IX+STRFIG_ANIM),A
    2545/    1106 : DD 71 06            	LD	(IX+STRFIG_REPT),C
    2546/    1109 :                     
    2547/    1109 :                     
    2548/    1109 : C1                  	POP	BC
    2549/    110A : DD 70 04            	LD	(IX+STRFIG_YACT),B
    2550/    110D : DD 71 03            	LD	(IX+STRFIG_XACT),C
    2551/    1110 : C9                  	RET
    2552/    1111 :                     
    2553/    1111 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm - page 54 - 8/12/2011 20:51:50


    2554/    1111 :                     
    2555/    1111 :                     
    2556/    1111 :                     ;NOMBRE: WRITE_PNA
    2557/    1111 :                     ;OBJETIVO: ESCRIBIR EN LA PAGINA ACTIVA TODOS LOS PERSONAJES QUE SE ESTAN
    2558/    1111 :                     ;          VIENDO EN UN MOMENTO DETERMINADO.
    2559/    1111 :                     ;MODIFICA: AF,BC,DE,HL,IX,AF'
    2560/    1111 :                     
    2561/    1111 :                     
    2562/    1111 :                     
    2563/    1111 :                     
    2564/    1111 : 3A 8D 14            WRITE_PNA:	LD	A,(MODO_GAME)
    2565/    1114 : FE 01               	CP	EXTERIOR
    2566/    1116 : 20 09               	JR	NZ,WRITE_0
    2567/    1118 :                     
    2568/    1118 : 3A AD 14            	LD	A,(WRITE_CONT)
    2569/    111B : B7                  	OR	A
    2570/    111C : C8                  	RET	Z
    2571/    111D : 3D                  	DEC	A
    2572/    111E : 32 AD 14            	LD	(WRITE_CONT),A
    2573/    1121 :                     
    2574/    1121 : 06 10               WRITE_0:	LD	B,MAXFIGURAS
    2575/    1123 : DD 21 CF 49         WRITEPNA0	LD	IX,STRFIG_VECTOR+(STRUCTFIGURA*(MAXFIGURAS-1))
    2576/    1127 : 11 F2 FF            	LD	DE,-STRUCTFIGURA
    2577/    112A : AF                  	XOR	A
    2578/    112B : 32 8B 11            	LD	(WRT_PA_ENC),A
    2579/    112E : 3E FF               	LD	A,255
    2580/    1130 : 32 8A 11            	LD	(WRT_PA_MAY),A
    2581/    1133 : C5                  	PUSH	BC
    2582/    1134 : 06 10               	LD	B,MAXFIGURAS
    2583/    1136 :                     
    2584/    1136 : DD 7E 08            WRITEPNA1	LD	A,(IX+STRFIG_OCUP)
    2585/    1139 : B7                  	OR	A
    2586/    113A : 28 1E               	JR	Z,WRITEPNA2
    2587/    113C :                     
    2588/    113C : DD 7E 09            	LD	A,(IX+STRFIG_WRT)
    2589/    113F : B7                  	OR	A
    2590/    1140 : 20 18               	JR	NZ,WRITEPNA2
    2591/    1142 :                     
    2592/    1142 : 3A 8A 11            	LD	A,(WRT_PA_MAY)
    2593/    1145 : 4F                  	LD	C,A
    2594/    1146 : DD 7E 04            	LD	A,(IX+STRFIG_YACT)
    2595/    1149 : B9                  	CP	C
    2596/    114A : 30 0E               	JR	NC,WRITEPNA2
    2597/    114C :                     
    2598/    114C : 32 8A 11            	LD	(WRT_PA_MAY),A
    2599/    114F : 3E 01               	LD	A,1
    2600/    1151 : 32 8B 11            	LD	(WRT_PA_ENC),A
    2601/    1154 : DD E5               	PUSH	IX
    2602/    1156 : E1                  	POP	HL
    2603/    1157 : 22 88 11            	LD	(WRT_PA_PTR),HL
    2604/    115A : DD 19               WRITEPNA2	ADD	IX,DE
    2605/    115C : 10 D8               	DJNZ	WRITEPNA1
    2606/    115E :                     
    2607/    115E : C1                  	POP	BC
    2608/    115F : 3A 8B 11            	LD	A,(WRT_PA_ENC)
    2609/    1162 : B7                  	OR	A
    2610/    1163 : 28 1F               	JR	Z,WRITEPNA3
    2611/    1165 :                     
    2612/    1165 : DD 2A 88 11         	LD	IX,(WRT_PA_PTR)
    2613/    1169 : 3E 04               	LD	A,4
 AS V1.42 Beta [Bld 28] - source file game.asm - page 55 - 8/12/2011 20:51:50


    2614/    116B : DD 77 0A            	LD	(IX+STRFIG_BRD),A
    2615/    116E : 3E 01               	LD	A,1
    2616/    1170 : DD 77 09            	LD	(IX+STRFIG_WRT),A
    2617/    1173 : DD 46 04            	LD	B,(IX+STRFIG_YACT)
    2618/    1176 : DD 4E 03            	LD	C,(IX+STRFIG_XACT)
    2619/    1179 : DD 6E 00            	LD	L,(IX+STRFIG_PAT)
    2620/    117C : DD 66 05            	LD	H,(IX+STRFIG_ANIM)
    2621/    117F : CD A0 12            	CALL	MOVFIGAC
    2622/    1182 : 10 9F               	DJNZ	WRITEPNA0
    2623/    1184 : CD 4F 10            WRITEPNA3	CALL	PUT2PLANE
    2624/    1187 : C9                  	RET
    2625/    1188 :                     
    2626/    1188 :                     
    2627/    1188 : 00 00               WRT_PA_PTR:	DW	0
    2628/    118A : 00                  WRT_PA_MAY:	DB	0
    2629/    118B : 00                  WRT_PA_ENC:	DB	0
    2630/    118C :                     
    2631/    118C :                     
    2632/    118C :                     
    2633/    118C :                     ;ESTA FUNCION SE ENCARGA DE BORRAR LAS PARTES OCULTAS DE TODAS LAS
    2634/    118C :                     ;FIGURAS QUE ESTEN EN LA PANTALLA
    2635/    118C :                     
    2636/    118C :                     
    2637/    118C :                     
    2638/    118C : 3A A7 14            ERASE_PNA:	LD	A,(SINCRO)	;ESPERA AL CAMBIO DE PAGINA
    2639/    118F : B7                  	OR	A
    2640/    1190 : 20 FA               	JR	NZ,ERASE_PNA
    2641/    1192 :                     
    2642/    1192 : 3A 9D 14            	LD	A,(FADE_V)
    2643/    1195 : B7                  	OR	A
    2644/    1196 : 28 09               	JR	Z,ERASE_0
    2645/    1198 :                     
    2646/    1198 : 3D                  	DEC	A
    2647/    1199 : 32 9D 14            	LD	(FADE_V),A
    2648/    119C : 20 03               	JR	NZ,ERASE_0
    2649/    119E :                     
    2650/    119E : CD A9 38            	CALL	FADE_ON
    2651/    11A1 :                     
    2652/    11A1 : 3A 8D 14            ERASE_0:	LD	A,(MODO_GAME)
    2653/    11A4 : FE 01               	CP	EXTERIOR
    2654/    11A6 : 20 05               	JR	NZ,ERASE0
    2655/    11A8 :                     
    2656/    11A8 : 3A AD 14            	LD	A,(WRITE_CONT)
    2657/    11AB : B7                  	OR	A
    2658/    11AC : C8                  	RET	Z
    2659/    11AD :                     
    2660/    11AD : 11 0E 00            ERASE0	LD	DE,STRUCTFIGURA
    2661/    11B0 : DD 21 FD 48         	LD	IX,STRFIG_VECTOR
    2662/    11B4 : 06 10               	LD	B,MAXFIGURAS
    2663/    11B6 :                     
    2664/    11B6 : DD 7E 0A            ERASE1	LD	A,(IX+STRFIG_BRD)
    2665/    11B9 : B7                  	OR	A
    2666/    11BA : 28 27               	JR	Z,ERASE2
    2667/    11BC : 3D                  	DEC	A
    2668/    11BD : DD 77 0A            	LD	(IX+STRFIG_BRD),A
    2669/    11C0 :                     
    2670/    11C0 : C5                  	PUSH	BC
    2671/    11C1 : D5                  	PUSH	DE
    2672/    11C2 : DD E5               	PUSH	IX
    2673/    11C4 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm - page 56 - 8/12/2011 20:51:50


    2674/    11C4 : DD 7E 02            	LD	A,(IX+STRFIG_YANT)
    2675/    11C7 : 4F                  	LD	C,A
    2676/    11C8 : DD 7E 01            	LD	A,(IX+STRFIG_XANT)
    2677/    11CB : 47                  	LD	B,A
    2678/    11CC :                     
    2679/    11CC : CD 32 13            	CALL	MOVFIGDC
    2680/    11CF :                     
    2681/    11CF : AF                  	XOR	A
    2682/    11D0 : DD 77 09            	LD	(IX+STRFIG_WRT),A
    2683/    11D3 :                     
    2684/    11D3 : DD 7E 04            	LD	A,(IX+STRFIG_YACT)
    2685/    11D6 : DD 77 02            	LD	(IX+STRFIG_YANT),A
    2686/    11D9 : DD 7E 03            	LD	A,(IX+STRFIG_XACT)
    2687/    11DC : DD 77 01            	LD	(IX+STRFIG_XANT),A
    2688/    11DF :                     
    2689/    11DF : DD E1               	POP	IX
    2690/    11E1 : D1                  	POP	DE
    2691/    11E2 : C1                  	POP	BC
    2692/    11E3 :                     
    2693/    11E3 : DD 19               ERASE2	ADD	IX,DE
    2694/    11E5 : 10 CF               	DJNZ	ERASE1
    2695/    11E7 :                     
    2696/    11E7 : C9                  	RET
    2697/    11E8 :                     
    2698/    11E8 :                     
    2699/    11E8 :                     
    2700/    11E8 :                     
    2701/    11E8 :                     ;NOMBRE: AU_ANIMACION
    2702/    11E8 :                     ;OBJETIVO: DETERMINA EL SIGUIENTE FRAME DE UNA ANIMACION A PARTIR DEL FRAME
    2703/    11E8 :                     ;          ACTUAL Y DE LA DIRECCION SIGUIENTE.
    2704/    11E8 :                     ;ENTRADA:   A -> FRAME ACTUAL
    2705/    11E8 :                     ;           B -> DIRECCION
    2706/    11E8 :                     ;           C -> REPETICION
    2707/    11E8 :                     ;           E -> DIRECCION ANTERIOR
    2708/    11E8 :                     ;           SI EL BIT MAS SIGNIFICATIVO DE B ESTA A 1 ES NINGUNA DIRECCION
    2709/    11E8 :                     ;SALIDA:    A -> FRAME SIGUIENTE
    2710/    11E8 :                     ;           C -> NUMEO DE REPETICION.
    2711/    11E8 :                     ;MODIFICA: AF,AF',B,HL
    2712/    11E8 :                     
    2713/    11E8 :                     
    2714/    11E8 :                     
    2715/    11E8 : D5                  AU_ANIMACION:	PUSH	DE
    2716/    11E9 : CB 78               	BIT	7,B
    2717/    11EB : 20 3F               	JR	NZ,AUANIM1
    2718/    11ED :                     
    2719/    11ED : 08                  	EX	AF,AF'
    2720/    11EE : 7B                  	LD	A,E
    2721/    11EF : B8                  	CP	B
    2722/    11F0 : 20 08               	JR	NZ,AUANIM2
    2723/    11F2 :                     
    2724/    11F2 : 3A 8E 14            	LD	A,(NUMREPFRAME)
    2725/    11F5 : B9                  	CP	C
    2726/    11F6 : 28 02               	JR	Z,AUANIM2
    2727/    11F8 : 30 30               	JR	NC,AUANIM3
    2728/    11FA :                     
    2729/    11FA : 78                  AUANIM2	LD	A,B
    2730/    11FB :                     ;               JR      AUANIMC          ;ESTE SALTO ESTA AQUI POR QUE SI NO
    2731/    11FB :                     ;                                        ;NO FUNCIONA HACIA ABAJO.
    2732/    11FB : FE 06               	CP	ARR_DER			 ;REDUZCO LAS DIRECCIONES A 4
    2733/    11FD : 20 04               	JR	NZ,AUANIM_ARI
 AS V1.42 Beta [Bld 28] - source file game.asm - page 57 - 8/12/2011 20:51:50


    2734/    11FF : 3E 02               	LD	A,ARRIBA
    2735/    1201 : 18 16               	JR	AUANIMC
    2736/    1203 :                     
    2737/    1203 : FE 07               AUANIM_ARI	CP	ARR_IZQ
    2738/    1205 : 20 04               	JR	NZ,AUANIM_ABD
    2739/    1207 : 3E 02               	LD	A,ARRIBA
    2740/    1209 : 18 0E               	JR	AUANIMC
    2741/    120B :                     
    2742/    120B : FE 04               AUANIM_ABD	CP	ABA_DER
    2743/    120D : 20 04               	JR	NZ,AUANIM_ABI
    2744/    120F : 3E 03               	LD	A,ABAJO
    2745/    1211 : 18 06               	JR	AUANIMC
    2746/    1213 :                     
    2747/    1213 : FE 05               AUANIM_ABI	CP	ABA_IZQ
    2748/    1215 : 20 02               	JR	NZ,AUANIMC
    2749/    1217 : 3E 03               	LD	A,ABAJO
    2750/    1219 :                     
    2751/    1219 : 47                  AUANIMC	LD	B,A
    2752/    121A : 08                  	EX	AF,AF'
    2753/    121B : 07                  	RLCA
    2754/    121C : 07                  	RLCA
    2755/    121D : 80                  	ADD	A,B
    2756/    121E : 2A 2E 12            	LD	HL,(AUTO_PTR)
    2757/    1221 : 16 00               	LD	D,0
    2758/    1223 : 5F                  	LD	E,A
    2759/    1224 : 19                  	ADD	HL,DE
    2760/    1225 : 0E 00               	LD	C,0
    2761/    1227 : 7E                  	LD	A,(HL)
    2762/    1228 : 18 02               	JR	AUANIM1
    2763/    122A : 08                  AUANIM3	EX	AF,AF'
    2764/    122B : 0C                  	INC	C
    2765/    122C : D1                  AUANIM1	POP	DE
    2766/    122D : C9                  	RET
    2767/    122E :                     
    2768/    122E :                     
    2769/    122E : 00 00               AUTO_PTR:	DW	0
    2770/    1230 :                     
    2771/    1230 :                     ;                     DE,IZ,AR,AB
    2772/    1230 :                     
    2773/    1230 : 01 03 09 06         FT_AUTOC	DB	1,3,9,6	;ESTA TABLA REPRESENTA LA FUNCION
    2774/    1234 : 02 03 09 06         	DB	2,3,9,6	;DE TRANSFERENCIA DE LA MAQUINA DE MOORE
    2775/    1238 : 00 03 09 06         	DB	0,3,9,6	;QUE GOBIERNA LAS ANIMACIONES
    2776/    123C : 00 04 09 06         	DB	0,4,9,6
    2777/    1240 : 00 05 09 06         	DB	0,5,9,6
    2778/    1244 : 00 03 09 06         	DB	0,3,9,6
    2779/    1248 : 00 03 09 07         	DB	0,3,9,7
    2780/    124C : 00 03 09 08         	DB	0,3,9,8
    2781/    1250 : 00 03 09 06         	DB	0,3,9,6
    2782/    1254 : 00 03 0A 06         	DB	0,3,10,6
    2783/    1258 : 00 03 0B 06         	DB	0,3,11,6
    2784/    125C : 00 03 09 06         	DB	0,3,9,6
    2785/    1260 : 00 03 09 06         	DB	0,3,9,6
    2786/    1264 :                     
    2787/    1264 :                     
    2788/    1264 :                     ;                     DE,IZ,AR,AB
    2789/    1264 :                     
    2790/    1264 :                     ;                     DE,IZ,AR,AB
    2791/    1264 :                     
    2792/    1264 :                     
    2793/    1264 : 04 02 02 02         FT_AUTOE	DB	4,2,2,2	;0  DIAGONAL SUPERIOR IZQUIERDA
 AS V1.42 Beta [Bld 28] - source file game.asm - page 58 - 8/12/2011 20:51:50


    2794/    1268 : 05 02 02 02         	DB	5,2,2,2	;1  DIAGONAL INFERIOR IZQUIERDA
    2795/    126C : 01 03 03 03         	DB	1,3,3,3	;2  IZQUIERDA
    2796/    1270 : 02 02 02 02         	DB	2,2,2,2	;3  IZQUIERDA ANDANDO
    2797/    1274 : 06 00 06 06         	DB	6,0,6,6	;4  DIAGONAL SUPERIOR DERECHA
    2798/    1278 : 06 01 06 06         	DB	6,1,6,6	;5  DIAGONAL INFERIOR DERECHA
    2799/    127C : 07 04 07 07         	DB	7,4,7,7	;6  DERECHA
    2800/    1280 : 06 06 06 06         	DB	6,6,6,6	;7  DERECHA ANDANDO
    2801/    1284 : 06 02 06 02         	DB	6,2,6,2	;8  ESTA ESTADO ES FICTICIO Y
    2802/    1288 :                     ;                                           TAN SOLO SIRVE PARA QUE EL
    2803/    1288 :                     ;                                           PERSONAJE SE QUEDE MIRANDO
    2804/    1288 :                     ;                                           HACIA DONDE DEBE
    2805/    1288 :                     
    2806/    1288 :                     
    2807/    1288 :                     
    2808/    1288 :                     
    2809/    1288 :                     ;NOMBRE: MULTHLDE
    2810/    1288 :                     ;OBJETIVO: MULTIPLICAR HL POR DE
    2811/    1288 :                     ;ENTRADA: HL -> PRIMER OPERANDO
    2812/    1288 :                     ;         DE -> SEGUNDO OPERANDO
    2813/    1288 :                     ;SALIDA: HL -> RESULTADO
    2814/    1288 :                     ;MODIFICA: AF,BC,HL,DE
    2815/    1288 :                     
    2816/    1288 :                     
    2817/    1288 : 3E 10               MULTHLDE:	LD	A,16
    2818/    128A : 4D                  	LD	C,L
    2819/    128B : 44                  	LD	B,H
    2820/    128C : 21 00 00            	LD	HL,0
    2821/    128F : CB 43               MULTHLDEL	BIT	0,E
    2822/    1291 : 28 01               	JR	Z,MULTHLDENA
    2823/    1293 : 09                  	ADD	HL,BC
    2824/    1294 : CB 21               MULTHLDENA	SLA	C
    2825/    1296 : CB 10               	RL	B
    2826/    1298 : CB 1A               	RR	D
    2827/    129A : CB 1B               	RR	E
    2828/    129C : 3D                  	DEC	A
    2829/    129D : 20 F0               	JR	NZ,MULTHLDEL
    2830/    129F : C9                  	RET
    2831/    12A0 :                     
    2832/    12A0 :                     
    2833/    12A0 :                     
    2834/    12A0 :                     
    2835/    12A0 :                     ;NOMBRE: MOVFIGAC   (AC ---> ANTES DE CAMBIO DE PAGINA)
    2836/    12A0 :                     ;OBJETIVO: SALVAR EL FONDO DE LA PAGINA OCULTA Y COPIAR LA ANIMACION
    2837/    12A0 :                     ;          CORRESPONDIENTE DEL PERSONAJE.
    2838/    12A0 :                     ;PARAMETROS DE ENTRADA: B -> COORDENADA Y ANTES DEL MOVIMIENTO
    2839/    12A0 :                     ;                       C -> COORDENADA X ANTES DEL MOVIMIENTO
    2840/    12A0 :                     ;                       L -> NUMERO DE PATRON
    2841/    12A0 :                     ;                       H -> NUMERO DE FRAME
    2842/    12A0 :                     
    2843/    12A0 :                     
    2844/    12A0 : 3A 8A 14            MOVFIGAC:	LD	A,(PAG_NACT)
    2845/    12A3 : 32 E7 13            	LD	(MOVEFIGCOPYT+7),A
    2846/    12A6 : 79                  	LD	A,C
    2847/    12A7 : C6 10               	ADD	A,OFF_PANTX
    2848/    12A9 : 32 E4 13            	LD	(MOVEFIGCOPYT+4),A
    2849/    12AC : 78                  	LD	A,B
    2850/    12AD : C6 14               	ADD	A,OFF_PANTY
    2851/    12AF : 32 E6 13            	LD	(MOVEFIGCOPYT+6),A
    2852/    12B2 :                     
    2853/    12B2 : CB 25               	SLA	L
 AS V1.42 Beta [Bld 28] - source file game.asm - page 59 - 8/12/2011 20:51:50


    2854/    12B4 : 4C                  	LD	C,H
    2855/    12B5 : 26 00               	LD	H,0
    2856/    12B7 : ED 5B DE 12         	LD	DE,(TBLCP_PTR)
    2857/    12BB : 19                  	ADD	HL,DE
    2858/    12BC : 5E                  	LD	E,(HL)
    2859/    12BD : 23                  	INC	HL
    2860/    12BE : 56                  	LD	D,(HL)
    2861/    12BF : CB 21               	SLA	C
    2862/    12C1 : 06 00               	LD	B,0
    2863/    12C3 : 2A E0 12            	LD	HL,(TBLAN_PTR)
    2864/    12C6 : 09                  	ADD	HL,BC
    2865/    12C7 : 46                  	LD	B,(HL)
    2866/    12C8 : 23                  	INC	HL
    2867/    12C9 : 4E                  	LD	C,(HL)
    2868/    12CA :                     
    2869/    12CA : 78                  	LD	A,B
    2870/    12CB : 82                  	ADD	A,D
    2871/    12CC : 32 E0 13            	LD	(MOVEFIGCOPYT+0),A
    2872/    12CF : 79                  	LD	A,C
    2873/    12D0 : 83                  	ADD	A,E
    2874/    12D1 : 32 E2 13            	LD	(MOVEFIGCOPYT+2),A
    2875/    12D4 :                     
    2876/    12D4 : 21 E0 13            	LD	HL,MOVEFIGCOPYT
    2877/    12D7 : CD 1B 36            	CALL	WAIT_COM
    2878/    12DA : CD 46 33            	CALL	COPYVRAM
    2879/    12DD : C9                  	RET
    2880/    12DE :                     
    2881/    12DE :                     
    2882/    12DE : 00 00               TBLCP_PTR:	DW	0
    2883/    12E0 : 00 00               TBLAN_PTR:	DW	0
    2884/    12E2 :                     
    2885/    12E2 :                     
    2886/    12E2 : 00 00               TABLA_PATC:	DB	0,0
    2887/    12E4 : 00 40               	DB	0,64
    2888/    12E6 : 00 80               	DB	0,128
    2889/    12E8 : 00 C0               	DB	0,192
    2890/    12EA : 54 00               	DB	84,0
    2891/    12EC : 54 40               	DB	84,64
    2892/    12EE : 54 80               	DB	84,128
    2893/    12F0 : 54 C0               	DB	84,192
    2894/    12F2 : A8 00               	DB	168,0
    2895/    12F4 : A8 40               	DB	168,64
    2896/    12F6 : A8 80               	DB	168,128
    2897/    12F8 : A8 C0               	DB	168,192
    2898/    12FA :                     
    2899/    12FA :                     
    2900/    12FA : 00 00               TABLA_PATE:	DB	0,0
    2901/    12FC : 00 40               	DB	0,64
    2902/    12FE : 00 80               	DB	0,128
    2903/    1300 : 00 C0               	DB	0,192
    2904/    1302 : 80 00               	DB	128,0
    2905/    1304 : 80 40               	DB	128,64
    2906/    1306 : 80 80               	DB	128,128
    2907/    1308 : 80 C0               	DB	128,192
    2908/    130A :                     
    2909/    130A :                     
    2910/    130A : 00 00               TABLA_ANIMC:	DB	0,0
    2911/    130C : 00 1C               	DB	0,28
    2912/    130E : 00 38               	DB	0,56
    2913/    1310 : 10 00               	DB	16,0
 AS V1.42 Beta [Bld 28] - source file game.asm - page 60 - 8/12/2011 20:51:50


    2914/    1312 : 10 1C               	DB	16,28
    2915/    1314 : 10 38               	DB	16,56
    2916/    1316 : 20 00               	DB	32,0
    2917/    1318 : 20 1C               	DB	32,28
    2918/    131A : 20 38               	DB	32,56
    2919/    131C : 30 00               	DB	48,0
    2920/    131E : 30 1C               	DB	48,28
    2921/    1320 : 30 38               	DB	48,56
    2922/    1322 :                     
    2923/    1322 :                     
    2924/    1322 : 00 00               TABLA_ANIMAE:	DB	0,0
    2925/    1324 : 00 20               	DB	0,32
    2926/    1326 : 00 40               	DB	0,64
    2927/    1328 : 00 60               	DB	0,96
    2928/    132A : 20 00               	DB	32,0
    2929/    132C : 20 20               	DB	32,32
    2930/    132E : 20 40               	DB	32,64
    2931/    1330 : 20 60               	DB	32,96
    2932/    1332 :                     
    2933/    1332 :                     
    2934/    1332 :                     
    2935/    1332 :                     
    2936/    1332 :                     ;NOMBRE: MOVFIGDC
    2937/    1332 :                     ;OBJETIVO: RESTAURAR EL FONDO DE LA FIGURA DE LA PAGINA OCULTA
    2938/    1332 :                     ;ENTRADA:
    2939/    1332 :                     ;ENTRADA: C -> COORDENADA Y ANTERIOR (ES DECIR LA DE LA PAGINA OCULTA)
    2940/    1332 :                     ;         B -> COORDENADA X ANTERIOR
    2941/    1332 :                     ;MODIFICA: AF,BC,HL,AF',BC',HL'
    2942/    1332 :                     
    2943/    1332 :                     
    2944/    1332 :                     
    2945/    1332 : 3A 8A 14            MOVFIGDC:	LD	A,(PAG_NACT)
    2946/    1335 : 32 7B 14            	LD	(MAPEAPD),A
    2947/    1338 : 78                  	LD	A,B
    2948/    1339 : E6 F8               	AND	0F8h
    2949/    133B : C6 10               	ADD	A,OFF_PANTX
    2950/    133D : 32 DE 13            	LD	(MOVFDCX),A
    2951/    1340 :                     
    2952/    1340 : 79                  	LD	A,C
    2953/    1341 : E6 F8               	AND	0F8h
    2954/    1343 : C6 14               	ADD	A,OFF_PANTY
    2955/    1345 : 32 DF 13            	LD	(MOVFDCY),A
    2956/    1348 :                     
    2957/    1348 : 50                  	LD	D,B
    2958/    1349 : 59                  	LD	E,C
    2959/    134A : 06 03               	LD	B,3
    2960/    134C : AF                  	XOR	A
    2961/    134D : CB 3A               MOVFDC1	SRL	D
game.asm:2962: warning: short addressing possible
    2962/    134F : CB 1F               	RR	A
    2963/    1351 : 10 FA               	DJNZ	MOVFDC1
    2964/    1353 : B7                  	OR	A
    2965/    1354 : 3A 8F 14            	LD	A,(ANCHOPATPER)
    2966/    1357 : 28 01               	JR	Z,MOVFDC2
    2967/    1359 : 3C                  	INC	A
    2968/    135A :                     
    2969/    135A : 32 DC 13            MOVFDC2	LD	(MOVFDCNX),A
    2970/    135D : 06 03               	LD	B,3
    2971/    135F : AF                  	XOR	A
    2972/    1360 : CB 3B               MOVFDC3	SRL	E
 AS V1.42 Beta [Bld 28] - source file game.asm - page 61 - 8/12/2011 20:51:50


game.asm:2973: warning: short addressing possible
    2973/    1362 : CB 1F               	RR	A
    2974/    1364 : 10 FA               	DJNZ	MOVFDC3
    2975/    1366 : B7                  	OR	A
    2976/    1367 : 3A 90 14            	LD	A,(ALTOPATPER)
    2977/    136A : 28 01               	JR	Z,MOVFDC4
    2978/    136C : 3C                  	INC	A
    2979/    136D :                     
    2980/    136D : 32 DD 13            MOVFDC4:	LD	(MOVFDCNY),A
    2981/    1370 : 2A A2 14            	LD	HL,(DESP_PANTY)
    2982/    1373 : 4A                  	LD	C,D
    2983/    1374 : 16 00               	LD	D,0
    2984/    1376 : 06 00               	LD	B,0
    2985/    1378 : 19                  	ADD	HL,DE
    2986/    1379 : CB 25               	SLA	L
    2987/    137B : CB 14               	RL	H
    2988/    137D :                     
    2989/    137D : 11 67 48            	LD	DE,INDEXMAPA
    2990/    1380 : 19                  	ADD	HL,DE
    2991/    1381 : 5E                  	LD	E,(HL)
    2992/    1382 : 23                  	INC	HL
    2993/    1383 : 56                  	LD	D,(HL)
    2994/    1384 : 2A A0 14            	LD	HL,(DESP_PANTX)
    2995/    1387 : 19                  	ADD	HL,DE
    2996/    1388 : 09                  	ADD	HL,BC
    2997/    1389 :                     
    2998/    1389 : 3A DD 13            	LD	A,(MOVFDCNY)	;EMPIEZA EL BUCLE PARA LA Y
    2999/    138C : 47                  	LD	B,A
    3000/    138D : C5                  MOVFDC5	PUSH	BC
    3001/    138E : E5                  	PUSH	HL
    3002/    138F : 3A DF 13            	LD	A,(MOVFDCY)
    3003/    1392 : 32 7A 14            	LD	(MAPEAYD),A
    3004/    1395 : C6 08               	ADD	A,8
    3005/    1397 : 32 DF 13            	LD	(MOVFDCY),A
    3006/    139A :                     
    3007/    139A : 3A DC 13            	LD	A,(MOVFDCNX)
    3008/    139D : 47                  	LD	B,A
    3009/    139E : 54                  	LD	D,H
    3010/    139F : 5D                  	LD	E,L
    3011/    13A0 : 3A DE 13            	LD	A,(MOVFDCX)
    3012/    13A3 : 6F                  	LD	L,A
    3013/    13A4 : 1A                  MOVFDC6	LD	A,(DE)
    3014/    13A5 : 4F                  	LD	C,A
    3015/    13A6 : E6 1F               	AND	1Fh
    3016/    13A8 : 07                  	RLCA
    3017/    13A9 : 07                  	RLCA
    3018/    13AA : 07                  	RLCA
    3019/    13AB : 32 74 14            	LD	(MAPEAXO),A
    3020/    13AE : 79                  	LD	A,C
    3021/    13AF : E6 E0               	AND	0E0h
    3022/    13B1 : 0F                  	RRCA
    3023/    13B2 : 0F                  	RRCA
    3024/    13B3 : 4F                  	LD	C,A
    3025/    13B4 : 3A 94 14            	LD	A,(MAPRUT_OFF)
    3026/    13B7 : 81                  	ADD	A,C
    3027/    13B8 : C6 98               	ADD	A,COORDY_PAT
    3028/    13BA : 32 76 14            	LD	(MAPEAYO),A
    3029/    13BD : 7D                  	LD	A,L
    3030/    13BE : 32 78 14            	LD	(MAPEAXD),A
    3031/    13C1 : C6 08               	ADD	A,8
 AS V1.42 Beta [Bld 28] - source file game.asm - page 62 - 8/12/2011 20:51:50


    3032/    13C3 : 6F                  	LD	L,A
    3033/    13C4 : D9                  	EXX
    3034/    13C5 :                     
    3035/    13C5 : CD 1B 36            	CALL	WAIT_COM
    3036/    13C8 : 21 74 14            	LD	HL,MAPEAXO
    3037/    13CB : CD 46 33            	CALL	COPYVRAM
    3038/    13CE : D9                  	EXX
    3039/    13CF : 13                  	INC	DE
    3040/    13D0 : 10 D2               	DJNZ	MOVFDC6
    3041/    13D2 :                     
    3042/    13D2 : E1                  	POP	HL
    3043/    13D3 : EB                  	EX	DE,HL
    3044/    13D4 : 2A 87 14            	LD	HL,(TAM_FILA_MTEX)
    3045/    13D7 : 19                  	ADD	HL,DE
    3046/    13D8 : C1                  	POP	BC
    3047/    13D9 : 10 B2               	DJNZ	MOVFDC5
    3048/    13DB : C9                  	RET
    3049/    13DC :                     
    3050/    13DC :                     
    3051/    13DC : 00                  MOVFDCNX:	DB	00H
    3052/    13DD : 00                  MOVFDCNY:	DB	00H
    3053/    13DE : 00                  MOVFDCX:	DB	00H
    3054/    13DF : 00                  MOVFDCY:	DB	00H
    3055/    13E0 :                     
    3056/    13E0 :                     
    3057/    13E0 : 00 00 00            MOVEFIGCOPYT:	DB	0,0,0
    3058/    13E3 : 03 00 00 00 00      PAG_COPYT:	DB	PAG_PERSO,0,0,0,0
    3059/    13E8 : 00 00               ANCHOPIXPER:	DB	0,0
    3060/    13EA : 00 00 00 00 98      ALTOPIXPER:	DB	0,0,0,0,98h
    3061/    13EF :                     
    3062/    13EF :                     
    3063/    13EF :                     
    3064/    13EF :                     
    3065/    13EF :                     
    3066/    13EF :                     
    3067/    13EF :                     
    3068/    13EF :                     
    3069/    13EF :                     ;NOMBRE: MAPRUT
    3070/    13EF :                     ;OBJETIVO: CREAR UNA PANTALLA MEDIANTE TEXTURAS DE 8X8
    3071/    13EF :                     ;ENTRADA:  (MAPEAPO): PAGINA DONDE SE ENCUENTRAN LAS TEXTURAS
    3072/    13EF :                     ;MODIFICA: AF,BC,HL
    3073/    13EF :                     
    3074/    13EF :                     
    3075/    13EF :                     
    3076/    13EF : 3A 93 14            MAPRUT:	LD	A,(MAPEACONT)
    3077/    13F2 : B7                  	OR	A
    3078/    13F3 : C8                  	RET	Z
    3079/    13F4 :                     
    3080/    13F4 : 3D                  	DEC	A
    3081/    13F5 : 32 93 14            	LD	(MAPEACONT),A
    3082/    13F8 : 3A 8A 14            	LD	A,(PAG_NACT)
    3083/    13FB : 32 7B 14            	LD	(MAPEAPD),A
    3084/    13FE :                     
    3085/    13FE : ED 5B A2 14         	LD	DE,(DESP_PANTY)
    3086/    1402 : CB 23               	SLA	E
    3087/    1404 : CB 12               	RL	D
    3088/    1406 : 21 67 48            	LD	HL,INDEXMAPA
    3089/    1409 : 19                  	ADD	HL,DE
    3090/    140A : 4E                  	LD	C,(HL)
    3091/    140B : 23                  	INC	HL
 AS V1.42 Beta [Bld 28] - source file game.asm - page 63 - 8/12/2011 20:51:50


    3092/    140C : 46                  	LD	B,(HL)
    3093/    140D : 2A A0 14            	LD	HL,(DESP_PANTX)
    3094/    1410 : 09                  	ADD	HL,BC
    3095/    1411 : EB                  	EX	DE,HL
    3096/    1412 :                     
    3097/    1412 : 2A 97 14            	LD	HL,(MAPEAPTR)
    3098/    1415 : 3E 14               	LD	A,OFF_PANTY
    3099/    1417 : 32 7A 14            	LD	(MAPEAYD),A
    3100/    141A :                     
    3101/    141A : 06 0F               	LD	B,NUMPATY
    3102/    141C : C5                  MAPRUTBY	PUSH	BC
    3103/    141D : D5                  	PUSH	DE
    3104/    141E : 3E 10               	LD	A,OFF_PANTX
    3105/    1420 : 32 78 14            	LD	(MAPEAXD),A
    3106/    1423 :                     
    3107/    1423 : 06 1C               	LD	B,NUMPATX
    3108/    1425 : 4E                  MAPRUTBX	LD	C,(HL)
    3109/    1426 : 1A                  	LD	A,(DE)
    3110/    1427 : B9                  	CP	C
    3111/    1428 : 28 2A               	JR	Z,MAPRUT3
    3112/    142A :                     
    3113/    142A : 77                  	LD	(HL),A
    3114/    142B : D9                  	EXX
    3115/    142C : B7                  	OR	A	;ESTE OR A ES PARA PONER CY A 0
    3116/    142D : 06 00               	LD	B,0
    3117/    142F : 17                  	RLA
    3118/    1430 : CB 10               	RL	B
    3119/    1432 : 17                  	RLA
    3120/    1433 : CB 10               	RL	B
    3121/    1435 : 17                  	RLA
    3122/    1436 : CB 10               	RL	B
    3123/    1438 : CB 20               	SLA	B
    3124/    143A : CB 20               	SLA	B
    3125/    143C : CB 20               	SLA	B
    3126/    143E : 32 74 14            	LD	(MAPEAXO),A
    3127/    1441 : 3A 94 14            	LD	A,(MAPRUT_OFF)
    3128/    1444 : 80                  	ADD	A,B
    3129/    1445 : C6 98               	ADD	A,COORDY_PAT
    3130/    1447 : 32 76 14            	LD	(MAPEAYO),A
    3131/    144A :                     
    3132/    144A : CD 1B 36            	CALL	WAIT_COM
    3133/    144D : 21 74 14            	LD	HL,MAPEAXO
    3134/    1450 : CD 46 33            	CALL	COPYVRAM
    3135/    1453 : D9                  	EXX
    3136/    1454 :                     
    3137/    1454 : 3A 78 14            MAPRUT3	LD	A,(MAPEAXD)
    3138/    1457 : C6 08               	ADD	A,8
    3139/    1459 : 32 78 14            	LD	(MAPEAXD),A
    3140/    145C : 13                  	INC	DE
    3141/    145D : 23                  	INC	HL
    3142/    145E : 10 C5               	DJNZ	MAPRUTBX
    3143/    1460 :                     
    3144/    1460 : 3A 7A 14            	LD	A,(MAPEAYD)
    3145/    1463 : C6 08               	ADD	A,8
    3146/    1465 : 32 7A 14            	LD	(MAPEAYD),A
    3147/    1468 : EB                  	EX	DE,HL
    3148/    1469 : E1                  	POP	HL
    3149/    146A : ED 4B 87 14         	LD	BC,(TAM_FILA_MTEX)
    3150/    146E : 09                  	ADD	HL,BC
    3151/    146F : EB                  	EX	DE,HL
 AS V1.42 Beta [Bld 28] - source file game.asm - page 64 - 8/12/2011 20:51:50


    3152/    1470 : C1                  	POP	BC
    3153/    1471 : 10 A9               	DJNZ	MAPRUTBY
    3154/    1473 : C9                  	RET
    3155/    1474 :                     
    3156/    1474 :                     
    3157/    1474 : 00 00               MAPEAXO:	DW	0
    3158/    1476 : 00                  MAPEAYO:	DB	0
    3159/    1477 : 01                  MAPEAPO:	DB	PAG_PATRONES
    3160/    1478 : 00 00               MAPEAXD:	DW	0
    3161/    147A : 00                  MAPEAYD:	DB	0
    3162/    147B : 00                  MAPEAPD:	DB	0
    3163/    147C : 08 00               MAPEANX:	DW	8
    3164/    147E : 08 00               MAPEANY:	DW	8
    3165/    1480 : 00                  		DB	0
    3166/    1481 : 00                  		DB	0
    3167/    1482 : D0                  		DB	0D0h
    3168/    1483 :                     
    3169/    1483 :                     
    3170/    1483 :                     
    3171/    1483 : 00 00               PROF_PERSO:		DW	0
    3172/    1485 : 00 00               PROF_PERSOAR:		DW	0
    3173/    1487 : 00 00               TAM_FILA_MTEX:		DW	0
    3174/    1489 : 00                  PAG_ACT:		DB	0
    3175/    148A : 00                  PAG_NACT:		DB	0
    3176/    148B : 53 4C               PTR_PERSO:		DW	STRPER_VECCIT
    3177/    148D : 00                  MODO_GAME:		DB	0
    3178/    148E : 00                  NUMREPFRAME:		DB	0
    3179/    148F : 00                  ANCHOPATPER:		DB	0
    3180/    1490 : 00                  ALTOPATPER:		DB	0
    3181/    1491 : 00 00               INC_MOV:		DW	0
    3182/    1493 : 00                  MAPEACONT:		DB	0
    3183/    1494 : 00                  MAPRUT_OFF:		DB	0
    3184/    1495 : 00 00               PROP_PTR:		DW	0
    3185/    1497 : E3 44               MAPEAPTR:		DW	BUFFER_PAG1
    3186/    1499 : 87 46               MAPEAPTRA:		DW	BUFFER_PAG2
    3187/    149B : 00                  ANIMACIONI:		DB	0
    3188/    149C : 00                  PERIODO:		DB	0
    3189/    149D : 00                  FADE_V:			DB	0
    3190/    149E : 00                  DIR_ACTUAL:		DB	0
    3191/    149F : 00                  FUNC_ACT:		DB	0 
    3192/    14A0 :                     
    3193/    14A0 : 00 00               DESP_PANTX:		DW	0
    3194/    14A2 : 00 00               DESP_PANTY:		DW	0
    3195/    14A4 : 00                  SCROLLST:		DB	0
    3196/    14A5 : 00                  SCROLLSOL:		DB	0
    3197/    14A6 : 00                  NUMPAT2PLN:		DB	0
    3198/    14A7 : 00                  SINCRO:			DB	0
    3199/    14A8 : 00                  SOL_CHGP:		DB	0
    3200/    14A9 : 00 00               MAXVALXR:		DW	0
    3201/    14AB : 00 00               MAXVALYR:		DW	0
    3202/    14AD : 00                  WRITE_CONT:		DB	0
    3203/    14AE :                     
    3204/    14AE : 00 53 50 52 49 54   NAMESP:		DB	0,"SPRITES DAT"
                    45 53 20 44 41 54 
    3205/    14BA : 00 4E 49 56 45 4C   NOMNIVEL:	DB	0,"NIVEL1  DAT"
                    31 20 20 44 41 54 
    3206/    14C6 : 00 4E 49 56 45 4C   NOMTIPOS:	DB	0,"NIVEL1  TIP"
                    31 20 20 54 49 50 
    3207/    14D2 : 00 4D 41 52 43 31   MARC1:		DB	0,"MARC1   RAW"
                    20 20 20 52 41 57 
 AS V1.42 Beta [Bld 28] - source file game.asm - page 65 - 8/12/2011 20:51:50


    3208/    14DE : 00 4D 41 52 43 32   MARC2:		DB	0,"MARC2   RAW"
                    20 20 20 52 41 57 
    3209/    14EA : 00 4D 41 52 43 33   MARC3:		DB	0,"MARC3   RAW"
                    20 20 20 52 41 57 
    3210/    14F6 : 00 4F 42 4A 20 20   OBJETOS:	DB	0,"OBJ     RAW"
                    20 20 20 52 41 57 
    3211/    1502 : 00 46 4F 4E 54 53   FONTS:		DB	0,"FONTS   RAW"
                    20 20 20 52 41 57 
    3212/    150E : 00 4F 50 54 49 4F   OPTIONS:	DB	0,"OPTION  RAW"
                    4E 20 20 52 41 57 
    3213/    151A : 00 4F 42 4A 45 43   NOM_OBJ:	DB	0,"OBJECT  DSC"
                    54 20 20 44 53 43 
    3214/    1526 : 00 43 41 52 41 53   CARAS:		DB	0,"CARAS   RAW"
                    20 20 20 52 41 57 
    3215/    1532 :                     
    3216/    1532 :                     
    3217/    1532 : 00 00 10 00 20 00   GRAF_OBJ:	DB	0,0,16,0,32,0,48,0,64,0,80,0,98,0
                    30 00 40 00 50 00 
                    62 00 
    3218/    1540 : 00 10 10 10 20 10   		DB	0,16,16,16,32,16,48,16,64,16,80,16,98,16
                    30 10 40 10 50 10 
                    62 10 
    3219/    154E : 00 20 10 20 20 20   		DB	0,32,16,32,32,32,48,32,64,32,80,32,98,32
                    30 20 40 20 50 20 
                    62 20 
    3220/    155C : 00 30 10 30 20 30   		DB	0,48,16,48,32,48,48,48,64,48,80,48,98,48
                    30 30 40 30 50 30 
                    62 30 
    3221/    156A :                     
    3222/    156A :                     
    3223/    156A :                     INVENTARIOV:
    3224/    156A : 00 FF FF 02 FF FF   PAZOS_INV:	DB	0,-1,-1, 2,-1,-1, 3,-1,-1,-1, 1,-1,-1,-1,-1
                    03 FF FF FF 01 FF 
                    FF FF FF 
    3225/    1579 : FF FF FF 07 FF 03   		DB	-1,-1,-1, 7,-1, 3,-1,-1, 5,-1,-1,-1,-1,-1,-1
                    FF FF 05 FF FF FF 
                    FF FF FF 
    3226/    1588 : FF 04 FF FF FF FF   		DB	-1, 4,-1,-1,-1,-1,-1,-1,-1,-1,-1, 6,-1,-1,-1
                    FF FF FF FF FF 06 
                    FF FF FF 
    3227/    1597 :                     
    3228/    1597 :                     
    3229/    1597 :                     
    3230/    1597 :                     ;EQUIPO PUESTO DE PAZOS
    3231/    1597 :                     EQUIPOV:
    3232/    1597 : FF FF FF FF FF FF   PAZOS_EQP:	DB	-1,-1,-1,-1,-1,-1,-1,-1
                    FF FF 
    3233/    159F : FF FF FF FF FF FF   		DB	-1,-1,-1,-1,-1,-1,-1,-1
                    FF FF 
    3234/    15A7 : FF FF FF FF FF FF   		DB	-1,-1,-1,-1,-1,-1,-1,-1
                    FF FF 
    3235/    15AF :                     
    3236/    15AF :                     
    3237/    15AF :                     
    3238/    15AF :                     
    3239/    15AF :                     ;TABLA DE SPRITES
    3240/    15AF :                     
    3241/    15AF :                     
    3242/    15AF :                     PROP_EXT_VEC:	
    3243/    15AF : 00 00 80 00 00 00   		DB	00h,00h,80h,00h,00h,00h,00h,00h
 AS V1.42 Beta [Bld 28] - source file game.asm - page 66 - 8/12/2011 20:51:50


                    00 00 
    3244/    15B7 :                     
    3245/    15B7 :                     
    3246/    15B7 :                     
    3247/    15B7 :                     
    3248/    15B7 :                     
    3249/    15B7 :                     	
    3250/    15B7 :                     	include "init.asm"
(1)    1/    15B7 :                     ;NOMBRE:  INIT_GAME
(1)    2/    15B7 :                     ;OBJETIVO: SE ENCARGA DE INICIALIZAR EL MODO GRAFICOS ASI COMO LAS ESTRUCTURAS
(1)    3/    15B7 :                     ;          DE DATOS GENERICAS, ADEMAS DE CARGAR LO FICHEROS QUE SE VAN A USAR
(1)    4/    15B7 :                     ;          A LO LARGO DEL JUEGO.
(1)    5/    15B7 :                     
(1)    6/    15B7 :                     
(1)    7/    15B7 :                     INIT_GAME:
(1)    8/    15B7 : CD 1C 25            	CALL	INIT_SYS
(1)    9/    15BA : 3E 05               	LD	A,5
(1)   10/    15BC : CD 88 35            	CALL	INITSCR
(1)   11/    15BF : 3E 03               	LD	A,MC_INICHIPS
(1)   12/    15C1 : CD 7D 39            	CALL	MUSICC
(1)   13/    15C4 : 3E 0B               	LD	A,MC_MUSICOFF
(1)   14/    15C6 : CD 7D 39            	CALL	MUSICC
(1)   15/    15C9 :                     
(1)   16/    15C9 : CD 20 2B            	CALL	PUT_VINT
(1)   17/    15CC : CD 3E 2B            	CALL	RESTORE_INT
(1)   18/    15CF : CD C7 35            	CALL	COLOR0_OFF
(1)   19/    15D2 : CD A5 35            	CALL	VIS_OFF
(1)   20/    15D5 : 21 9D 37            	LD	HL,PAL_NEGRO
(1)   21/    15D8 : CD 34 36            	CALL	PUT_PAL
(1)   22/    15DB : 3E 0D               	LD	A,0Dh
(1)   23/    15DD : CD D8 35            	CALL	SET_CFONDO
(1)   24/    15E0 : CD F0 35            	CALL	SET_SPD16
(1)   25/    15E3 : CD B6 35            	CALL	SPD_OFF
(1)   26/    15E6 : CD 1B 36            	CALL	WAIT_COM
(1)   27/    15E9 :                     
(1)   28/    15E9 : 3E FF               	LD	A,COLOR_NEGRO
(1)   29/    15EB : CD 72 35            	CALL	LIMPIA_VRAM
(1)   30/    15EE : CD F6 33            	CALL	INIT_SPTBL
(1)   31/    15F1 :                     
(1)   32/    15F1 : CD 19 2A            	CALL	LOADSP
(1)   33/    15F4 : CD DA 33            	CALL	INIT_CRUZ
(1)   34/    15F7 : CD EA 33            	CALL	HIDE_CRUZ
(1)   35/    15FA : CD 4D 06            	CALL	INIT_CUAD
(1)   36/    15FD : CD 6C 06            	CALL	HIDE_CUAD
(1)   37/    1600 : CD 94 35            	CALL	VIS_ON
(1)   38/    1603 : CD 45 2A            	CALL	LOADTIPOS
(1)   39/    1606 : CD DA 08            	CALL	MAKEMARK
(1)   40/    1609 : CD 58 2A            	CALL	LOAD_OBJ
(1)   41/    160C :                     
(1)   42/    160C : 21 0E 15            	LD	HL,OPTIONS
(1)   43/    160F : DD 21 00 00         	LD	IX,0
(1)   44/    1613 : FD 21 D4 00         	LD	IY,(PAG_OPTIONS*256)+COORDY_OPT
(1)   45/    1617 : CD AD 29            	CALL	LPIMAGE
(1)   46/    161A :                     
(1)   47/    161A : 21 26 15            	LD	HL,CARAS
(1)   48/    161D : DD 21 00 00         	LD	IX,0
(1)   49/    1621 : FD 21 80 02         	LD	IY,PAG_OBJETOS*256+128
(1)   50/    1625 : CD AD 29            	CALL	LPIMAGE
(1)   51/    1628 :                     
(1)   52/    1628 : CD FB 1D            	CALL	INIT_PERV
 AS V1.42 Beta [Bld 28] - source file game.asm(init.asm) - page 67 - 8/12/2011 20:51:50


(1)   53/    162B : 21 DD 49            	LD	HL,STRPER_VECMAP
(1)   54/    162E : 22 8B 14            	LD	(PTR_PERSO),HL
(1)   55/    1631 : CD 0B 1E            	CALL	INITPJS
(1)   56/    1634 : C9                  	RET
(1)   57/    1635 :                     
(1)   58/    1635 :                     
(1)   59/    1635 :                     
(1)   60/    1635 :                     
(1)   61/    1635 :                     
(1)   62/    1635 :                     
(1)   63/    1635 :                     
(1)   64/    1635 :                     ;NOMBRE: GO_CIUDAD
(1)   65/    1635 :                     ;OBJETIVO: CARGA LOS DATOS DE UNA CIUDAD E INICIALIZA TODOS LOS DATOS
(1)   66/    1635 :                     ;          NECESARIOS.
(1)   67/    1635 :                     ;ENTRADA: L -> NUMERO DE CIUDAD (NUMERADOS DE 1 A 10). SI SE INTRODUCE
(1)   68/    1635 :                     ;              0 LA FUNCION PUEDE FALLAR
(1)   69/    1635 :                     
(1)   70/    1635 :                     GO_CIUDAD:
(1)   71/    1635 : E5                  	PUSH	HL
(1)   72/    1636 : E5                  	PUSH	HL
(1)   73/    1637 : E5                  	PUSH	HL
(1)   74/    1638 :                     
(1)   75/    1638 : CD 3E 2B            	CALL	RESTORE_INT
(1)   76/    163B : CD A5 35            	CALL	VIS_OFF
(1)   77/    163E :                     
(1)   78/    163E : 3E 00               	LD	A,GET_DIR_KEY
(1)   79/    1640 : 32 15 2C            	LD	(MODO_GET_DIR),A
(1)   80/    1643 :                     
(1)   81/    1643 : 3E 10               	LD	A,16
(1)   82/    1645 : 32 E8 13            	LD	(ANCHOPIXPER),A
(1)   83/    1648 : 3E 1C               	LD	A,28
(1)   84/    164A : 32 EA 13            	LD	(ALTOPIXPER),A
(1)   85/    164D : 3E 01               	LD	A,PERIODOS
(1)   86/    164F : 32 9C 14            	LD	(PERIODO),A
(1)   87/    1652 : 21 E2 12            	LD	HL,TABLA_PATC
(1)   88/    1655 : 22 DE 12            	LD	(TBLCP_PTR),HL
(1)   89/    1658 : 21 0A 13            	LD	HL,TABLA_ANIMC
(1)   90/    165B : 22 E0 12            	LD	(TBLAN_PTR),HL
(1)   91/    165E : 21 30 12            	LD	HL,FT_AUTOC
(1)   92/    1661 : 22 2E 12            	LD	(AUTO_PTR),HL
(1)   93/    1664 : 21 EF 64            	LD	HL,PROPIEDAD_VEC
(1)   94/    1667 : 22 95 14            	LD	(PROP_PTR),HL
(1)   95/    166A : 21 2C FF            	LD	HL,MAXVALXRC
(1)   96/    166D : 22 A9 14            	LD	(MAXVALXR),HL
(1)   97/    1670 : 21 A4 FF            	LD	HL,MAXVALYRC
(1)   98/    1673 : 22 AB 14            	LD	(MAXVALYR),HL
(1)   99/    1676 :                     
(1)  100/    1676 : 21 18 00            	LD	HL,PROF_PERSOC
(1)  101/    1679 : 22 83 14            	LD	(PROF_PERSO),HL
(1)  102/    167C : 21 14 00            	LD	HL,PROF_PERSOARC
(1)  103/    167F : 22 85 14            	LD	(PROF_PERSOAR),HL
(1)  104/    1682 :                     
(1)  105/    1682 :                     
(1)  106/    1682 : E1                  	POP	HL
(1)  107/    1683 : 11 0C 00            	LD	DE,12
(1)  108/    1686 : 26 00               	LD	H,0
(1)  109/    1688 : CD 88 12            	CALL	MULTHLDE
(1)  110/    168B : 11 2B 3F            	LD	DE,NIVELDAT+STRNIV_CIUD1
(1)  111/    168E : 19                  	ADD	HL,DE
(1)  112/    168F : CD 2C 2A            	CALL	LOADMAP
 AS V1.42 Beta [Bld 28] - source file game.asm(init.asm) - page 68 - 8/12/2011 20:51:50


(1)  113/    1692 :                     
(1)  114/    1692 : 06 0C               	LD	B,12
(1)  115/    1694 : 21 8F 3E            	LD	HL,MAPEADO_DAT+STRMAP_PAT0
(1)  116/    1697 : CD ED 2A            	CALL	LOADPAT
(1)  117/    169A :                     
(1)  118/    169A : DD 21 00 00         	LD	IX,0
(1)  119/    169E : FD 21 98 01         	LD	IY,PAG_PATRONES*256+COORDY_PAT
(1)  120/    16A2 : 21 67 3E            	LD	HL,MAPEADO_DAT+STRMAP_PATMAP
(1)  121/    16A5 : CD AD 29            	CALL	LPIMAGE
(1)  122/    16A8 :                     
(1)  123/    16A8 : 21 7F 3E            	LD	HL,MAPEADO_DAT+STRMAP_MAPA
(1)  124/    16AB : CD 9D 18            	CALL	LOADPANT
(1)  125/    16AE :                     
(1)  126/    16AE :                     
(1)  127/    16AE : 3E 02               	LD	A,2
(1)  128/    16B0 : 32 93 14            	LD	(MAPEACONT),A
(1)  129/    16B3 : AF                  	XOR	A
(1)  130/    16B4 : 32 A6 14            	LD	(NUMPAT2PLN),A
(1)  131/    16B7 : 32 89 14            	LD	(PAG_ACT),A
(1)  132/    16BA : 32 A4 14            	LD	(SCROLLST),A
(1)  133/    16BD : 32 A5 14            	LD	(SCROLLSOL),A
(1)  134/    16C0 : 32 A2 1E            	LD	(MOVPJSPTR),A
(1)  135/    16C3 : 32 94 14            	LD	(MAPRUT_OFF),A
(1)  136/    16C6 : 32 A7 14            	LD	(SINCRO),A
(1)  137/    16C9 : 32 A8 14            	LD	(SOL_CHGP),A
(1)  138/    16CC : 32 52 37            	LD	(BUFFER_FUNC),A
(1)  139/    16CF : 32 35 2D            	LD	(KEY_SPST),A
(1)  140/    16D2 : 32 36 2D            	LD	(KEY_F1ST),A
(1)  141/    16D5 :                     
(1)  142/    16D5 :                     
(1)  143/    16D5 : 3E 80               	LD	A,080h
(1)  144/    16D7 : 06 20               	LD	B,TAM_FIFO
(1)  145/    16D9 : 21 82 1E            	LD	HL,MOVPJSWAY
(1)  146/    16DC : 77                  GO_CIUDAD1	LD	(HL),A
(1)  147/    16DD : 23                  	INC	HL
(1)  148/    16DE : 10 FC               	DJNZ	GO_CIUDAD1
(1)  149/    16E0 : 32 9B 37            	LD	(BUFFER_INT),A
(1)  150/    16E3 :                     
(1)  151/    16E3 : 21 01 00            	LD	HL,1
(1)  152/    16E6 : 22 A0 14            	LD	(DESP_PANTX),HL
(1)  153/    16E9 : 21 01 00            	LD	HL,1
(1)  154/    16EC : 22 A2 14            	LD	(DESP_PANTY),HL
(1)  155/    16EF :                     
(1)  156/    16EF : 21 04 00            	LD	HL,INC_MOVS
(1)  157/    16F2 : 22 91 14            	LD	(INC_MOV),HL
(1)  158/    16F5 : 3E 0C               	LD	A,ANIMACIONIC
(1)  159/    16F7 : 32 9B 14            	LD	(ANIMACIONI),A
(1)  160/    16FA : 3E 00               	LD	A,INTERIOR
(1)  161/    16FC : 32 8D 14            	LD	(MODO_GAME),A
(1)  162/    16FF : 3E 04               	LD	A,4
(1)  163/    1701 : 32 90 14            	LD	(ALTOPATPER),A
(1)  164/    1704 : 3E 02               	LD	A,2
(1)  165/    1706 : 32 8F 14            	LD	(ANCHOPATPER),A
(1)  166/    1709 : 3E 01               	LD	A,1
(1)  167/    170B : 32 8A 14            	LD	(PAG_NACT),A
(1)  168/    170E : 3C                  	INC	A
(1)  169/    170F : 32 4F 0A            	LD	(SWAP_CONT),A
(1)  170/    1712 :                     
(1)  171/    1712 :                     
(1)  172/    1712 : DD 2A 8B 14         	LD	IX,(PTR_PERSO)
 AS V1.42 Beta [Bld 28] - source file game.asm(init.asm) - page 69 - 8/12/2011 20:51:50


(1)  173/    1716 : 2A 8B 3E            	LD	HL,(MAPEADO_DAT+STRMAP_XDEF)
(1)  174/    1719 : ED 5B 8D 3E         	LD	DE,(MAPEADO_DAT+STRMAP_YDEF)
(1)  175/    171D : 06 00               	LD	B,0
(1)  176/    171F : 0E 00               	LD	C,CEN_TOTAL
(1)  177/    1721 : 78                  	LD	A,B
(1)  178/    1722 : CD 42 0D            	CALL	SET_XY
(1)  179/    1725 :                     
(1)  180/    1725 :                     
(1)  181/    1725 : E1                  	POP	HL	;AHORA PASAMOS A COPIAR LOS
(1)  182/    1726 : 26 00               	LD	H,0	;PJS A ESTE MAPA
(1)  183/    1728 : 2D                  	DEC	L
(1)  184/    1729 : 11 76 02            	LD	DE,STRUCTPERSO*MAXPERSOC
(1)  185/    172C : CD 88 12            	CALL	MULTHLDE
(1)  186/    172F : 11 53 4C            	LD	DE,STRPER_VECCIT
(1)  187/    1732 : 19                  	ADD	HL,DE
(1)  188/    1733 : ED 5B 8B 14         	LD	DE,(PTR_PERSO)
(1)  189/    1737 : EB                  	EX	DE,HL
(1)  190/    1738 : 01 3F 00            	LD	BC,STRUCTPERSO*MAXNUMPJS
(1)  191/    173B : ED B0               	LDIR
(1)  192/    173D :                     
(1)  193/    173D : 21 47 2C            	LD	HL,HANDLE_DEF
(1)  194/    1740 : 22 12 2C            	LD	(HANDLE_EKB),HL
(1)  195/    1743 :                     
(1)  196/    1743 : E1                  	POP	HL
(1)  197/    1744 : CD A3 1E            	CALL	INIT_INDEXPER
(1)  198/    1747 : CD 38 09            	CALL	INIT_FIGURASV
(1)  199/    174A : CD 26 09            	CALL	INIT_BUFPAG
(1)  200/    174D : 21 73 3E            	LD	HL,MAPEADO_DAT+STRMAP_PROP
(1)  201/    1750 : CD 8D 18            	CALL	LOADPROP
(1)  202/    1753 : CD BC 2B            	CALL	GET_DIR
(1)  203/    1756 : 3A 89 14            	LD	A,(PAG_ACT)
(1)  204/    1759 : CD 21 36            	CALL	VER_PAGE
(1)  205/    175C :                     
(1)  206/    175C : 3E 03               	LD	A,TIMEFADE
(1)  207/    175E : 32 9D 14            	LD	(FADE_V),A
(1)  208/    1761 : CD 94 35            	CALL	VIS_ON
(1)  209/    1764 : CD 20 2B            	CALL	PUT_VINT
(1)  210/    1767 : CD FF 37            	CALL	SETVDP_LI
(1)  211/    176A : C9                  	RET
(1)  212/    176B :                     
(1)  213/    176B :                     
(1)  214/    176B :                     ;NOMBRE: GO_EXTERIOR
(1)  215/    176B :                     ;OBJETIVO: CARGA LOS DATOS DE LOS EXTERIORES E INICIALIZA TODOS LOS DATOS
(1)  216/    176B :                     ;          NECESARIOS.
(1)  217/    176B :                     
(1)  218/    176B :                     
(1)  219/    176B : CD 3E 2B            GO_EXTERIOR:	CALL	RESTORE_INT
(1)  220/    176E : CD A5 35            	CALL	VIS_OFF
(1)  221/    1771 :                     
(1)  222/    1771 : 3E 00               	LD	A,GET_DIR_KEY
(1)  223/    1773 : 32 15 2C            	LD	(MODO_GET_DIR),A
(1)  224/    1776 :                     
(1)  225/    1776 : 3E 20               	LD	A,32
(1)  226/    1778 : 32 E8 13            	LD	(ANCHOPIXPER),A
(1)  227/    177B : 32 EA 13            	LD	(ALTOPIXPER),A
(1)  228/    177E : 3E 01               	LD	A,PERIODOS
(1)  229/    1780 : 32 9C 14            	LD	(PERIODO),A
(1)  230/    1783 : 21 FA 12            	LD	HL,TABLA_PATE
(1)  231/    1786 : 22 DE 12            	LD	(TBLCP_PTR),HL
(1)  232/    1789 : 21 22 13            	LD	HL,TABLA_ANIMAE
 AS V1.42 Beta [Bld 28] - source file game.asm(init.asm) - page 70 - 8/12/2011 20:51:50


(1)  233/    178C : 22 E0 12            	LD	(TBLAN_PTR),HL
(1)  234/    178F : 21 64 12            	LD	HL,FT_AUTOE
(1)  235/    1792 : 22 2E 12            	LD	(AUTO_PTR),HL
(1)  236/    1795 : 21 EF 64            	LD	HL,PROPIEDAD_VEC
(1)  237/    1798 : 22 95 14            	LD	(PROP_PTR),HL
(1)  238/    179B : 21 3C FF            	LD	HL,MAXVALXRE
(1)  239/    179E : 22 A9 14            	LD	(MAXVALXR),HL
(1)  240/    17A1 : 21 A4 FF            	LD	HL,MAXVALYRE
(1)  241/    17A4 : 22 AB 14            	LD	(MAXVALYR),HL
(1)  242/    17A7 :                     
(1)  243/    17A7 : 21 F8 FF            	LD	HL,PROF_PERSOM
(1)  244/    17AA : 22 83 14            	LD	(PROF_PERSO),HL
(1)  245/    17AD : 22 85 14            	LD	(PROF_PERSOAR),HL
(1)  246/    17B0 :                     
(1)  247/    17B0 : 21 1F 3F            	LD	HL,NIVELDAT+STRNIV_MAPEX
(1)  248/    17B3 : CD 2C 2A            	CALL	LOADMAP
(1)  249/    17B6 :                     
(1)  250/    17B6 : 06 08               	LD	B,8
(1)  251/    17B8 : 21 8F 3E            	LD	HL,MAPEADO_DAT+STRMAP_PAT0
(1)  252/    17BB : CD ED 2A            	CALL	LOADPAT
(1)  253/    17BE :                     
(1)  254/    17BE : DD 21 00 00         	LD	IX,0
(1)  255/    17C2 : FD 21 98 01         	LD	IY,PAG_PATRONES*256+COORDY_PAT
(1)  256/    17C6 : 21 67 3E            	LD	HL,MAPEADO_DAT+STRMAP_PATMAP
(1)  257/    17C9 : CD AD 29            	CALL	LPIMAGE
(1)  258/    17CC :                     
(1)  259/    17CC : 21 7F 3E            	LD	HL,MAPEADO_DAT+STRMAP_MAPA
(1)  260/    17CF : CD 9D 18            	CALL	LOADPANT
(1)  261/    17D2 :                     
(1)  262/    17D2 : CD 19 2A            	CALL	LOADSP
(1)  263/    17D5 :                     
(1)  264/    17D5 : 3E 02               	LD	A,2
(1)  265/    17D7 : 32 93 14            	LD	(MAPEACONT),A
(1)  266/    17DA : AF                  	XOR	A
(1)  267/    17DB : 32 A6 14            	LD	(NUMPAT2PLN),A
(1)  268/    17DE : 32 89 14            	LD	(PAG_ACT),A
(1)  269/    17E1 : 32 A4 14            	LD	(SCROLLST),A
(1)  270/    17E4 : 32 A5 14            	LD	(SCROLLSOL),A
(1)  271/    17E7 : 32 A2 1E            	LD	(MOVPJSPTR),A
(1)  272/    17EA : 32 94 14            	LD	(MAPRUT_OFF),A
(1)  273/    17ED : 32 A7 14            	LD	(SINCRO),A
(1)  274/    17F0 : 32 A8 14            	LD	(SOL_CHGP),A
(1)  275/    17F3 : 32 52 37            	LD	(BUFFER_FUNC),A
(1)  276/    17F6 : 32 35 2D            	LD	(KEY_SPST),A
(1)  277/    17F9 : 32 36 2D            	LD	(KEY_F1ST),A
(1)  278/    17FC :                     
(1)  279/    17FC :                     
(1)  280/    17FC : 3E 80               	LD	A,80h
(1)  281/    17FE : 06 20               	LD	B,TAM_FIFO
(1)  282/    1800 : 21 82 1E            	LD	HL,MOVPJSWAY
(1)  283/    1803 : 77                  GO_EXTERIOR1	LD	(HL),A
(1)  284/    1804 : 23                  	INC	HL
(1)  285/    1805 : 10 FC               	DJNZ	GO_EXTERIOR1
(1)  286/    1807 : 32 9B 37            	LD	(BUFFER_INT),A
(1)  287/    180A :                     
(1)  288/    180A : 21 0F 00            	LD	HL,15
(1)  289/    180D : 22 A0 14            	LD	(DESP_PANTX),HL
(1)  290/    1810 : 21 14 00            	LD	HL,20
(1)  291/    1813 : 22 A2 14            	LD	(DESP_PANTY),HL
(1)  292/    1816 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(init.asm) - page 71 - 8/12/2011 20:51:50


(1)  293/    1816 : 21 04 00            	LD	HL,INC_MOVS
(1)  294/    1819 : 22 91 14            	LD	(INC_MOV),HL
(1)  295/    181C : 3E 08               	LD	A,ANIMACIONIM
(1)  296/    181E : 32 9B 14            	LD	(ANIMACIONI),A
(1)  297/    1821 : 3E 01               	LD	A,EXTERIOR
(1)  298/    1823 : 32 8D 14            	LD	(MODO_GAME),A
(1)  299/    1826 : 3E 04               	LD	A,4
(1)  300/    1828 : 32 90 14            	LD	(ALTOPATPER),A
(1)  301/    182B : 3E 04               	LD	A,4
(1)  302/    182D : 32 8F 14            	LD	(ANCHOPATPER),A
(1)  303/    1830 : 3E 01               	LD	A,1
(1)  304/    1832 : 32 8A 14            	LD	(PAG_NACT),A
(1)  305/    1835 : 3C                  	INC	A
(1)  306/    1836 : 32 4F 0A            	LD	(SWAP_CONT),A
(1)  307/    1839 :                     
(1)  308/    1839 : 21 47 2C            	LD	HL,HANDLE_DEF
(1)  309/    183C : 22 12 2C            	LD	(HANDLE_EKB),HL
(1)  310/    183F :                     
(1)  311/    183F :                     
(1)  312/    183F : 2E 00               	LD	L,0
(1)  313/    1841 : CD A3 1E            	CALL	INIT_INDEXPER
(1)  314/    1844 : CD 38 09            	CALL	INIT_FIGURASV
(1)  315/    1847 : CD 0B 1E            	CALL	INITPJS
(1)  316/    184A : CD 26 09            	CALL	INIT_BUFPAG
(1)  317/    184D : 21 73 3E            	LD	HL,MAPEADO_DAT+STRMAP_PROP
(1)  318/    1850 : CD 8D 18            	CALL	LOADPROP
(1)  319/    1853 : CD BC 2B            	CALL	GET_DIR
(1)  320/    1856 : 3A 89 14            	LD	A,(PAG_ACT)
(1)  321/    1859 : CD 21 36            	CALL	VER_PAGE
(1)  322/    185C :                     
(1)  323/    185C : 3E 03               	LD	A,TIMEFADE
(1)  324/    185E : 32 9D 14            	LD	(FADE_V),A
(1)  325/    1861 : CD 94 35            	CALL	VIS_ON
(1)  326/    1864 : CD 20 2B            	CALL	PUT_VINT
(1)  327/    1867 : CD FF 37            	CALL	SETVDP_LI
(1)  328/    186A :                     
(1)  329/    186A :                     
(1)  330/    186A : DD 2A 8B 14         	LD	IX,(PTR_PERSO)
(1)  331/    186E : 2A 8B 3E            	LD	HL,(MAPEADO_DAT+STRMAP_XDEF)
(1)  332/    1871 : ED 5B 8D 3E         	LD	DE,(MAPEADO_DAT+STRMAP_YDEF)
(1)  333/    1875 : 06 00               	LD	B,0
(1)  334/    1877 : 0E 00               	LD	C,CEN_TOTAL
(1)  335/    1879 : 3E 05               	LD	A,5
(1)  336/    187B : CD 42 0D            	CALL	SET_XY
(1)  337/    187E :                     
(1)  338/    187E :                     
(1)  339/    187E : 3E 03               	LD	A,3
(1)  340/    1880 : 32 AD 14            	LD	(WRITE_CONT),A
(1)  341/    1883 : 06 03               	LD	B,3
(1)  342/    1885 : C5                  GO_CIUDAD3	PUSH	BC
(1)  343/    1886 : CD B0 08            	CALL	DO_VISUAL
(1)  344/    1889 : C1                  	POP	BC
(1)  345/    188A : 10 F9               	DJNZ	GO_CIUDAD3
(1)  346/    188C : C9                  	RET
(1)  347/    188D :                     
(1)  348/    188D :                     
(1)  349/    188D :                     
(1)  350/    188D :                     
(1)  351/    188D :                     ;NOMBRE: LOADPROP
(1)  352/    188D :                     ;OBJETIVO: CARGAR LAS PROPIEDADES DE UNAS TEXTURAS.
 AS V1.42 Beta [Bld 28] - source file game.asm(init.asm) - page 72 - 8/12/2011 20:51:50


(1)  353/    188D :                     ;ENTRADA: HL -> NOMBRE DEL FICHERO
(1)  354/    188D :                     
(1)  355/    188D :                     
(1)  356/    188D :                     
(1)  357/    188D : CD 44 39            LOADPROP:	CALL	FILEOPEN
(1)  358/    1890 : 21 40 01            	LD	HL,SIZ_PROPVEC
(1)  359/    1893 : 11 EF 64            	LD	DE,PROPIEDAD_VEC
(1)  360/    1896 : CD 64 39            	CALL	READFILE
(1)  361/    1899 : CD 74 39            	CALL	CLOSEFILE
(1)  362/    189C : C9                  	RET
(1)  363/    189D :                     
(1)  364/    189D :                     
(1)  365/    189D :                     
(1)  366/    189D :                     
(1)  367/    189D :                     
(1)  368/    189D :                     ;NOMBRE: LOADPANT
(1)  369/    189D :                     ;OBJETIVO: CARGAR UNA PANTALLA CONTENIDA EN UN ARCHIVO
(1)  370/    189D :                     ;ENTRADA:     HL: PUNTERO AL NOMBRE DEL FICHERO DE  LA PANTALLA
(1)  371/    189D :                     ;SALIDA: A: SERA 0 SI NO SE HA PRODUCIDO NINGUN ERROR Y OTRO VALOR EN CASO
(1)  372/    189D :                     ;           CONTRARIO
(1)  373/    189D :                     ;MODIFICA: DE,HL,BC,AF
(1)  374/    189D :                     
(1)  375/    189D :                     
(1)  376/    189D : CD 44 39            LOADPANT:	CALL	FILEOPEN
(1)  377/    18A0 : 21 04 00            	LD	HL,4
(1)  378/    18A3 : 11 8B 6D            	LD	DE,BUFFER
(1)  379/    18A6 : CD 64 39            	CALL	READFILE
(1)  380/    18A9 : 2A 8D 6D            	LD	HL,(BUFFER+2)
(1)  381/    18AC : 22 87 14            	LD	(TAM_FILA_MTEX),HL
(1)  382/    18AF : ED 5B 8B 6D         	LD	DE,(BUFFER)
(1)  383/    18B3 : D5                  	PUSH	DE
(1)  384/    18B4 : CD 88 12            	CALL	MULTHLDE
(1)  385/    18B7 : 11 8B 6D            	LD	DE,BUFFER
(1)  386/    18BA : CD 64 39            	CALL	READFILE
(1)  387/    18BD : CD 74 39            	CALL	CLOSEFILE
(1)  388/    18C0 :                     
(1)  389/    18C0 : AF                  	XOR	A
(1)  390/    18C1 : C1                  	POP	BC
(1)  391/    18C2 : 11 8B 6D            	LD	DE,BUFFER
(1)  392/    18C5 : 21 67 48            	LD	HL,INDEXMAPA
(1)  393/    18C8 : AF                  LOADPANT2	XOR	A
(1)  394/    18C9 : 73                  	LD	(HL),E
(1)  395/    18CA : 23                  	INC	HL
(1)  396/    18CB : 72                  	LD	(HL),D
(1)  397/    18CC : 23                  	INC	HL
(1)  398/    18CD : E5                  	PUSH	HL
(1)  399/    18CE : 2A 87 14            	LD	HL,(TAM_FILA_MTEX)
(1)  400/    18D1 : 19                  	ADD	HL,DE
(1)  401/    18D2 : 54                  	LD	D,H
(1)  402/    18D3 : 5D                  	LD	E,L
(1)  403/    18D4 : E1                  	POP	HL
(1)  404/    18D5 : 0B                  	DEC	BC
(1)  405/    18D6 : B1                  	OR	C
(1)  406/    18D7 : 20 EF               	JR	NZ,LOADPANT2
(1)  407/    18D9 : B0                  	OR	B
(1)  408/    18DA : 20 EC               	JR	NZ,LOADPANT2
(1)  409/    18DC : C9                  	RET
(1)  410/    18DD :                     
(1)  411/    18DD :                     
(1)  412/    18DD :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(init.asm) - page 73 - 8/12/2011 20:51:50


    3251/    18DD :                     	include "openmsx.asm"
(1)    1/    18DD :                     
(1)    2/    18DD :                     	
(1)    3/    18DD :                     	
(1)    4/    18DD :                     ;;;Nombre: prt_d
(1)    5/    18DD :                     ;;;Objetivo: mostrar una cadena de depuracion (valida para openMSX)
(1)    6/    18DD :                     ;;;Entrada: hl -> cadena de control (terminada en 0) //Control string
(1)    7/    18DD :                     ;;;Modifica: hl,af,bc				     //Modidy register
(1)    8/    18DD :                     
(1)    9/    18DD : =>DEFINED           	ifdef   DEBUG
(1)   10/    18DD : =>DEFINED           	ifdef	OPENMSX
(1)   11/    18DD :                     
(1)   12/    18DD : 00                  prt_di:	   db  0	
(1)   13/    18DE :                     	
(1)   14/    18DE :                     		
(1)   15/    18DE :                     prt_d:     
(1)   16/    18DE : 7E                  	   ld a,(hl)
(1)   17/    18DF : B7                  	   or a
(1)   18/    18E0 : C8                  	   ret z
(1)   19/    18E1 :                     	
(1)   20/    18E1 : C1                  	   pop bc
(1)   21/    18E2 : ED 43 10 19         	   ld (r_sp),bc
(1)   22/    18E6 :                     	   
(1)   23/    18E6 :                     
(1)   24/    18E6 : 3E 23               	   ld a,23h
(1)   25/    18E8 : 47                  	   ld b,a
(1)   26/    18E9 : 0E 2E               	   ld c,02eh
(1)   27/    18EB :                     	
(1)   28/    18EB : 78                  	   ld a,b
(1)   29/    18EC : ED 79               	   out (c),a
(1)   30/    18EE : 7E                  prt_dl	   ld a,(hl)
(1)   31/    18EF : 23                  	   inc hl
(1)   32/    18F0 : B7                  	   or a	   
(1)   33/    18F1 : 20 07               	   jr nz,+
(1)   34/    18F3 : 78                  	     ld a,b		; Fin de cadena //end of control string
(1)   35/    18F4 : ED 79               	     out (c),a
(1)   36/    18F6 : 2A 10 19            	     ld hl,(r_sp)
(1)   37/    18F9 : E9                  	     jp (hl)
(1)   38/    18FA :                     	
(1)   39/    18FA :                     		
(1)   40/    18FA : FE 25               +	   cp '%'		; especificador de formato //format type
(1)   41/    18FC : 20 02               	   jr nz,+
(1)   42/    18FE : 18 28               	   jr prt_par	   
(1)   43/    1900 :                     			   	
(1)   44/    1900 :                     		
(1)   45/    1900 : FE 5C               +	   cp '\\'		; Constante de tipo caracter //character constant
(1)   46/    1902 : 20 08               	   jr nz,+
(1)   47/    1904 : 7E                  	     ld a,(hl)
(1)   48/    1905 : 23                  	     inc hl
(1)   49/    1906 : CD 12 19            	     call prt_ccar
(1)   50/    1909 : B7                  	     or a
(1)   51/    190A : 28 E2                            jr z,prt_dl
(1)   52/    190C :                     			
(1)   53/    190C : D3 2F               +	   out (02fh),a		; otro caracter de la cadena de control //character of control string
(1)   54/    190E : 18 DE               	   jr prt_dl
(1)   55/    1910 :                     	   												
(1)   56/    1910 : 00 00               r_sp:	dw 0
(1)   57/    1912 :                     		   	   		
(1)   58/    1912 :                     		
(1)   59/    1912 : 7E                  prt_ccar: ld a,(hl)
 AS V1.42 Beta [Bld 28] - source file game.asm(openmsx.asm) - page 74 - 8/12/2011 20:51:50


(1)   60/    1913 : 23                  	  inc hl 
(1)   61/    1914 : FE 6E               	  cp 'n'
(1)   62/    1916 : 20 07               	  jr nz,+
(1)   63/    1918 : 3E 2A               	    ld a,'*'
(1)   64/    191A : D3 2F               	    out (02fh),a
(1)   65/    191C : 3E 0C               	    ld a,0ch	    	    
(1)   66/    191E : C9                  	    ret
(1)   67/    191F : FE 61               +	  cp 'a'
(1)   68/    1921 : 20 03               	  jr nz,+
(1)   69/    1923 : 3E 07               	    ld a,7
(1)   70/    1925 : C9                  	    ret
(1)   71/    1926 :                     	
(1)   72/    1926 :                     
(1)   73/    1926 : AF                  +	xor a	
(1)   74/    1927 : C9                  	ret			; aadir mas constantes ... 
(1)   75/    1928 :                     
(1)   76/    1928 :                     
(1)   77/    1928 :                     
(1)   78/    1928 :                     
(1)   79/    1928 :                     prt_par:     		
(1)   80/    1928 : 7E                  	     ld a,(hl)
(1)   81/    1929 : 23                  	     inc hl
(1)   82/    192A : FE 64               	     cp 'd'
(1)   83/    192C : 20 14               	     jr nz,+
(1)   84/    192E :                     
(1)   85/    192E : 78                  	       ld a,b		; numero decimal
(1)   86/    192F : ED 79               	       out (c),a
(1)   87/    1931 : 3E 22               	       ld a,22h
(1)   88/    1933 : ED 79               	       out (c),a
(1)   89/    1935 : D1                  	       pop de
(1)   90/    1936 : 7B                  	       ld a,e
(1)   91/    1937 : D3 2F               	       out (02fh),a
(1)   92/    1939 : 3E 22               	       ld a,22h
(1)   93/    193B : ED 79               	       out (c),a
(1)   94/    193D : 78                  	       ld a,b
(1)   95/    193E : ED 79               	       out (c),a
(1)   96/    1940 : 18 AC               	       jr prt_dl
(1)   97/    1942 :                     
(1)   98/    1942 : FE 78               +	    cp 'x'
(1)   99/    1944 : 20 11               	    jr nz,+		;Comprobar  caso de la cadena y caracter
(1)  100/    1946 :                     
(1)  101/    1946 : 78                  	       ld a,b		; numero hexadecimal
(1)  102/    1947 : ED 79               	       out (c),a
(1)  103/    1949 : 3E 20               	       ld a,20h
(1)  104/    194B : ED 79               	       out (c),a
(1)  105/    194D : F1                  	       pop af
(1)  106/    194E : D3 2F               	       out (02fh),a
(1)  107/    1950 : 3E 20               	       ld a,20h
(1)  108/    1952 : ED 79               	       out (c),a
(1)  109/    1954 : 78                  	       ld a,b
(1)  110/    1955 : 18 97               	       jr prt_dl
(1)  111/    1957 : FE 73               +	   cp 's'	   
(1)  112/    1959 : 20 06               	   jr nz,+
(1)  113/    195B : D1                   	       pop de
(1)  114/    195C : CD 84 19            	       call prt_cad
(1)  115/    195F : 18 8D                	       jr prt_dl
(1)  116/    1961 : FE 70               + 	   cp 'p'
(1)  117/    1963 : 20 07               	   jr nz,+
(1)  118/    1965 : D1                  	       pop de
(1)  119/    1966 : CD 6F 19            	       call prt_ptr
 AS V1.42 Beta [Bld 28] - source file game.asm(openmsx.asm) - page 75 - 8/12/2011 20:51:50


(1)  120/    1969 : C3 EE 18            	       jp prt_dl
(1)  121/    196C :                     		
(1)  122/    196C : C3 EE 18            +	   jp prt_dl		; I must add %c,%p format
(1)  123/    196F :                     
(1)  124/    196F :                     
(1)  125/    196F :                     prt_ptr:	 
(1)  126/    196F : 78                  	ld a,b		; Imprimir direccion
(1)  127/    1970 : ED 79               	out (c),a
(1)  128/    1972 : 3E 20               	ld a,20h
(1)  129/    1974 : ED 79               	out (c),a
(1)  130/    1976 : 7A                  	ld a,d
(1)  131/    1977 : D3 2F               	out (02fh),a
(1)  132/    1979 : 7B                  	ld a,e
(1)  133/    197A : D3 2F               	out (02fh),a
(1)  134/    197C : 3E 20               	ld a,20h
(1)  135/    197E : ED 79               	out (c),a
(1)  136/    1980 : 78                  	ld a,b
(1)  137/    1981 : ED 79               	out (c),a
(1)  138/    1983 : C9                  	ret
(1)  139/    1984 :                     
(1)  140/    1984 :                     	
(1)  141/    1984 :                     prt_cad:
(1)  142/    1984 : 1A                  	ld a,(de)
(1)  143/    1985 : 13                  	inc de
(1)  144/    1986 : B7                  	or a
(1)  145/    1987 : C8                  	ret z
(1)  146/    1988 : D3 2F               	out (02fh),a
(1)  147/    198A : 18 F8               	jr prt_cad
(1)  148/    198C :                     	
(1)  149/    198C : [10]                	endif
(1)  150/    198C : C9                  prt_b:	ret	
(1)  151/    198D : [9]                 	endif
(1)  152/    198D :                     	
    3252/    198D :                     	include "pers.asm"
(1)    1/    198D :                     ;NOMBRE: TURNO_PJS
(1)    2/    198D :                     ;OBJETIVO: FUNCION SE ENCARGA DE GESTIONAR EL TURNO DE PJS EN EL MODO DE EXTERIOR
(1)    3/    198D :                     ;          ESTA FUNCION NO RETORNA HASTA QUE SE HAN EMPLEADO TODOS LOS PJS.
(1)    4/    198D :                     
(1)    5/    198D :                     
(1)    6/    198D : 2A 8B 14            TURNO_PJS:	LD	HL,(PTR_PERSO)
(1)    7/    1990 : 22 8B 08            	LD	(PUT_X_PERSO),HL
(1)    8/    1993 :                     
(1)    9/    1993 : 3E 02               	LD	A,2
(1)   10/    1995 : 32 AD 14            	LD	(WRITE_CONT),A
(1)   11/    1998 :                     
(1)   12/    1998 : 3E 03               	LD	A,3
(1)   13/    199A : 32 CC 19            	LD	(TURNO_PJC),A
(1)   14/    199D :                     
(1)   15/    199D : CD 39 08            TURNO_PJ2	CALL	PUT_X
(1)   16/    19A0 : 3E 20               TURNO_PJ1	LD	A,F1_KEY
(1)   17/    19A2 : CD 8A 2C            	CALL	TEST_FUNC
(1)   18/    19A5 : B7                  	OR	A
(1)   19/    19A6 : C4 1E 1B            	CALL	NZ,SHOW_PJS
(1)   20/    19A9 : 3E 01               	LD	A,1
(1)   21/    19AB : 06 00               	LD	B,0
(1)   22/    19AD : CD 2F 07            	CALL	MOVE_EXT
(1)   23/    19B0 : CD D7 1D            	CALL	SELEC_PJ
(1)   24/    19B3 : B7                  	OR	A
(1)   25/    19B4 : 28 EA               	JR	Z,TURNO_PJ1
(1)   26/    19B6 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(pers.asm) - page 76 - 8/12/2011 20:51:50


(1)   27/    19B6 : CD 12 05            	CALL	MAKE_PJ
(1)   28/    19B9 : 2A 8B 08            	LD	HL,(PUT_X_PERSO)
(1)   29/    19BC : 11 15 00            	LD	DE,STRUCTPERSO
(1)   30/    19BF : 19                  	ADD	HL,DE
(1)   31/    19C0 : 22 8B 08            	LD	(PUT_X_PERSO),HL
(1)   32/    19C3 :                     ;              CALL TTURN_END
(1)   33/    19C3 :                     ;              JR TURNO_PJ3
(1)   34/    19C3 : 21 CC 19            	LD	HL,TURNO_PJC
(1)   35/    19C6 : 35                  	DEC	(HL)
(1)   36/    19C7 : 20 D4               	JR	NZ,TURNO_PJ2
(1)   37/    19C9 : 18 C2               	JR	TURNO_PJS
(1)   38/    19CB : C9                  	RET
(1)   39/    19CC :                     
(1)   40/    19CC : 00                  TURNO_PJC:	DB	0
(1)   41/    19CD :                     
(1)   42/    19CD :                     
(1)   43/    19CD :                     
(1)   44/    19CD :                     
(1)   45/    19CD :                     
(1)   46/    19CD :                     ;PDATAPJ
(1)   47/    19CD :                     
(1)   48/    19CD : F5                  PDATAPJ:	PUSH	AF
(1)   49/    19CE :                     
(1)   50/    19CE : 21 00 00            	LD	HL,0
(1)   51/    19D1 : 39                  	ADD	HL,SP
(1)   52/    19D2 : 22 48 1A            	LD	(PDATAPJ_SP),HL
(1)   53/    19D5 :                     
(1)   54/    19D5 : 21 2B 48            	LD	HL,INDEXPERSO
(1)   55/    19D8 : CB 27               	SLA	A
(1)   56/    19DA : 5F                  	LD	E,A
(1)   57/    19DB : 16 00               	LD	D,0
(1)   58/    19DD : 19                  	ADD	HL,DE
(1)   59/    19DE : 5E                  	LD	E,(HL)
(1)   60/    19DF : 23                  	INC	HL
(1)   61/    19E0 : 56                  	LD	D,(HL)
(1)   62/    19E1 :                     
(1)   63/    19E1 :                     
(1)   64/    19E1 : D5                  	PUSH	DE
(1)   65/    19E2 : DD E1               	POP	IX
(1)   66/    19E4 : DD 5E 04            	LD	E,(IX+STRPER_TIPO)
(1)   67/    19E7 : 16 00               	LD	D,0
(1)   68/    19E9 : 21 18 00            	LD	HL,STRUCTTIPOP
(1)   69/    19EC : CD 88 12            	CALL	MULTHLDE
(1)   70/    19EF : 11 A3 3F            	LD	DE,TIPOS_VEC
(1)   71/    19F2 : 19                  	ADD	HL,DE
(1)   72/    19F3 : E5                  	PUSH	HL
(1)   73/    19F4 : FD E1               	POP	IY
(1)   74/    19F6 :                     
(1)   75/    19F6 : DD 6E 10            	LD	L,(IX+STRPER_MON)
(1)   76/    19F9 : DD 66 11            	LD	H,(IX+STRPER_MON+1)
(1)   77/    19FC : E5                  	PUSH	HL
(1)   78/    19FD : DD 6E 0C            	LD	L,(IX+STRPER_PEX)
(1)   79/    1A00 : DD 66 0D            	LD	H,(IX+STRPER_PEX+1)
(1)   80/    1A03 : E5                  	PUSH	HL
(1)   81/    1A04 : DD 6E 0A            	LD	L,(IX+STRPER_PAR)
(1)   82/    1A07 : 26 00               	LD	H,0
(1)   83/    1A09 : E5                  	PUSH	HL
(1)   84/    1A0A : FD 6E 0F            	LD	L,(IY+STRTIPE_PMV)
(1)   85/    1A0D : E5                  	PUSH	HL
(1)   86/    1A0E : DD 6E 0B            	LD	L,(IX+STRPER_PMV)
 AS V1.42 Beta [Bld 28] - source file game.asm(pers.asm) - page 77 - 8/12/2011 20:51:50


(1)   87/    1A11 : E5                  	PUSH	HL
(1)   88/    1A12 : FD 6E 0D            	LD	L,(IY+STRTIPE_PATQ)
(1)   89/    1A15 : E5                  	PUSH	HL
(1)   90/    1A16 : DD 6E 09            	LD	L,(IX+STRPER_PVTQ)
(1)   91/    1A19 : E5                  	PUSH	HL
(1)   92/    1A1A : FD 6E 0B            	LD	L,(IY+STRTIPE_PV)
(1)   93/    1A1D : FD 66 0C            	LD	H,(IY+STRTIPE_PV+1)
(1)   94/    1A20 : E5                  	PUSH	HL
(1)   95/    1A21 : DD 6E 07            	LD	L,(IX+STRPER_PV)
(1)   96/    1A24 : DD 66 08            	LD	H,(IX+STRPER_PV+1)
(1)   97/    1A27 : E5                  	PUSH	HL
(1)   98/    1A28 : DD 6E 0E            	LD	L,(IX+STRPER_NIV)
(1)   99/    1A2B : 26 00               	LD	H,0
(1)  100/    1A2D : E5                  	PUSH	HL
(1)  101/    1A2E : FD E5               	PUSH	IY
(1)  102/    1A30 : E1                  	POP	HL
(1)  103/    1A31 : 11 00 00            	LD	DE,STRTIPE_NOM
(1)  104/    1A34 : 19                  	ADD	HL,DE
(1)  105/    1A35 : E5                  	PUSH	HL
(1)  106/    1A36 :                     
(1)  107/    1A36 : 21 4A 1A            	LD	HL,PDATAPJS
(1)  108/    1A39 : 3A 8A 14            	LD	A,(PAG_NACT)
(1)  109/    1A3C : 11 20 50            	LD	DE,5020h
(1)  110/    1A3F : CD F7 01            	CALL	PRINTF
(1)  111/    1A42 :                     
(1)  112/    1A42 : 2A 48 1A            	LD	HL,(PDATAPJ_SP)
(1)  113/    1A45 : F9                  	LD	SP,HL
(1)  114/    1A46 : F1                  	POP	AF
(1)  115/    1A47 : C9                  	RET
(1)  116/    1A48 :                     
(1)  117/    1A48 :                     
(1)  118/    1A48 : 00 00               PDATAPJ_SP:	DW	0
(1)  119/    1A4A : 25 38 25 73 25 6C   PDATAPJS:	DB	"%8%s%l%n%nLEVEL     %d5%nHP:    %d5/%d5b%nSP:      %d3/%d3b%n"
                    25 6E 25 6E 4C 45 
                    56 45 4C 20 20 20 
                    20 20 25 64 35 25 
                    6E 48 50 3A 20 20 
                    20 20 25 64 35 2F 
                    25 64 35 62 25 6E 
                    53 50 3A 20 20 20 
                    20 20 20 25 64 33 
                    2F 25 64 33 62 25 
                    6E 
(1)  120/    1A87 : 4D 50 3A 20 20 20   		DB	"MP:      %d3/%d3b%nAP:         %d3%n"
                    20 20 20 25 64 33 
                    2F 25 64 33 62 25 
                    6E 41 50 3A 20 20 
                    20 20 20 20 20 20 
                    20 25 64 33 25 6E 
(1)  121/    1AAB : 45 50 3A 20 20 20   		DB	"EP:       %d5%nMONEY:    %d5"
                    20 20 20 20 25 64 
                    35 25 6E 4D 4F 4E 
                    45 59 3A 20 20 20 
                    20 25 64 35 
(1)  122/    1AC7 : 00                  		DB    0
(1)  123/    1AC8 :                     
(1)  124/    1AC8 :                     	
(1)  125/    1AC8 :                     	
(1)  126/    1AC8 :                     ;NOMBRE: SHOW_PERS
(1)  127/    1AC8 :                     ;OBJETIVO: MOSTRAR LAS CARACTERISSTICAS DE  LOS PJS
 AS V1.42 Beta [Bld 28] - source file game.asm(pers.asm) - page 78 - 8/12/2011 20:51:50


(1)  128/    1AC8 :                     
(1)  129/    1AC8 : F5                  SHOW_PERS:	PUSH	AF
(1)  130/    1AC9 : CD 1B 36            	CALL	WAIT_COM
(1)  131/    1ACC : 3A 8A 14            	LD	A,(PAG_NACT)
(1)  132/    1ACF : 47                  	LD	B,A
(1)  133/    1AD0 : 3E DD               	LD	A,0DDh
(1)  134/    1AD2 : 21 8B 38            	LD	HL,LIMPIA_SCR
(1)  135/    1AD5 : CD 23 38            	CALL	LIMPIA_PAN
(1)  136/    1AD8 :                     
(1)  137/    1AD8 :                     
(1)  138/    1AD8 : F1                  	POP	AF
(1)  139/    1AD9 : CD CD 19            	CALL	PDATAPJ
(1)  140/    1ADC : 6F                  	LD	L,A
(1)  141/    1ADD : 26 00               	LD	H,0
(1)  142/    1ADF : 11 28 00            	LD	DE,40
(1)  143/    1AE2 : CD 88 12            	CALL	MULTHLDE
(1)  144/    1AE5 : 7D                  	LD	A,L
(1)  145/    1AE6 :                     
(1)  146/    1AE6 : 32 0F 1B            	LD	(SHOW_PJD),A
(1)  147/    1AE9 : 3A 8A 14            	LD	A,(PAG_NACT)
(1)  148/    1AEC : 32 16 1B            	LD	(SHOW_PJD+7),A
(1)  149/    1AEF : CD 1B 36            	CALL	WAIT_COM
(1)  150/    1AF2 : 21 0F 1B            	LD	HL,SHOW_PJD
(1)  151/    1AF5 : CD 46 33            	CALL	COPYVRAM
(1)  152/    1AF8 :                     
(1)  153/    1AF8 :                     
(1)  154/    1AF8 : CD EA 33            	CALL	HIDE_CRUZ
(1)  155/    1AFB : CD D7 01            	CALL	CLOSE_WIN
(1)  156/    1AFE : F3                  	DI
(1)  157/    1AFF : 21 DF 37            	LD	HL,PAL_MARK
(1)  158/    1B02 : 22 79 37            	LD	(PAL_GMP),HL
(1)  159/    1B05 : 3E 01               	LD	A,1
(1)  160/    1B07 : 32 82 36            	LD	(CHANGE_PAL),A
(1)  161/    1B0A : FB                  	EI
(1)  162/    1B0B :                     		
(1)  163/    1B0B : CD 0A 03            	CALL	OPEN_WIN
(1)  164/    1B0E : C9                  	RET
(1)  165/    1B0F :                     
(1)  166/    1B0F :                     
(1)  167/    1B0F : 00 00 80 02 1E 00   SHOW_PJD:	DB	0,0,128,PAG_OBJETOS,30,0,30,0,40,0,40,0,0,0,98h	
                    1E 00 28 00 28 00 
                    00 00 98 
(1)  168/    1B1E :                     	
(1)  169/    1B1E :                     		
(1)  170/    1B1E :                     	
(1)  171/    1B1E :                     	
(1)  172/    1B1E :                     ;NOMBRE: SHOW_PJS
(1)  173/    1B1E :                     ;OBJETIVO: GESTIONAR LA VISUALIZACION DE LOS PERSONAJES
(1)  174/    1B1E :                     
(1)  175/    1B1E : 3E 04               SHOW_PJS:	LD	A,4
(1)  176/    1B20 : 32 AD 14            	LD	(WRITE_CONT),A
(1)  177/    1B23 :                     
(1)  178/    1B23 : AF                  	XOR	A
(1)  179/    1B24 : 32 D2 1B            	LD	(SHOW_PJP),A
(1)  180/    1B27 : 32 D3 1B            	LD	(SHOW_DIR),A
(1)  181/    1B2A :                     
(1)  182/    1B2A :                     
(1)  183/    1B2A :                     SHOW_PJSC:	
(1)  184/    1B2A : CD 43 09            	CALL	SWAP_PAGE
(1)  185/    1B2D : CD 8C 11            	CALL	ERASE_PNA
 AS V1.42 Beta [Bld 28] - source file game.asm(pers.asm) - page 79 - 8/12/2011 20:51:50


(1)  186/    1B30 :                     
(1)  187/    1B30 : AF                  	XOR	A
(1)  188/    1B31 : 32 D3 1B            	LD	(SHOW_DIR),A
(1)  189/    1B34 : 3A D2 1B            	LD	A,(SHOW_PJP)
(1)  190/    1B37 : 08                  SHOW_PJS1:	EX	AF,AF'
(1)  191/    1B38 : AF                  	XOR	A	;LIMPIO EL BUFFER
(1)  192/    1B39 : 32 52 37            	LD	(BUFFER_FUNC),A
(1)  193/    1B3C : 08                  	EX	AF,AF'
(1)  194/    1B3D : CD C8 1A            	CALL	SHOW_PERS
(1)  195/    1B40 : CD 9D 26            SHOW_PJS2:	CALL	ASK_OUT
(1)  196/    1B43 :                     
(1)  197/    1B43 : 3E 20               	LD	A,F1_KEY
(1)  198/    1B45 : CD 8A 2C            	CALL	TEST_FUNC
(1)  199/    1B48 : B7                  	OR	A
(1)  200/    1B49 : 20 41               	JR	NZ,SHOW_PJEND
(1)  201/    1B4B :                     
(1)  202/    1B4B : 3E 40               	LD	A,SPC_KEY
(1)  203/    1B4D : CD 8A 2C            	CALL	TEST_FUNC
(1)  204/    1B50 : B7                  	OR	A
(1)  205/    1B51 : 3A D2 1B            	LD	A,(SHOW_PJP)
(1)  206/    1B54 : 28 05               	JR	Z,GEST_INV00
(1)  207/    1B56 : CD B0 2D            	CALL	GEST_INV
(1)  208/    1B59 : 18 CF               	JR	SHOW_PJSC
(1)  209/    1B5B :                     
(1)  210/    1B5B :                     
(1)  211/    1B5B : CD BC 2B            GEST_INV00	CALL	GET_DIR
(1)  212/    1B5E : 3A D2 1B            	LD	A,(SHOW_PJP)
(1)  213/    1B61 : 4F                  	LD	C,A
(1)  214/    1B62 : 3A D3 1B            	LD	A,(SHOW_DIR)
(1)  215/    1B65 : 47                  	LD	B,A
(1)  216/    1B66 : 3A 9E 14            	LD	A,(DIR_ACTUAL)
(1)  217/    1B69 : 32 D3 1B            	LD	(SHOW_DIR),A
(1)  218/    1B6C : B8                  	CP	B
(1)  219/    1B6D : 28 D1               	JR	Z,SHOW_PJS2
(1)  220/    1B6F :                     
(1)  221/    1B6F :                     
(1)  222/    1B6F : FE 00               	CP	DERECHA
(1)  223/    1B71 : 20 04               	JR	NZ,SHOW_PJI
(1)  224/    1B73 : 79                  	LD	A,C
(1)  225/    1B74 : 3C                  	INC	A
(1)  226/    1B75 : 18 06               	JR	SHOW_PJSC2
(1)  227/    1B77 :                     
(1)  228/    1B77 : FE 01               SHOW_PJI	CP	IZQUIERDA
(1)  229/    1B79 : 20 C5               	JR	NZ,SHOW_PJS2
(1)  230/    1B7B : 79                  	LD	A,C
(1)  231/    1B7C : 3D                  	DEC	A
(1)  232/    1B7D :                     
(1)  233/    1B7D :                     
(1)  234/    1B7D : FE FF               SHOW_PJSC2:	CP	-1
(1)  235/    1B7F : 20 02               	JR	NZ,SHOW_PJSC3
(1)  236/    1B81 : 18 BD               	JR	SHOW_PJS2
(1)  237/    1B83 :                     
(1)  238/    1B83 : FE 03               SHOW_PJSC3	CP	MAXNUMPJS
(1)  239/    1B85 : 28 B9               	JR	Z,SHOW_PJS2
(1)  240/    1B87 : 32 D2 1B            	LD	(SHOW_PJP),A
(1)  241/    1B8A : 18 AB               	JR	SHOW_PJS1
(1)  242/    1B8C :                     
(1)  243/    1B8C :                     
(1)  244/    1B8C :                     
(1)  245/    1B8C : 2A 97 14            SHOW_PJEND:	LD	HL,(MAPEAPTR)
 AS V1.42 Beta [Bld 28] - source file game.asm(pers.asm) - page 80 - 8/12/2011 20:51:50


(1)  246/    1B8F : 0E 0F               	LD	C,NUMPATY
(1)  247/    1B91 : 3E FF               	LD	A,255
(1)  248/    1B93 : 06 1C               SHOW_PJE2	LD	B,NUMPATX
(1)  249/    1B95 : 77                  SHOW_PJE1	LD	(HL),A
(1)  250/    1B96 : 23                  	INC	HL
(1)  251/    1B97 : 10 FC               	DJNZ	SHOW_PJE1
(1)  252/    1B99 :                     
(1)  253/    1B99 : 0D                  	DEC	C
(1)  254/    1B9A : 20 F7               	JR	NZ,SHOW_PJE2
(1)  255/    1B9C :                     
(1)  256/    1B9C : CD 1B 36            	CALL	WAIT_COM
(1)  257/    1B9F : 3A 8A 14            	LD	A,(PAG_NACT)
(1)  258/    1BA2 : 47                  	LD	B,A
(1)  259/    1BA3 : 3E DD               	LD	A,0DDh
(1)  260/    1BA5 : 21 8B 38            	LD	HL,LIMPIA_SCR
(1)  261/    1BA8 : CD 23 38            	CALL	LIMPIA_PAN
(1)  262/    1BAB :                     
(1)  263/    1BAB : 3E 04               	LD	A,4
(1)  264/    1BAD : 32 AD 14            	LD	(WRITE_CONT),A
(1)  265/    1BB0 : 3E 02               	LD	A,2
(1)  266/    1BB2 : 32 93 14            	LD	(MAPEACONT),A
(1)  267/    1BB5 : CD 43 1F            	CALL	VIEW_PERSO
(1)  268/    1BB8 : CD EF 13            	CALL	MAPRUT
(1)  269/    1BBB : CD 11 11            	CALL	WRITE_PNA
(1)  270/    1BBE :                     
(1)  271/    1BBE : CD D7 01            	CALL	CLOSE_WIN
(1)  272/    1BC1 :                     
(1)  273/    1BC1 : F3                  	DI
(1)  274/    1BC2 : 21 7B 37            	LD	HL,PAL_GM
(1)  275/    1BC5 : 22 79 37            	LD	(PAL_GMP),HL
(1)  276/    1BC8 : 3E 01               	LD	A,1
(1)  277/    1BCA : 32 82 36            	LD	(CHANGE_PAL),A
(1)  278/    1BCD : FB                  	EI
(1)  279/    1BCE :                     
(1)  280/    1BCE : CD 0A 03            	CALL	OPEN_WIN
(1)  281/    1BD1 : C9                  	RET
(1)  282/    1BD2 :                     
(1)  283/    1BD2 :                     
(1)  284/    1BD2 :                     
(1)  285/    1BD2 : 00                  SHOW_PJP:	DB	0
(1)  286/    1BD3 : 00                  SHOW_DIR:	DB	0
(1)  287/    1BD4 :                     
(1)  288/    1BD4 :                     	
(1)  289/    1BD4 :                     	
(1)  290/    1BD4 :                     	
(1)  291/    1BD4 :                     ;NOMBRE: SHOW_INV
(1)  292/    1BD4 :                     ;OBJETIVO: MOSTRAR EL INVENTARIO DE UN PERSONAJE. Y EL EQUIPO PUESTO
(1)  293/    1BD4 :                     ;ENTRADA: A -> NUMERO DEL PERSOANJE
(1)  294/    1BD4 :                     
(1)  295/    1BD4 :                     
(1)  296/    1BD4 :                     
(1)  297/    1BD4 : 21 2B 48            SHOW_INV:	LD	HL,INDEXPERSO
(1)  298/    1BD7 : CB 27               	SLA	A
(1)  299/    1BD9 : 5F                  	LD	E,A
(1)  300/    1BDA : 16 00               	LD	D,0
(1)  301/    1BDC : 19                  	ADD	HL,DE
(1)  302/    1BDD : 5E                  	LD	E,(HL)
(1)  303/    1BDE : 23                  	INC	HL
(1)  304/    1BDF : 56                  	LD	D,(HL)
(1)  305/    1BE0 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(pers.asm) - page 81 - 8/12/2011 20:51:50


(1)  306/    1BE0 :                     
(1)  307/    1BE0 : D5                  	PUSH	DE
(1)  308/    1BE1 : DD E1               	POP	IX
(1)  309/    1BE3 : DD 5E 04            	LD	E,(IX+STRPER_TIPO)
(1)  310/    1BE6 : 16 00               	LD	D,0
(1)  311/    1BE8 : 21 18 00            	LD	HL,STRUCTTIPOP
(1)  312/    1BEB : CD 88 12            	CALL	MULTHLDE
(1)  313/    1BEE : 11 A3 3F            	LD	DE,TIPOS_VEC
(1)  314/    1BF1 : 19                  	ADD	HL,DE
(1)  315/    1BF2 : E5                  	PUSH	HL
(1)  316/    1BF3 : FD E1               	POP	IY
(1)  317/    1BF5 : FD 7E 16            	LD	A,(IY+STRTIPE_INV)
(1)  318/    1BF8 :                     
(1)  319/    1BF8 : DD 22 52 1C         	LD	(INV_PERS),IX
(1)  320/    1BFC : FD 22 54 1C         	LD	(INV_TIPO),IY
(1)  321/    1C00 :                     
(1)  322/    1C00 :                     
(1)  323/    1C00 : 6F                  	LD	L,A
(1)  324/    1C01 : 26 00               	LD	H,0
(1)  325/    1C03 : 11 0F 00            	LD	DE,15	;TAMAGNO DEL INVENTARIO
(1)  326/    1C06 : CD 88 12            	CALL	MULTHLDE
(1)  327/    1C09 : 11 6A 15            	LD	DE,INVENTARIOV
(1)  328/    1C0C : 19                  	ADD	HL,DE
(1)  329/    1C0D : 22 6C 04            	LD	(INV_ACT),HL
(1)  330/    1C10 :                     
(1)  331/    1C10 : FD 7E 17            	LD	A,(IY+STRTIPE_EQUI)
(1)  332/    1C13 : 6F                  	LD	L,A
(1)  333/    1C14 : 26 00               	LD	H,0
(1)  334/    1C16 : 11 08 00            	LD	DE,8	;TAMAGNO DE EQUIPO PUESTO
(1)  335/    1C19 : CD 88 12            	CALL	MULTHLDE
(1)  336/    1C1C : 11 97 15            	LD	DE,EQUIPOV
(1)  337/    1C1F : 19                  	ADD	HL,DE
(1)  338/    1C20 : 22 6E 04            	LD	(EQUIPO_ACT),HL
(1)  339/    1C23 :                     
(1)  340/    1C23 :                     
(1)  341/    1C23 : 0E 02               	LD	C,2	;PRIMERO EL EQUIPO PUESTO Y LUEGO EL
(1)  342/    1C25 : 06 08               	LD	B,8	;INVENTARIO
(1)  343/    1C27 : AF                  	XOR	A
(1)  344/    1C28 : E5                  SHOW_IPO	PUSH	HL
(1)  345/    1C29 : C5                  	PUSH	BC
(1)  346/    1C2A : F5                  	PUSH	AF
(1)  347/    1C2B : 4E                  	LD	C,(HL)
(1)  348/    1C2C : CD 47 2D            	CALL	PUT_OBJI
(1)  349/    1C2F : F1                  	POP	AF
(1)  350/    1C30 : C1                  	POP	BC
(1)  351/    1C31 : E1                  	POP	HL
(1)  352/    1C32 : 3C                  	INC	A
(1)  353/    1C33 : 23                  	INC	HL
(1)  354/    1C34 : 10 F2               	DJNZ	SHOW_IPO
(1)  355/    1C36 : 06 0F               	LD	B,15	;EL NUMERO DE ELEMENTOS DEL INVENTARIO
(1)  356/    1C38 : 2A 6C 04            	LD	HL,(INV_ACT)
(1)  357/    1C3B : 0D                  	DEC	C
(1)  358/    1C3C : 20 EA               	JR	NZ,SHOW_IPO
(1)  359/    1C3E :                     
(1)  360/    1C3E :                     
(1)  361/    1C3E : CD D7 01            	CALL	CLOSE_WIN
(1)  362/    1C41 :                     
(1)  363/    1C41 : F3                  	DI
(1)  364/    1C42 : 21 7B 37            	LD	HL,PAL_GM
(1)  365/    1C45 : 22 79 37            	LD	(PAL_GMP),HL
 AS V1.42 Beta [Bld 28] - source file game.asm(pers.asm) - page 82 - 8/12/2011 20:51:50


(1)  366/    1C48 : 3E 01               	LD	A,1
(1)  367/    1C4A : 32 82 36            	LD	(CHANGE_PAL),A
(1)  368/    1C4D : FB                  	EI
(1)  369/    1C4E :                     	
(1)  370/    1C4E : CD 0A 03            	CALL	OPEN_WIN
(1)  371/    1C51 : C9                  	RET
(1)  372/    1C52 :                     
(1)  373/    1C52 : 00 00               INV_PERS:	DW	0
(1)  374/    1C54 : 00 00               INV_TIPO:	DW	0
(1)  375/    1C56 :                     
(1)  376/    1C56 :                     
(1)  377/    1C56 :                     
(1)  378/    1C56 :                     ;NOMBRE: MAKE_INV
(1)  379/    1C56 :                     ;OBJETIVO: PINTAR EN PANTALLA LA PANTALLA DE VISUALIZACION DE INVENTARIO
(1)  380/    1C56 :                     
(1)  381/    1C56 :                     
(1)  382/    1C56 :                     MAKE_INV:	
(1)  383/    1C56 : CD 1B 36            	CALL	WAIT_COM
(1)  384/    1C59 : 3A 8A 14            	LD	A,(PAG_NACT)
(1)  385/    1C5C : 32 DF 1C            	LD	(SHOWINVD+7),A
(1)  386/    1C5F : 47                  	LD	B,A
(1)  387/    1C60 : 3E DD               	LD	A,0DDh
(1)  388/    1C62 : 21 8B 38            	LD	HL,LIMPIA_SCR
(1)  389/    1C65 : CD 23 38            	CALL	LIMPIA_PAN
(1)  390/    1C68 :                     
(1)  391/    1C68 : 3E 70               	LD	A,112
(1)  392/    1C6A : 32 D8 1C            	LD	(SHOWINVD),A
(1)  393/    1C6D : 3E 48               	LD	A,72
(1)  394/    1C6F : 32 DC 1C            	LD	(SHOWINVD+4),A
(1)  395/    1C72 : 3E 28               	LD	A,40
(1)  396/    1C74 : 32 DE 1C            	LD	(SHOWINVD+6),A
(1)  397/    1C77 : CD 1B 36            	CALL	WAIT_COM
(1)  398/    1C7A : 21 D8 1C            	LD	HL,SHOWINVD
(1)  399/    1C7D : CD 46 33            	CALL	COPYVRAM
(1)  400/    1C80 :                     
(1)  401/    1C80 : 21 E7 1C            	LD	HL,SHOWINVB
(1)  402/    1C83 : 06 02               	LD	B,2
(1)  403/    1C85 : C5                  MAKE_INVBA	PUSH	BC
(1)  404/    1C86 : 3A 8A 14            	LD	A,(PAG_NACT)
(1)  405/    1C89 : 56                  	LD	D,(HL)
(1)  406/    1C8A : 23                  	INC	HL
(1)  407/    1C8B : 5E                  	LD	E,(HL)
(1)  408/    1C8C : 23                  	INC	HL
(1)  409/    1C8D : E5                  	PUSH	HL
(1)  410/    1C8E : EB                  	EX	DE,HL
(1)  411/    1C8F : 47                  	LD	B,A
(1)  412/    1C90 : 1E 08               	LD	E,8
(1)  413/    1C92 : 16 08               	LD	D,8
(1)  414/    1C94 : CD 35 1D            	CALL	PAINT_BALD
(1)  415/    1C97 : E1                  	POP	HL
(1)  416/    1C98 : C1                  	POP	BC
(1)  417/    1C99 : 10 EA               	DJNZ	MAKE_INVBA
(1)  418/    1C9B :                     
(1)  419/    1C9B :                     
(1)  420/    1C9B : 06 15               	LD	B,21
(1)  421/    1C9D : C5                  MAKE_INVBBP:	PUSH	BC
(1)  422/    1C9E : 3A 8A 14            	LD	A,(PAG_NACT)
(1)  423/    1CA1 : 47                  	LD	B,A
(1)  424/    1CA2 : 56                  	LD	D,(HL)
(1)  425/    1CA3 : 23                  	INC	HL
 AS V1.42 Beta [Bld 28] - source file game.asm(pers.asm) - page 83 - 8/12/2011 20:51:50


(1)  426/    1CA4 : 5E                  	LD	E,(HL)
(1)  427/    1CA5 : 23                  	INC	HL
(1)  428/    1CA6 : E5                  	PUSH	HL
(1)  429/    1CA7 : EB                  	EX	DE,HL
(1)  430/    1CA8 : 1E 10               	LD	E,16
(1)  431/    1CAA : 53                  	LD	D,E
(1)  432/    1CAB : CD 35 1D            	CALL	PAINT_BALD
(1)  433/    1CAE : E1                  	POP	HL
(1)  434/    1CAF : C1                  	POP	BC
(1)  435/    1CB0 : 10 EB               	DJNZ	MAKE_INVBBP
(1)  436/    1CB2 :                     
(1)  437/    1CB2 :                     
(1)  438/    1CB2 :                     
(1)  439/    1CB2 :                     
(1)  440/    1CB2 : 06 08               	LD	B,8
(1)  441/    1CB4 : DD 21 15 1D         	LD	IX,SHOWINVL
(1)  442/    1CB8 : C5                  MAKE_INVBL	PUSH	BC
(1)  443/    1CB9 : DD 6E 00            	LD	L,(IX)
(1)  444/    1CBC : DD 66 01            	LD	H,(IX+1)
(1)  445/    1CBF : DD 5E 02            	LD	E,(IX+2)
(1)  446/    1CC2 : DD 56 03            	LD	D,(IX+3)
(1)  447/    1CC5 : 0E 0C               	LD	C,12
(1)  448/    1CC7 : 06 00               	LD	B,0
(1)  449/    1CC9 : 3A 8A 14            	LD	A,(PAG_NACT)
(1)  450/    1CCC : CD 57 33            	CALL	LINE
(1)  451/    1CCF : 11 04 00            	LD	DE,4
(1)  452/    1CD2 : DD 19               	ADD	IX,DE
(1)  453/    1CD4 : C1                  	POP	BC
(1)  454/    1CD5 : 10 E1               	DJNZ	MAKE_INVBL
(1)  455/    1CD7 :                     
(1)  456/    1CD7 :                     
(1)  457/    1CD7 : C9                  	RET
(1)  458/    1CD8 :                     
(1)  459/    1CD8 :                     
(1)  460/    1CD8 :                     
(1)  461/    1CD8 : 00 00 00 02 70 00   SHOWINVD:	DB	0,0,COORDY_OBJ,PAG_OBJETOS,112,0,24,0,32,0,64,0,0,0,0D0h
                    18 00 20 00 40 00 
                    00 00 D0 
(1)  462/    1CE7 : 16 3C 16 48         SHOWINVB:	DB	22,60,22,72
(1)  463/    1CEB : 28 28 28 3E 28 54   SHOWINVB16:	DB	40,40,40,62,40,84,120,40,120,62,120,84
                    78 28 78 3E 78 54 
(1)  464/    1CF7 : B0 18 B0 2A B0 3C   SHOWINVN:	DB	176,24,176,42,176,60,176,78,176,96
                    B0 4E B0 60 
(1)  465/    1D01 : C2 18 C2 2A C2 3C   	DB	194,24,194,42,194,60,194,78,194,96
                    C2 4E C2 60 
(1)  466/    1D0B : D4 18 D4 2A D4 3C   	DB	212,24,212,42,212,60,212,78,212,96
                    D4 4E D4 60 
(1)  467/    1D15 :                     
(1)  468/    1D15 :                     
(1)  469/    1D15 :                     
(1)  470/    1D15 : 2F 3A 32 58         SHOWINVL:	DW	58*256+47,88*256+50
(1)  471/    1D19 : 46 3A 49 4C         	DW	58*256+70,76*256+73
(1)  472/    1D1D : 5C 3A 5F 57         	DW	58*256+92,87*256+95
(1)  473/    1D21 : 2A 58 2F 75         	DW	88*256+42,117*256+47
(1)  474/    1D25 : 3E 57 45 75         	DW	87*256+62,117*256+69
(1)  475/    1D29 : 49 63 5A 75         	DW	99*256+73,117*256+90
(1)  476/    1D2D : 41 1F 41 26         	DW	31*256+65,38*256+65
(1)  477/    1D31 : 4A 1F 4A 26         	DW	31*256+74,38*256+74
(1)  478/    1D35 :                     
(1)  479/    1D35 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(pers.asm) - page 84 - 8/12/2011 20:51:50


(1)  480/    1D35 :                     
(1)  481/    1D35 :                     
(1)  482/    1D35 :                     
(1)  483/    1D35 :                     
(1)  484/    1D35 :                     ;NOMBRE: PAINT_BALD
(1)  485/    1D35 :                     ;OBJETIVO: PINTAR UNA BALDOSA
(1)  486/    1D35 :                     ;ENTRADA: B -> PAGINA
(1)  487/    1D35 :                     ;         E -> ANCHO
(1)  488/    1D35 :                     ;         D -> ALTO
(1)  489/    1D35 :                     ;         H -> COORDENADA X
(1)  490/    1D35 :                     ;         L -> COORDENADA Y
(1)  491/    1D35 :                     
(1)  492/    1D35 :                     
(1)  493/    1D35 :                     
(1)  494/    1D35 : DD 21 AF 1D         PAINT_BALD:	LD	IX,PAINT_BALDC
(1)  495/    1D39 : 78                  	LD	A,B
(1)  496/    1D3A : 32 AE 1D            	LD	(PAINT_PAGE),A
(1)  497/    1D3D : DD 73 04            	LD	(IX+4),E
(1)  498/    1D40 : DD 72 06            	LD	(IX+6),D
(1)  499/    1D43 : DD 74 00            	LD	(IX+0),H
(1)  500/    1D46 : DD 75 02            	LD	(IX+2),L
(1)  501/    1D49 :                     
(1)  502/    1D49 : 25                  	DEC	H
(1)  503/    1D4A : 2D                  	DEC	L
(1)  504/    1D4B :                     
(1)  505/    1D4B : 7C                  	LD	A,H
(1)  506/    1D4C : 82                  	ADD	A,D
(1)  507/    1D4D : 3C                  	INC	A
(1)  508/    1D4E : 57                  	LD	D,A
(1)  509/    1D4F :                     
(1)  510/    1D4F : 7D                  	LD	A,L
(1)  511/    1D50 : 83                  	ADD	A,E
(1)  512/    1D51 : 3C                  	INC	A
(1)  513/    1D52 : 5F                  	LD	E,A
(1)  514/    1D53 :                     
(1)  515/    1D53 :                     
(1)  516/    1D53 : 22 BA 1D            	LD	(PAINT_BDL1),HL
(1)  517/    1D56 : 22 BF 1D            	LD	(PAINT_BDL2),HL
(1)  518/    1D59 : ED 53 C4 1D         	LD	(PAINT_BDL3),DE
(1)  519/    1D5D : ED 53 C9 1D         	LD	(PAINT_BDL4),DE
(1)  520/    1D61 : 7B                  	LD	A,E
(1)  521/    1D62 : 5D                  	LD	E,L
(1)  522/    1D63 : ED 53 BC 1D         	LD	(PAINT_BDL1+2),DE
(1)  523/    1D67 : ED 53 C6 1D         	LD	(PAINT_BDL3+2),DE
(1)  524/    1D6B : 5F                  	LD	E,A
(1)  525/    1D6C : 54                  	LD	D,H
(1)  526/    1D6D : ED 53 C1 1D         	LD	(PAINT_BDL2+2),DE
(1)  527/    1D71 : ED 53 CB 1D         	LD	(PAINT_BDL4+2),DE
(1)  528/    1D75 :                     
(1)  529/    1D75 :                     
(1)  530/    1D75 : CD 1B 36            	CALL	WAIT_COM
(1)  531/    1D78 : 3A AE 1D            	LD	A,(PAINT_PAGE)
(1)  532/    1D7B : 47                  	LD	B,A
(1)  533/    1D7C : 3E 55               	LD	A,55h
(1)  534/    1D7E : 21 AF 1D            	LD	HL,PAINT_BALDC
(1)  535/    1D81 : CD 23 38            	CALL	LIMPIA_PAN
(1)  536/    1D84 :                     
(1)  537/    1D84 : 06 04               	LD	B,4
(1)  538/    1D86 : DD 21 BA 1D         	LD	IX,PAINT_BDL1
(1)  539/    1D8A : C5                  PAINT_BLDJ1	PUSH	BC
 AS V1.42 Beta [Bld 28] - source file game.asm(pers.asm) - page 85 - 8/12/2011 20:51:50


(1)  540/    1D8B : DD 6E 00            	LD	L,(IX)
(1)  541/    1D8E : DD 66 01            	LD	H,(IX+1)
(1)  542/    1D91 : DD 5E 02            	LD	E,(IX+2)
(1)  543/    1D94 : DD 56 03            	LD	D,(IX+3)
(1)  544/    1D97 : DD 4E 04            	LD	C,(IX+4)
(1)  545/    1D9A : 06 00               	LD	B,0
(1)  546/    1D9C : CD 1B 36                  CALL  WAIT_COM
(1)  547/    1D9F : 3A 8A 14                  LD	A,(PAG_NACT)
(1)  548/    1DA2 : CD 57 33            	CALL	LINE
(1)  549/    1DA5 : 11 05 00            	LD	DE,5
(1)  550/    1DA8 : DD 19               	ADD	IX,DE
(1)  551/    1DAA :                     
(1)  552/    1DAA :                     
(1)  553/    1DAA : C1                  	POP	BC
(1)  554/    1DAB : 10 DD               	DJNZ	PAINT_BLDJ1
(1)  555/    1DAD : C9                  	RET
(1)  556/    1DAE :                     
(1)  557/    1DAE :                     
(1)  558/    1DAE : 00                  PAINT_PAGE:	DB	0
(1)  559/    1DAF :                     PAINT_BALDC:
(1)  560/    1DAF : 00 00 00 00 00 00   		DB	0,0,0,0,0,0,0,0,0FFh,0,0C0h
                    00 00 FF 00 C0 
(1)  561/    1DBA : 00 00 00 00 09      PAINT_BDL1:	DB	0,0,0,0,9
(1)  562/    1DBF : 00 00 00 00 00      PAINT_BDL2:	DB	0,0,0,0,0
(1)  563/    1DC4 : 00 00 00 00 09      PAINT_BDL3:	DB	0,0,0,0,9
(1)  564/    1DC9 : 00 00 00 00 00      PAINT_BDL4:	DB	0,0,0,0,0
(1)  565/    1DCE :                     
(1)  566/    1DCE :                     
(1)  567/    1DCE :                     
(1)  568/    1DCE :                     ;NOMBRE: SELEC_PJ
(1)  569/    1DCE :                     ;OBJETIVO: VERIFICAR SI SE HA SELECCIONADO UN PERSONAJE Y HACER LOS AJUSTES
(1)  570/    1DCE :                     ;          NECESARIOS
(1)  571/    1DCE :                     ;SALIDA:  A -> INDICA SI HE HA PULSADO SOBRE UN PJ
(1)  572/    1DCE :                     ;         C -> EN CASO DE QUE A SEA 0 INDICA EL PJ SOBR EL QUE SE HA PULSADO
(1)  573/    1DCE :                     
(1)  574/    1DCE :                     
(1)  575/    1DCE : 3E 20               	LD	A,F1_KEY
(1)  576/    1DD0 : CD 8A 2C            	CALL	TEST_FUNC
(1)  577/    1DD3 : B7                  	OR	A
(1)  578/    1DD4 : C4 1E 1B            	CALL	NZ,SHOW_PJS
(1)  579/    1DD7 :                     
(1)  580/    1DD7 : 3E 40               SELEC_PJ:	LD	A,SPC_KEY
(1)  581/    1DD9 : CD 8A 2C            	CALL	TEST_FUNC
(1)  582/    1DDC : B7                  	OR	A
(1)  583/    1DDD : C8                  	RET	Z
(1)  584/    1DDE :                     
(1)  585/    1DDE : DD 21 8D 08         	LD	IX,PUT_XPERA	;CARGO LOS PARAMETROS DE LA FUNCION
(1)  586/    1DE2 : ED 5B 8D 08         	LD	DE,(PUT_XPERA+STRPER_Y)
(1)  587/    1DE6 : 2A 8F 08            	LD	HL,(PUT_XPERA+STRPER_X)
(1)  588/    1DE9 : 3E 1E               	LD	A,MAXPERSOM
(1)  589/    1DEB : CD 34 20            	CALL	MOVPCHK_COL
(1)  590/    1DEE :                     
(1)  591/    1DEE : B7                  	OR	A
(1)  592/    1DEF : 28 08               	JR	Z,SELEC_PJ1
(1)  593/    1DF1 : 79                  	LD	A,C
(1)  594/    1DF2 : FE 03               	CP	3
(1)  595/    1DF4 : 30 03               	JR	NC,SELEC_PJ1
(1)  596/    1DF6 : 3E 01               	LD	A,1
(1)  597/    1DF8 : C9                  	RET
(1)  598/    1DF9 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(pers.asm) - page 86 - 8/12/2011 20:51:50


(1)  599/    1DF9 : AF                  SELEC_PJ1	XOR	A
(1)  600/    1DFA : C9                  	RET
(1)  601/    1DFB :                     
(1)  602/    1DFB :                     	
(1)  603/    1DFB :                     
(1)  604/    1DFB :                     ;NOMBRE: INIT_PERV
(1)  605/    1DFB :                     ;OBJETIVO: INICIALIZA LA OCUPACION DEL VECTOR DE PERSONAJES QUE SE LE INDICA
(1)  606/    1DFB :                     ;          A 0.
(1)  607/    1DFB :                     ;ENTRADA: L -> NUMERO DE VECTOR
(1)  608/    1DFB :                     ;MODIFICA:
(1)  609/    1DFB :                     
(1)  610/    1DFB :                     
(1)  611/    1DFB : 01 12 1B            INIT_PERV:	LD	BC,SIZ_STRPERVC+SIZ_STRPERVM
(1)  612/    1DFE : 21 DD 49            	LD	HL,STRPER_VECMAP
(1)  613/    1E01 : AF                  	XOR	A
(1)  614/    1E02 : 77                  INIT_PERV1	LD	(HL),A
(1)  615/    1E03 : 23                  	INC	HL
(1)  616/    1E04 : 0D                  	DEC	C
(1)  617/    1E05 : 20 FB               	JR	NZ,INIT_PERV1
(1)  618/    1E07 : 05                  	DEC	B
(1)  619/    1E08 : 20 F8               	JR	NZ,INIT_PERV1
(1)  620/    1E0A : C9                  	RET
(1)  621/    1E0B :                     
(1)  622/    1E0B :                     	
(1)  623/    1E0B :                     	
(1)  624/    1E0B :                     	
(1)  625/    1E0B :                     ;NOMBRE: INITPJS
(1)  626/    1E0B :                     ;OBJETIVO: INICIALIZA A LOS PJS.
(1)  627/    1E0B :                     
(1)  628/    1E0B :                     
(1)  629/    1E0B : 06 03               INITPJS:	LD	B,3
(1)  630/    1E0D : AF                  	XOR	A
(1)  631/    1E0E : ED 5B 8B 3E         	LD	DE,(MAPEADO_DAT+STRMAP_XDEF)
(1)  632/    1E12 : 2A 8D 3E            	LD	HL,(MAPEADO_DAT+STRMAP_YDEF)
(1)  633/    1E15 :                     
(1)  634/    1E15 :                     
(1)  635/    1E15 : F5                  INITPJS1	PUSH	AF
(1)  636/    1E16 : C5                  	PUSH	BC
(1)  637/    1E17 : D5                  	PUSH	DE
(1)  638/    1E18 : E5                  	PUSH	HL
(1)  639/    1E19 :                     
(1)  640/    1E19 : 4D                  	LD	C,L
(1)  641/    1E1A : 44                  	LD	B,H
(1)  642/    1E1B : 2E 00               	LD	L,0
(1)  643/    1E1D : 67                  	LD	H,A
(1)  644/    1E1E :                     
(1)  645/    1E1E : CD 9B 22            	CALL	INITPERSO
(1)  646/    1E21 : E1                  	POP	HL
(1)  647/    1E22 : D1                  	POP	DE
(1)  648/    1E23 :                     
(1)  649/    1E23 : 3A 8D 14            	LD	A,(MODO_GAME)
(1)  650/    1E26 : FE 00               	CP	INTERIOR
(1)  651/    1E28 : 28 06               	JR	Z,INITPJS2
(1)  652/    1E2A : 01 20 00            	LD	BC,32
(1)  653/    1E2D : EB                  	EX	DE,HL
(1)  654/    1E2E : 09                  	ADD	HL,BC
(1)  655/    1E2F : EB                  	EX	DE,HL
(1)  656/    1E30 :                     
(1)  657/    1E30 : C1                  INITPJS2	POP	BC
(1)  658/    1E31 : F1                  	POP	AF
 AS V1.42 Beta [Bld 28] - source file game.asm(pers.asm) - page 87 - 8/12/2011 20:51:50


(1)  659/    1E32 : 3C                  	INC	A
(1)  660/    1E33 :                     
(1)  661/    1E33 : 10 E0               	DJNZ	INITPJS1
(1)  662/    1E35 : C9                  	RET
(1)  663/    1E36 :                     
(1)  664/    1E36 :                     
(1)  665/    1E36 :                     ;NOMBRE: MOVPJS
(1)  666/    1E36 :                     ;OBJETIVO: REALIZAR EL MOVIMIENTO DE LOS PJS
(1)  667/    1E36 :                     ;ENTRADA: B -> INDICA DIRECCION DEL PRIMERO (PARA NO MOVER EN DICHO CASO)
(1)  668/    1E36 :                     ;
(1)  669/    1E36 :                     
(1)  670/    1E36 : CB 78               MOVPJS:	BIT	7,B
(1)  671/    1E38 : 28 11               	JR	Z,MOVPJSS
(1)  672/    1E3A :                     
(1)  673/    1E3A : 06 00               	LD	B,0
(1)  674/    1E3C : 78                  MOVPJSN:	LD	A,B
(1)  675/    1E3D : 1E 80               	LD	E,80h
(1)  676/    1E3F : C5                  	PUSH	BC
(1)  677/    1E40 : CD 78 1F            	CALL	MOVPERSO
(1)  678/    1E43 : C1                  	POP	BC
(1)  679/    1E44 : 04                  	INC	B
(1)  680/    1E45 : 3E 03               	LD	A,MAXNUMPJS
(1)  681/    1E47 : B8                  	CP	B
(1)  682/    1E48 : 20 F2               	JR	NZ,MOVPJSN
(1)  683/    1E4A : C9                  	RET
(1)  684/    1E4B :                     
(1)  685/    1E4B : 3A A2 1E            MOVPJSS	LD	A,(MOVPJSPTR)
(1)  686/    1E4E : 16 00               	LD	D,00H
(1)  687/    1E50 : 5F                  	LD	E,A
(1)  688/    1E51 : 21 82 1E            	LD	HL,MOVPJSWAY
(1)  689/    1E54 : 19                  	ADD	HL,DE
(1)  690/    1E55 : 70                  	LD	(HL),B
(1)  691/    1E56 : 06 00               	LD	B,0
(1)  692/    1E58 : C5                  MOVPJSS1	PUSH	BC
(1)  693/    1E59 : D5                  	PUSH	DE
(1)  694/    1E5A : 5E                  	LD	E,(HL)
(1)  695/    1E5B : 78                  	LD	A,B
(1)  696/    1E5C : CD 78 1F            	CALL	MOVPERSO
(1)  697/    1E5F :                     
(1)  698/    1E5F : D1                  	POP	DE
(1)  699/    1E60 : 7B                  	LD	A,E
(1)  700/    1E61 : D6 02               	SUB	RETARDOPJS
(1)  701/    1E63 : E6 1F               	AND	TAM_FIFO-1
(1)  702/    1E65 : 5F                  	LD	E,A
(1)  703/    1E66 : 16 00               	LD	D,0
(1)  704/    1E68 : 21 82 1E            	LD	HL,MOVPJSWAY
(1)  705/    1E6B : 19                  	ADD	HL,DE
(1)  706/    1E6C : C1                  	POP	BC
(1)  707/    1E6D : 04                  	INC	B
(1)  708/    1E6E : 3E 03               	LD	A,MAXNUMPJS
(1)  709/    1E70 : B8                  	CP	B
(1)  710/    1E71 : 20 E5               	JR	NZ,MOVPJSS1
(1)  711/    1E73 :                     
(1)  712/    1E73 : 3A 4F 0A            	LD	A,(SWAP_CONT)
(1)  713/    1E76 : B7                  	OR	A
(1)  714/    1E77 : C0                  	RET	NZ
(1)  715/    1E78 :                     
(1)  716/    1E78 : 3A A2 1E            	LD	A,(MOVPJSPTR)
(1)  717/    1E7B : 3C                  	INC	A
(1)  718/    1E7C : E6 1F               	AND	TAM_FIFO-1
 AS V1.42 Beta [Bld 28] - source file game.asm(pers.asm) - page 88 - 8/12/2011 20:51:50


(1)  719/    1E7E : 32 A2 1E            	LD	(MOVPJSPTR),A
(1)  720/    1E81 : C9                  	RET
(1)  721/    1E82 :                     
(1)  722/    1E82 :                     
(1)  723/    1E82 :                     MOVPJSWAY	DS	TAM_FIFO
(1)  724/    1EA2 : 00                  MOVPJSPTR	DB	0		
(1)  725/    1EA3 :                     	
(1)  726/    1EA3 :                     	
(1)  727/    1EA3 :                     		
(1)  728/    1EA3 :                     	
(1)  729/    1EA3 :                     ;NOMBRE:   INIT_INDEXPER
(1)  730/    1EA3 :                     ;OBJETIVO: INICIALIZA EL VECTOR DE INDIZAMIENTO DE UNA CIUDAD
(1)  731/    1EA3 :                     ;ENTRADA:  L -> NUMERO DE CIUDAD
(1)  732/    1EA3 :                     ;                  SI L ES IGUAL A 0 SE REFIERE AL MAPA DE EXTERIORES
(1)  733/    1EA3 :                     ;MODIFICA: B,HL,DE,IX
(1)  734/    1EA3 :                     ;          ACTUALIZA EL VALOR DE PTR_PERSO
(1)  735/    1EA3 :                     
(1)  736/    1EA3 :                     
(1)  737/    1EA3 : 45                  INIT_INDEXPER:	LD	B,L
(1)  738/    1EA4 : 26 00               	LD	H,0
(1)  739/    1EA6 : 11 DD 49            	LD	DE,STRPER_VECMAP
(1)  740/    1EA9 : AF                  	XOR	A
(1)  741/    1EAA : B0                  	OR	B
(1)  742/    1EAB : 28 0C               	JR	Z,INIT_INDP1
(1)  743/    1EAD :                     
(1)  744/    1EAD : 2D                  	DEC	L
(1)  745/    1EAE : 11 76 02            	LD	DE,STRUCTPERSO*MAXPERSOC
(1)  746/    1EB1 : CD 88 12            	CALL	MULTHLDE
(1)  747/    1EB4 : 11 53 4C            	LD	DE,STRPER_VECCIT
(1)  748/    1EB7 : 19                  	ADD	HL,DE
(1)  749/    1EB8 : EB                  	EX	DE,HL
(1)  750/    1EB9 :                     
(1)  751/    1EB9 : EB                  INIT_INDP1	EX	DE,HL
(1)  752/    1EBA : 22 8B 14            	LD	(PTR_PERSO),HL
(1)  753/    1EBD : 11 15 00            	LD	DE,STRUCTPERSO
(1)  754/    1EC0 : DD 21 2B 48         	LD	IX,INDEXPERSO
(1)  755/    1EC4 : 06 1E               	LD	B,MAXPERSOM
(1)  756/    1EC6 :                     
(1)  757/    1EC6 : DD 75 00            INIT_INDP3	LD	(IX),L
(1)  758/    1EC9 : DD 74 01            	LD	(IX+1),H
(1)  759/    1ECC : DD 23               	INC	IX
(1)  760/    1ECE : DD 23               	INC	IX
(1)  761/    1ED0 : 19                  	ADD	HL,DE
(1)  762/    1ED1 : 10 F3               	DJNZ	INIT_INDP3
(1)  763/    1ED3 : C9                  	RET
(1)  764/    1ED4 :                     
(1)  765/    1ED4 :                     
(1)  766/    1ED4 :                     
(1)  767/    1ED4 :                     
(1)  768/    1ED4 :                     
(1)  769/    1ED4 :                     	
(1)  770/    1ED4 :                     
(1)  771/    1ED4 :                     ;NOMBRE: DO_WAY_PER
(1)  772/    1ED4 :                     ;OBJETIVO: CALCULAR EL CAMINO DEL PESONAJE Y CONSEGUIR QUE ESTE LO SIGA.
(1)  773/    1ED4 :                     ;ENTRADA: C -> NUMERO DE PERSONAJE
(1)  774/    1ED4 :                     
(1)  775/    1ED4 :                     
(1)  776/    1ED4 :                     
(1)  777/    1ED4 : 3E 01               DO_WAY_PER:	LD	A,1
(1)  778/    1ED6 : 06 00               	LD	B,0
 AS V1.42 Beta [Bld 28] - source file game.asm(pers.asm) - page 89 - 8/12/2011 20:51:50


(1)  779/    1ED8 : CD 2F 07            	CALL	MOVE_EXT
(1)  780/    1EDB :                     
(1)  781/    1EDB : 3E 40               	LD	A,SPC_KEY
(1)  782/    1EDD : CD 8A 2C            	CALL	TEST_FUNC
(1)  783/    1EE0 : B7                  	OR	A
(1)  784/    1EE1 : 28 F1               	JR	Z,DO_WAY_PER
(1)  785/    1EE3 :                     
(1)  786/    1EE3 : 3A 39 05            	LD	A,(MAKE_PJPER)
(1)  787/    1EE6 : 47                  	LD	B,A
(1)  788/    1EE7 : 07                  	RLCA
(1)  789/    1EE8 :                     
(1)  790/    1EE8 : 21 2B 48            	LD	HL,INDEXPERSO
(1)  791/    1EEB : 5F                  	LD	E,A
(1)  792/    1EEC : 16 00               	LD	D,0
(1)  793/    1EEE : 19                  	ADD	HL,DE
(1)  794/    1EEF : 5E                  	LD	E,(HL)
(1)  795/    1EF0 : 23                  	INC	HL
(1)  796/    1EF1 : 56                  	LD	D,(HL)
(1)  797/    1EF2 : D5                  	PUSH	DE
(1)  798/    1EF3 : D5                  	PUSH	DE
(1)  799/    1EF4 : DD E1               	POP	IX
(1)  800/    1EF6 :                     
(1)  801/    1EF6 : 78                  	LD	A,B
(1)  802/    1EF7 : 06 00               	LD	B,0
(1)  803/    1EF9 : DD 6E 02            	LD	L,(IX+STRPER_X)
(1)  804/    1EFC : DD 66 03            	LD	H,(IX+STRPER_X+1)
(1)  805/    1EFF : DD 5E 00            	LD	E,(IX+STRPER_Y)
(1)  806/    1F02 : DD 56 01            	LD	D,(IX+STRPER_Y+1)
(1)  807/    1F05 : 0E 00               	LD	C,CEN_TOTAL
(1)  808/    1F07 : CD 42 0D            	CALL	SET_XY
(1)  809/    1F0A :                     
(1)  810/    1F0A : DD E1               	POP	IX
(1)  811/    1F0C : 2A 8D 08            	LD	HL,(PUT_XPERA+STRPER_Y)
(1)  812/    1F0F : ED 5B 8F 08         	LD	DE,(PUT_XPERA+STRPER_X)
(1)  813/    1F13 :                     	;; CALL	A_ESTRELLA	
(1)  814/    1F13 : FE FF               	CP	-1
(1)  815/    1F15 : C8                  	RET	Z
(1)  816/    1F16 :                     
(1)  817/    1F16 : 11 47 2C            	LD	DE,HANDLE_DEF
(1)  818/    1F19 : 3E 01               	LD	A,GET_DIR_BUFF
(1)  819/    1F1B : CD 48 2C            	CALL	ADD_EXCP
(1)  820/    1F1E :                     
(1)  821/    1F1E : 3A 39 05            	LD	A,(MAKE_PJPER)
(1)  822/    1F21 : 4F                  	LD	C,A
(1)  823/    1F22 : AF                  	XOR	A
(1)  824/    1F23 : 47                  	LD	B,A
(1)  825/    1F24 : CD 2F 07            	CALL	MOVE_EXT
(1)  826/    1F27 :                     
(1)  827/    1F27 : 3E 00               	LD	A,GET_DIR_KEY
(1)  828/    1F29 : 32 15 2C            	LD	(MODO_GET_DIR),A
(1)  829/    1F2C :                     
(1)  830/    1F2C : 3E 32               	LD	A,50
(1)  831/    1F2E : 32 56 2B            	LD	(TIME_),A
(1)  832/    1F31 : 3A 56 2B            DO_WAY_P1	LD	A,(TIME_)
(1)  833/    1F34 : B7                  	OR	A
(1)  834/    1F35 : 20 FA               	JR	NZ,DO_WAY_P1
(1)  835/    1F37 :                     
(1)  836/    1F37 : 3E 03               	LD	A,TIMEFADE
(1)  837/    1F39 : 32 9D 14            	LD	(FADE_V),A
(1)  838/    1F3C : CD 96 38            	CALL	FADE_OFF
 AS V1.42 Beta [Bld 28] - source file game.asm(pers.asm) - page 90 - 8/12/2011 20:51:50


(1)  839/    1F3F :                     
(1)  840/    1F3F : CD 74 2C            	CALL	UP_EXCP
(1)  841/    1F42 : C9                  	RET
(1)  842/    1F43 :                     
(1)  843/    1F43 :                     
(1)  844/    1F43 :                     
(1)  845/    1F43 :                     
(1)  846/    1F43 :                     
(1)  847/    1F43 :                     ;NOMBRE: VIEW_PERSO
(1)  848/    1F43 :                     ;OBJETIVO: DETERMINAR QUE PERSONAJES SE VEN Y CUALES NO, Y EN CASO DE  VERSE
(1)  849/    1F43 :                     ;          CALCULAR LAS COORDENADAS RELATIVAS
(1)  850/    1F43 :                     
(1)  851/    1F43 :                     
(1)  852/    1F43 :                     
(1)  853/    1F43 : 3A 8D 14            VIEW_PERSO:	LD	A,(MODO_GAME)
(1)  854/    1F46 : 06 1E               	LD	B,MAXPERSOM
(1)  855/    1F48 : FE 01               	CP	EXTERIOR
(1)  856/    1F4A : 20 02               	JR	NZ,VIEW_P1
(1)  857/    1F4C : 06 1E               	LD	B,MAXPERSOC
(1)  858/    1F4E :                     
(1)  859/    1F4E : 21 2B 48            VIEW_P1	LD	HL,INDEXPERSO
(1)  860/    1F51 : 5E                  	LD	E,(HL)
(1)  861/    1F52 : 23                  	INC	HL
(1)  862/    1F53 : 56                  	LD	D,(HL)
(1)  863/    1F54 : D5                  	PUSH	DE
(1)  864/    1F55 : DD E1               	POP	IX
(1)  865/    1F57 :                     
(1)  866/    1F57 : 11 15 00            	LD	DE,STRUCTPERSO
(1)  867/    1F5A : DD 7E 12            VIEW_P2	LD	A,(IX+STRPER_OCUP)
(1)  868/    1F5D : B7                  	OR	A
(1)  869/    1F5E : 28 13               	JR	Z,VIEW_P3
(1)  870/    1F60 :                     
(1)  871/    1F60 : D5                  	PUSH	DE
(1)  872/    1F61 : C5                  	PUSH	BC
(1)  873/    1F62 : DD E5               	PUSH	IX
(1)  874/    1F64 : CD E2 21            	CALL	MOVPVIS
(1)  875/    1F67 : DD E1               	POP	IX
(1)  876/    1F69 : C1                  	POP	BC
(1)  877/    1F6A : D1                  	POP	DE
(1)  878/    1F6B :                     
(1)  879/    1F6B : DD 7E 13            	LD	A,(IX+STRPER_DIR)
(1)  880/    1F6E : CB FF               	SET	7,A
(1)  881/    1F70 : DD 77 13            	LD	(IX+STRPER_DIR),A
(1)  882/    1F73 : DD 19               VIEW_P3	ADD	IX,DE
(1)  883/    1F75 : 10 E3               	DJNZ	VIEW_P2
(1)  884/    1F77 : C9                  	RET
(1)  885/    1F78 :                     
(1)  886/    1F78 :                     
(1)  887/    1F78 :                     
(1)  888/    1F78 :                     ;NOMBRE: MOVEPERSO
(1)  889/    1F78 :                     ;OBJETIVO: MOVER UN PERSONAJE POR EL MAPEADO, INCLUYENDO LA DETECCION DE CHOQUES
(1)  890/    1F78 :                     ;          CONTRA MUROS U OTROS PERSONAJES, ADEMAS DE LA VISUALIZACION EN
(1)  891/    1F78 :                     ;          CASO DE SER NECESARIO.
(1)  892/    1F78 :                     ;ENTRADA: E -> DIRECCION
(1)  893/    1F78 :                     ;         A -> NUMERO DE PERSONAJE
(1)  894/    1F78 :                     ;         B -> SERA 0 SI EL PERSONAJE DIRIGUE EL SCROLL Y OTRO VALOR EN
(1)  895/    1F78 :                     ;              CASO CONTRARIO.
(1)  896/    1F78 :                     ;MODIFUCA: AF,BC,DE,HL,IX,AF',HL'
(1)  897/    1F78 :                     
(1)  898/    1F78 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(pers.asm) - page 91 - 8/12/2011 20:51:50


(1)  899/    1F78 :                     MOVPERSO:	
(1)  900/    1F78 : 32 33 20            	LD	(MOVPPERSO),A
(1)  901/    1F7B : 07                  	RLCA	
(1)  902/    1F7C : 4F                  	LD	C,A
(1)  903/    1F7D :                     
(1)  904/    1F7D : AF                  	XOR	A
(1)  905/    1F7E : 32 32 20            	LD	(MOVPRETURN),A
(1)  906/    1F81 : 78                  	LD	A,B
(1)  907/    1F82 : 32 31 20            	LD	(MOVPSCROLL),A
(1)  908/    1F85 :                     
(1)  909/    1F85 : 06 00               	LD	B,0
(1)  910/    1F87 : 21 2B 48            	LD	HL,INDEXPERSO
(1)  911/    1F8A : 09                  	ADD	HL,BC
(1)  912/    1F8B : 4E                  	LD	C,(HL)
(1)  913/    1F8C : 23                  	INC	HL
(1)  914/    1F8D : 46                  	LD	B,(HL)
(1)  915/    1F8E : C5                  	PUSH	BC
(1)  916/    1F8F : DD E1               	POP	IX
(1)  917/    1F91 :                     
(1)  918/    1F91 : 7B                  	LD	A,E
(1)  919/    1F92 : 32 9A 22            	LD	(MOVPDIRE),A
(1)  920/    1F95 : CB FF               	SET	7,A
(1)  921/    1F97 : DD 77 13            	LD	(IX+STRPER_DIR),A
(1)  922/    1F9A : DD 6E 02            	LD	L,(IX+STRPER_X)
(1)  923/    1F9D : DD 66 03            	LD	H,(IX+STRPER_X+1)
(1)  924/    1FA0 : DD 5E 00            	LD	E,(IX+STRPER_Y)
(1)  925/    1FA3 : DD 56 01            	LD	D,(IX+STRPER_Y+1)
(1)  926/    1FA6 : 3A 9A 22            	LD	A,(MOVPDIRE)
(1)  927/    1FA9 : CB 7F               	BIT	7,A
(1)  928/    1FAB : 20 46               	JR	NZ,MOVPERSOF2
(1)  929/    1FAD :                     
(1)  930/    1FAD : CD D0 20            	CALL	MOVPCHK_ACCES
(1)  931/    1FB0 :                     	
(1)  932/    1FB0 : CB 47               	BIT	0,A
(1)  933/    1FB2 : 28 4B               	JR	Z,MPNACCESO
(1)  934/    1FB4 : CB 57               	BIT	2,A
(1)  935/    1FB6 : 28 15               	JR	Z,MPACCESO	
(1)  936/    1FB8 :                     
(1)  937/    1FB8 : 3A 4F 0A            	LD	A,(SWAP_CONT)
(1)  938/    1FBB : B7                  	OR	A
(1)  939/    1FBC : 20 41               	JR	NZ,MPNACCESO
(1)  940/    1FBE :                     
(1)  941/    1FBE : 3A 31 20            	LD	A,(MOVPSCROLL)
(1)  942/    1FC1 : 47                  	LD	B,A
(1)  943/    1FC2 : 3A 33 20            	LD	A,(MOVPPERSO)
(1)  944/    1FC5 : CD C5 0C            	CALL	FOUND_ENLACE
(1)  945/    1FC8 : B7                  	OR	A
(1)  946/    1FC9 : 28 22               	JR	Z,MOVPERSOF1
(1)  947/    1FCB : 18 26               	JR	MOVPERSOF2
(1)  948/    1FCD :                     
(1)  949/    1FCD :                     MPACCESO	
(1)  950/    1FCD : 3A 8D 14            	LD	A,(MODO_GAME)
(1)  951/    1FD0 : FE 01               	CP	EXTERIOR
(1)  952/    1FD2 : 28 0D               	JR	Z,MPACCESO1
(1)  953/    1FD4 : E5                  	PUSH	HL
(1)  954/    1FD5 : D5                  	PUSH	DE
(1)  955/    1FD6 : 3A 33 20            	LD	A,(MOVPPERSO)
(1)  956/    1FD9 : CD 34 20            	CALL	MOVPCHK_COL
(1)  957/    1FDC : D1                  	POP	DE
(1)  958/    1FDD : E1                  	POP	HL
 AS V1.42 Beta [Bld 28] - source file game.asm(pers.asm) - page 92 - 8/12/2011 20:51:50


(1)  959/    1FDE : B7                  	OR	A
(1)  960/    1FDF : 20 12               	JR	NZ,MOVPERSOF2
(1)  961/    1FE1 :                     
(1)  962/    1FE1 :                     MPACCESO1	
(1)  963/    1FE1 : DD 75 02            	LD	(IX+STRPER_X),L
(1)  964/    1FE4 : DD 74 03            	LD	(IX+STRPER_X+1),H
(1)  965/    1FE7 : DD 73 00            	LD	(IX+STRPER_Y),E
(1)  966/    1FEA : DD 72 01            	LD	(IX+STRPER_Y+1),D
(1)  967/    1FED :                     
(1)  968/    1FED :                     MOVPERSOF1:	
(1)  969/    1FED : 3A 9A 22            	LD	A,(MOVPDIRE)
(1)  970/    1FF0 : DD 77 13            	LD	(IX+STRPER_DIR),A
(1)  971/    1FF3 :                     
(1)  972/    1FF3 :                     MOVPERSOF2:	
(1)  973/    1FF3 : 3A 31 20            	LD	A,(MOVPSCROLL)
(1)  974/    1FF6 : B7                  	OR	A
(1)  975/    1FF7 : C0                  	RET	NZ
(1)  976/    1FF8 : CD 21 0E            	CALL	MAKESCROLL
(1)  977/    1FFB : CD 6D 0E            	CALL	DOSCROLL
(1)  978/    1FFE : C9                  	RET
(1)  979/    1FFF :                     
(1)  980/    1FFF :                     
(1)  981/    1FFF :                     MPNACCESO:	
(1)  982/    1FFF : 3A 9A 22            	LD	A,(MOVPDIRE)
(1)  983/    2002 : CB FF               	SET	7,A
(1)  984/    2004 : 32 9A 22            	LD	(MOVPDIRE),A
(1)  985/    2007 : 3E 01               	LD	A,1
(1)  986/    2009 : 32 32 20            	LD	(MOVPRETURN),A
(1)  987/    200C :                     
(1)  988/    200C : 3A 31 20            	LD	A,(MOVPSCROLL)
(1)  989/    200F : B7                  	OR	A
(1)  990/    2010 : C0                  	RET	NZ
(1)  991/    2011 : CD 6D 0E            	CALL	DOSCROLL
(1)  992/    2014 :                     
(1)  993/    2014 : 3A A4 14            	LD	A,(SCROLLST)
(1)  994/    2017 : B7                  	OR	A
(1)  995/    2018 : C8                  	RET	Z
(1)  996/    2019 :                     
(1)  997/    2019 : AF                  	XOR	A
(1)  998/    201A : 32 A4 14            	LD	(SCROLLST),A
(1)  999/    201D : 3C                  	INC	A
(1) 1000/    201E : 32 4F 0A            	LD	(SWAP_CONT),A
(1) 1001/    2021 : 3E 04               	LD	A,INC_MOVS
(1) 1002/    2023 : 32 91 14            	LD	(INC_MOV),A
(1) 1003/    2026 : 3E 02               	LD	A,NUMREPFRAMES
(1) 1004/    2028 : 32 8E 14            	LD	(NUMREPFRAME),A
(1) 1005/    202B : 3E 01               	LD	A,PERIODOS
(1) 1006/    202D : 32 9C 14            	LD	(PERIODO),A
(1) 1007/    2030 : C9                  	RET
(1) 1008/    2031 :                     
(1) 1009/    2031 :                     
(1) 1010/    2031 :                     
(1) 1011/    2031 :                     
(1) 1012/    2031 :                     
(1) 1013/    2031 : 00                  MOVPSCROLL:	DB	0
(1) 1014/    2032 : 00                  MOVPRETURN:	DB	0
(1) 1015/    2033 : 00                  MOVPPERSO:	DB	0
(1) 1016/    2034 :                     
(1) 1017/    2034 :                     
(1) 1018/    2034 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(pers.asm) - page 93 - 8/12/2011 20:51:50


(1) 1019/    2034 :                     
(1) 1020/    2034 :                     ;NOMBRE: MOVPCHK_COL
(1) 1021/    2034 :                     ;OBJETIVO: COMPROBAR SI EXISTE COLISION CON EL PERSONAJE
(1) 1022/    2034 :                     ;ENTRADA: HL -> COORDENADA X
(1) 1023/    2034 :                     ;         DE -> COORDENADA Y
(1) 1024/    2034 :                     ;         A  -> DEBERIA SER EL NUMERO DE PERSONAJE
(1) 1025/    2034 :                     ;         IX -> PUNTERO AL PERSONAJE
(1) 1026/    2034 :                     ;SALIDA: A -> INDICA SI HAY COLISION
(1) 1027/    2034 :                     ;        C -> INDICA EL NUMERO DE PERSONAJE CON EL QUE SE HA COLISIONADO
(1) 1028/    2034 :                     ;             EN CASO DE QUE A == 1
(1) 1029/    2034 :                     
(1) 1030/    2034 :                     ;**************************************************************************
(1) 1031/    2034 :                     ;**************************************************************************
(1) 1032/    2034 :                     ;**************************************************************************
(1) 1033/    2034 :                     
(1) 1034/    2034 : 22 96 22            MOVPCHK_COL:	LD	(MOVPVISX),HL	;COMPROBAR ESTA FUNCION MEDIANTE
(1) 1035/    2037 : ED 53 98 22         	LD	(MOVPVISY),DE	;UN DEBUGGER
(1) 1036/    203B : 21 2B 48            	LD	HL,INDEXPERSO
(1) 1037/    203E : 32 CF 20            	LD	(MOVPCHK_COLA),A	;CREO QUE ESTE VALOR NO SE VUELVE A USAR
(1) 1038/    2041 :                     
(1) 1039/    2041 : 01 00 00            	LD	BC,0
(1) 1040/    2044 : 16 00               	LD	D,0
(1) 1041/    2046 : 1E 00               	LD	E,0
(1) 1042/    2048 : FE 03               	CP	MAXNUMPJS	;SI ES UN PJ NO COMPROBAR
(1) 1043/    204A : 30 07               	JR	NC,MOVPCHKCP1	;COLISION CON OTROS PJS
(1) 1044/    204C : 01 06 00            	LD	BC,2*MAXNUMPJS	;ESTO SOLO DEBE HACERSE EN INTERIOR
(1) 1045/    204F : 16 03               	LD	D,MAXNUMPJS
(1) 1046/    2051 : 1E 02               	LD	E,MAXNUMPJS-1
(1) 1047/    2053 :                     
(1) 1048/    2053 :                     MOVPCHKCP1	
(1) 1049/    2053 : D5                  	PUSH	DE
(1) 1050/    2054 : 09                  	ADD	HL,BC
(1) 1051/    2055 : 5E                  	LD	E,(HL)
(1) 1052/    2056 : 23                  	INC	HL
(1) 1053/    2057 : 56                  	LD	D,(HL)
(1) 1054/    2058 : D5                  	PUSH	DE
(1) 1055/    2059 : FD E1                       POP	IY
(1) 1056/    205B :                     
(1) 1057/    205B : 01 15 00            	LD	BC,STRUCTPERSO
(1) 1058/    205E : D9                  	EXX
(1) 1059/    205F : 3A 8D 14            	LD	A,(MODO_GAME)
(1) 1060/    2062 : 06 1E               	LD	B,MAXPERSOC
(1) 1061/    2064 : FE 00               	CP	INTERIOR
(1) 1062/    2066 : 28 02               	JR	Z,MOVPCHKCP2
(1) 1063/    2068 : 06 1E               	LD	B,MAXPERSOM
(1) 1064/    206A :                     
(1) 1065/    206A :                     MOVPCHKCP2	
(1) 1066/    206A : 78                  	LD	A,B
(1) 1067/    206B : D1                  	POP	DE
(1) 1068/    206C : 92                  	SUB	D	;EN D TENGO EL VALOR QUE DEPENDE
(1) 1069/    206D : 47                  	LD	B,A	;DE QUE EL PERSONAJE SEA PJ
(1) 1070/    206E :                     
(1) 1071/    206E : 4B                  	LD	C,E	;POR LO QUE EN B TENGO EL NUMERO DE ITERACION
(1) 1072/    206F :                     ;                                        ;Y EN C EL NUMERO DE PERSONAJE CON
(1) 1073/    206F :                     ;                                        ;EL QUE COMPRUEBO COLISION
(1) 1074/    206F :                     MOVPCHKC1:	
(1) 1075/    206F : DD E5                     PUSH IX
(1) 1076/    2071 : D1                        POP DE
(1) 1077/    2072 :                     MOVPCHK_COLB	
(1) 1078/    2072 : FD E5               	PUSH	IY
 AS V1.42 Beta [Bld 28] - source file game.asm(pers.asm) - page 94 - 8/12/2011 20:51:50


(1) 1079/    2074 : E1                  	POP	HL
(1) 1080/    2075 : AF                  	XOR	A
(1) 1081/    2076 : ED 52               	SBC	HL,DE
(1) 1082/    2078 : 28 4C               	JR	Z,MOVPCCOL_NC
(1) 1083/    207A : FD 7E 12            	LD	A,(IY+STRPER_OCUP)
(1) 1084/    207D : B7                  	OR	A
(1) 1085/    207E : 28 46               	JR	Z,MOVPCCOL_NC
(1) 1086/    2080 :                     
(1) 1087/    2080 : D9                  	EXX
(1) 1088/    2081 : ED 5B 96 22         	LD	DE,(MOVPVISX)
(1) 1089/    2085 : FD 6E 02            	LD	L,(IY+STRPER_X)
(1) 1090/    2088 : FD 66 03            	LD	H,(IY+STRPER_X+1)
(1) 1091/    208B : AF                  	XOR	A
(1) 1092/    208C : ED 52               	SBC	HL,DE
(1) 1093/    208E : 28 12               	JR	Z,MOVPCOL_Y
(1) 1094/    2090 : 30 07               	JR	NC,MOVPCOL_XP
(1) 1095/    2092 :                     
(1) 1096/    2092 : 7D                  	LD	A,L
(1) 1097/    2093 : 2F                  	CPL
(1) 1098/    2094 : 6F                  	LD	L,A
(1) 1099/    2095 : 7C                  	LD	A,H
(1) 1100/    2096 : 2F                  	CPL
(1) 1101/    2097 : 67                  	LD	H,A
(1) 1102/    2098 : 23                  	INC	HL
(1) 1103/    2099 : ED 5B E8 13         MOVPCOL_XP	LD	DE,(ANCHOPIXPER)
(1) 1104/    209D : AF                  	XOR	A
(1) 1105/    209E : ED 52               	SBC	HL,DE
(1) 1106/    20A0 : 30 25               	JR	NC,MOVPCOL_NC1
(1) 1107/    20A2 :                     
(1) 1108/    20A2 : ED 5B 98 22         MOVPCOL_Y:	LD	DE,(MOVPVISY)
(1) 1109/    20A6 : FD 6E 00            	LD	L,(IY+STRPER_Y)
(1) 1110/    20A9 : FD 66 01            	LD	H,(IY+STRPER_Y+1)
(1) 1111/    20AC : AF                  	XOR	A
(1) 1112/    20AD : ED 52               	SBC	HL,DE
(1) 1113/    20AF : 28 11               	JR	Z,MOVPCOL_CD
(1) 1114/    20B1 : 30 07               	JR	NC,MOVPCOL_YP
(1) 1115/    20B3 :                     
(1) 1116/    20B3 : 7D                  	LD	A,L
(1) 1117/    20B4 : 2F                  	CPL
(1) 1118/    20B5 : 6F                  	LD	L,A
(1) 1119/    20B6 : 7C                  	LD	A,H
(1) 1120/    20B7 : 2F                  	CPL
(1) 1121/    20B8 : 67                  	LD	H,A
(1) 1122/    20B9 : 23                  	INC	HL
(1) 1123/    20BA :                     
(1) 1124/    20BA : 11 08 00            MOVPCOL_YP	LD	DE,8
(1) 1125/    20BD : AF                  	XOR	A
(1) 1126/    20BE : ED 52               	SBC	HL,DE
(1) 1127/    20C0 : 30 05               	JR	NC,MOVPCOL_NC1
(1) 1128/    20C2 :                     
(1) 1129/    20C2 : D9                  MOVPCOL_CD	EXX
(1) 1130/    20C3 : 3E 01               	LD	A,1
(1) 1131/    20C5 : C9                  	RET
(1) 1132/    20C6 :                     
(1) 1133/    20C6 :                     
(1) 1134/    20C6 : D9                  MOVPCCOL_NC	EXX
(1) 1135/    20C7 : FD 09               MOVPCOL_NC1	ADD	IY,BC
(1) 1136/    20C9 : D9                  	EXX
(1) 1137/    20CA : 0C                  	INC	C
(1) 1138/    20CB : 10 A5               	DJNZ	MOVPCHK_COLB
 AS V1.42 Beta [Bld 28] - source file game.asm(pers.asm) - page 95 - 8/12/2011 20:51:50


(1) 1139/    20CD :                     
(1) 1140/    20CD : AF                  	XOR	A
(1) 1141/    20CE : C9                  	RET
(1) 1142/    20CF :                     
(1) 1143/    20CF : 00                  MOVPCHK_COLA:	DB	0
(1) 1144/    20D0 :                     
(1) 1145/    20D0 :                     
(1) 1146/    20D0 :                     
(1) 1147/    20D0 :                     ;NOMBRE: MOVPCHK_ACCES
(1) 1148/    20D0 :                     ;OBJETIVO: VERIFICA SI UN PERSONAJE TIENE ACCESO A UNA CASILLA
(1) 1149/    20D0 :                     ;          DETERMINADA.
(1) 1150/    20D0 :                     ;ENTRADA:  HL -> COORDENADA X INICIAL
(1) 1151/    20D0 :                     ;          DE -> COORDENADA Y INICIAL
(1) 1152/    20D0 :                     ;          (MOVPDIRE) -> DIRECCION DEL MOVIMIENTO
(1) 1153/    20D0 :                     ;          IX  -> PUNTERO AL PERSONAJE
(1) 1154/    20D0 :                     ;SALIDA: A -> CARACTERISTICA DE LA CASILLA DESTINO
(1) 1155/    20D0 :                     ;        HL -> COORDENADA X FINAL
(1) 1156/    20D0 :                     ;        DE -> COORDENADA Y FINAL
(1) 1157/    20D0 :                     
(1) 1158/    20D0 :                     
(1) 1159/    20D0 :                     
(1) 1160/    20D0 : ED 4B 83 14         MOVPCHK_ACCES:	LD	BC,(PROF_PERSO)
(1) 1161/    20D4 : ED 43 DE 21         	LD	(MOVPCHK_PROF),BC
(1) 1162/    20D8 : 3A 9A 22            	LD	A,(MOVPDIRE)
(1) 1163/    20DB :                     
(1) 1164/    20DB : 22 96 22            	LD	(MOVPVISX),HL
(1) 1165/    20DE : ED 53 98 22         	LD	(MOVPVISY),DE
(1) 1166/    20E2 :                     
(1) 1167/    20E2 : CB 7F               	BIT	7,A
(1) 1168/    20E4 : 20 7A               	JR	NZ,MOVPCHKACC2
(1) 1169/    20E6 :                     
(1) 1170/    20E6 :                     
(1) 1171/    20E6 : FE 04               	CP	ABA_DER
(1) 1172/    20E8 : 20 0A               	JR	NZ,MOVPCHKABI
(1) 1173/    20EA : ED 4B 91 14         	LD	BC,(INC_MOV)
(1) 1174/    20EE : EB                  	EX	DE,HL
(1) 1175/    20EF : 09                  	ADD	HL,BC
(1) 1176/    20F0 : EB                  	EX	DE,HL
(1) 1177/    20F1 : 09                  	ADD	HL,BC
(1) 1178/    20F2 : 18 6C               	JR	MOVPCHKACC2
(1) 1179/    20F4 :                     
(1) 1180/    20F4 : FE 05               MOVPCHKABI	CP	ABA_IZQ
(1) 1181/    20F6 : 20 0C               	JR	NZ,MOVPCHKARD
(1) 1182/    20F8 : ED 4B 91 14         	LD	BC,(INC_MOV)
(1) 1183/    20FC : EB                  	EX	DE,HL
(1) 1184/    20FD : 09                  	ADD	HL,BC
(1) 1185/    20FE : EB                  	EX	DE,HL
(1) 1186/    20FF : B7                  	OR	A
(1) 1187/    2100 : ED 42               	SBC	HL,BC
(1) 1188/    2102 : 18 5C               	JR	MOVPCHKACC2
(1) 1189/    2104 :                     
(1) 1190/    2104 : FE 06               MOVPCHKARD	CP	ARR_DER
(1) 1191/    2106 : 20 0C               	JR	NZ,MOVPCHKARI
(1) 1192/    2108 : ED 4B 91 14         	LD	BC,(INC_MOV)
(1) 1193/    210C : EB                  	EX	DE,HL
(1) 1194/    210D : B7                  	OR	A
(1) 1195/    210E : ED 42               	SBC	HL,BC
(1) 1196/    2110 : EB                  	EX	DE,HL
(1) 1197/    2111 : 09                  	ADD	HL,BC
(1) 1198/    2112 : 18 4C               	JR	MOVPCHKACC2
 AS V1.42 Beta [Bld 28] - source file game.asm(pers.asm) - page 96 - 8/12/2011 20:51:50


(1) 1199/    2114 :                     
(1) 1200/    2114 :                     
(1) 1201/    2114 : FE 07               MOVPCHKARI	CP	ARR_IZQ
(1) 1202/    2116 : 20 0E               	JR	NZ,MOVPCHKAI
(1) 1203/    2118 : ED 4B 91 14         	LD	BC,(INC_MOV)
(1) 1204/    211C : EB                  	EX	DE,HL
(1) 1205/    211D : B7                  	OR	A
(1) 1206/    211E : ED 42               	SBC	HL,BC
(1) 1207/    2120 : EB                  	EX	DE,HL
(1) 1208/    2121 : B7                  	OR	A
(1) 1209/    2122 : ED 42               	SBC	HL,BC
(1) 1210/    2124 : 18 3A               	JR	MOVPCHKACC2
(1) 1211/    2126 :                     
(1) 1212/    2126 :                     
(1) 1213/    2126 : FE 01               MOVPCHKAI	CP	IZQUIERDA
(1) 1214/    2128 : 20 09               	JR	NZ,MOVPCHKAD
(1) 1215/    212A : ED 4B 91 14         	LD	BC,(INC_MOV)
(1) 1216/    212E : B7                  	OR	A
(1) 1217/    212F : ED 42               	SBC	HL,BC
(1) 1218/    2131 : 18 2D               	JR	MOVPCHKACC2
(1) 1219/    2133 :                     
(1) 1220/    2133 : FE 00               MOVPCHKAD	CP	DERECHA
(1) 1221/    2135 : 20 07               	JR	NZ,MOVPCHKAR
(1) 1222/    2137 : ED 4B 91 14         	LD	BC,(INC_MOV)
(1) 1223/    213B : 09                  	ADD	HL,BC
(1) 1224/    213C : 18 22               	JR	MOVPCHKACC2
(1) 1225/    213E :                     
(1) 1226/    213E : FE 02               MOVPCHKAR	CP	ARRIBA
(1) 1227/    2140 : 20 13               	JR	NZ,MOVPCHKAB
(1) 1228/    2142 : ED 4B 91 14         	LD	BC,(INC_MOV)
(1) 1229/    2146 : EB                  	EX	DE,HL
(1) 1230/    2147 : B7                  	OR	A
(1) 1231/    2148 : ED 42               	SBC	HL,BC
(1) 1232/    214A : EB                  	EX	DE,HL
(1) 1233/    214B : ED 4B 85 14         	LD	BC,(PROF_PERSOAR)
(1) 1234/    214F : ED 43 DE 21         	LD	(MOVPCHK_PROF),BC
(1) 1235/    2153 : 18 0B               	JR	MOVPCHKACC2
(1) 1236/    2155 :                     
(1) 1237/    2155 : FE 03               MOVPCHKAB	CP	ABAJO
(1) 1238/    2157 : 20 07               	JR	NZ,MOVPCHKACC2
(1) 1239/    2159 : ED 4B 91 14         	LD	BC,(INC_MOV)
(1) 1240/    215D : EB                  	EX	DE,HL
(1) 1241/    215E : 09                  	ADD	HL,BC
(1) 1242/    215F : EB                  	EX	DE,HL
(1) 1243/    2160 :                     
(1) 1244/    2160 : E5                  MOVPCHKACC2	PUSH	HL
(1) 1245/    2161 : D5                  	PUSH	DE
(1) 1246/    2162 : EB                  	EX	DE,HL
(1) 1247/    2163 : ED 4B DE 21         	LD	BC,(MOVPCHK_PROF)
(1) 1248/    2167 : 09                  	ADD	HL,BC
(1) 1249/    2168 : EB                  	EX	DE,HL
(1) 1250/    2169 :                     
(1) 1251/    2169 : 06 03               	LD	B,3
(1) 1252/    216B : CB 3A               MOVPCHKACC3	SRL	D
(1) 1253/    216D : CB 1B               	RR	E
(1) 1254/    216F : 10 FA               	DJNZ	MOVPCHKACC3
(1) 1255/    2171 :                     
(1) 1256/    2171 : 3A 8D 14            	LD	A,(MODO_GAME)
(1) 1257/    2174 : FE 00               	CP	INTERIOR
(1) 1258/    2176 : 28 0E               	JR	Z,MOVPCHKACC31
 AS V1.42 Beta [Bld 28] - source file game.asm(pers.asm) - page 97 - 8/12/2011 20:51:50


(1) 1259/    2178 : 3E FE               	LD	A,0FEh
(1) 1260/    217A : A3                  	AND	E
(1) 1261/    217B : 5F                  	LD	E,A
(1) 1262/    217C : 3A 90 14            	LD	A,(ALTOPATPER)
(1) 1263/    217F : 3C                  	INC	A
(1) 1264/    2180 : 4F                  	LD	C,A
(1) 1265/    2181 : 06 00               	LD	B,0
(1) 1266/    2183 : EB                  	EX	DE,HL
(1) 1267/    2184 : 09                  	ADD	HL,BC
(1) 1268/    2185 : EB                  	EX	DE,HL
(1) 1269/    2186 :                     
(1) 1270/    2186 :                     
(1) 1271/    2186 : 0E 00               MOVPCHKACC31	LD	C,0
(1) 1272/    2188 : 06 03               	LD	B,3
(1) 1273/    218A : CB 3C               MOVPCHKACC4	SRL	H
(1) 1274/    218C : CB 1D               	RR	L
(1) 1275/    218E : CB 19               	RR	C
(1) 1276/    2190 : 10 F8               	DJNZ	MOVPCHKACC4
(1) 1277/    2192 :                     
(1) 1278/    2192 : C5                  	PUSH	BC
(1) 1279/    2193 : E5                  	PUSH	HL
(1) 1280/    2194 : 21 67 48            	LD	HL,INDEXMAPA
(1) 1281/    2197 : CB 23               	SLA	E
(1) 1282/    2199 : CB 12               	RL	D
(1) 1283/    219B : 19                  	ADD	HL,DE
(1) 1284/    219C : 5E                  	LD	E,(HL)
(1) 1285/    219D : 23                  	INC	HL
(1) 1286/    219E : 56                  	LD	D,(HL)
(1) 1287/    219F : E1                  	POP	HL
(1) 1288/    21A0 : 19                  	ADD	HL,DE
(1) 1289/    21A1 :                     
(1) 1290/    21A1 : E5                  	PUSH	HL
(1) 1291/    21A2 : ED 5B 95 14         	LD	DE,(PROP_PTR)
(1) 1292/    21A6 : 7E                  	LD	A,(HL)
(1) 1293/    21A7 : 26 00               	LD	H,0
(1) 1294/    21A9 : 6F                  	LD	L,A
(1) 1295/    21AA : 19                  	ADD	HL,DE
(1) 1296/    21AB :                     
(1) 1297/    21AB : 7E                  	LD	A,(HL)
(1) 1298/    21AC : 32 E0 21            	LD	(MOVPCHK_PRO1),A
(1) 1299/    21AF : 08                  	EX	AF,AF'
(1) 1300/    21B0 : E1                  	POP	HL
(1) 1301/    21B1 : ED 5B 8F 14         	LD	DE,(ANCHOPATPER)
(1) 1302/    21B5 : 1D                  	DEC	E
(1) 1303/    21B6 : 16 00               	LD	D,0
(1) 1304/    21B8 : 19                  	ADD	HL,DE
(1) 1305/    21B9 : C1                  	POP	BC
(1) 1306/    21BA : AF                  	XOR	A
(1) 1307/    21BB : B1                  	OR	C
(1) 1308/    21BC : 28 01               	JR	Z,MOVPCHKACC5
(1) 1309/    21BE : 23                  	INC	HL
(1) 1310/    21BF :                     
(1) 1311/    21BF : 4E                  MOVPCHKACC5:	LD	C,(HL)
(1) 1312/    21C0 : 26 00               	LD	H,0
(1) 1313/    21C2 : 69                  	LD	L,C
(1) 1314/    21C3 : ED 5B 95 14         	LD	DE,(PROP_PTR)
(1) 1315/    21C7 : 19                  	ADD	HL,DE
(1) 1316/    21C8 : 7E                  	LD	A,(HL)
(1) 1317/    21C9 : 32 E1 21            	LD	(MOVPCHK_PRO2),A
(1) 1318/    21CC : 47                  	LD	B,A
 AS V1.42 Beta [Bld 28] - source file game.asm(pers.asm) - page 98 - 8/12/2011 20:51:50


(1) 1319/    21CD : 08                  	EX	AF,AF'
(1) 1320/    21CE : A0                  	AND	B
(1) 1321/    21CF : CB 47               	BIT	0,A
(1) 1322/    21D1 : D1                  	POP	DE
(1) 1323/    21D2 : E1                  	POP	HL
(1) 1324/    21D3 : 28 01               	JR	Z,MOVPCHKACC6
(1) 1325/    21D5 : C9                  	RET
(1) 1326/    21D6 :                     
(1) 1327/    21D6 :                     
(1) 1328/    21D6 : 2A 96 22            MOVPCHKACC6:	LD	HL,(MOVPVISX)
(1) 1329/    21D9 : ED 5B 98 22         	LD	DE,(MOVPVISY)
(1) 1330/    21DD : C9                  	RET
(1) 1331/    21DE :                     
(1) 1332/    21DE : 00 00               MOVPCHK_PROF:	DW	00H
(1) 1333/    21E0 : 00                  MOVPCHK_PRO1:	DB	00H
(1) 1334/    21E1 : 00                  MOVPCHK_PRO2:	DB	00H
(1) 1335/    21E2 :                     
(1) 1336/    21E2 :                     
(1) 1337/    21E2 :                     
(1) 1338/    21E2 :                     
(1) 1339/    21E2 :                     ;NOMBRE: MOVPVIS
(1) 1340/    21E2 :                     ;OBJETIVO: DETERMINAR SI EL PERSONAJE SE VE EN PANTALLA O NO Y GESTIONAR
(1) 1341/    21E2 :                     ;          COMO SE VE EN PANTALLA, EL MOVIMIENTO ETC...
(1) 1342/    21E2 :                     ;ENTRADA: IX -> PUNTERO AL PERSONAJE
(1) 1343/    21E2 :                     ;SALIDA:
(1) 1344/    21E2 :                     ;MODIFICA: AF,HL,HL',DE,DE',BC
(1) 1345/    21E2 :                      
(1) 1346/    21E2 : 01 FC FF            MOVPVIS:	LD	BC,-4 
(1) 1347/    21E5 : DD 6E 02            	LD	L,(IX+STRPER_X)
(1) 1348/    21E8 : DD 66 03            	LD	H,(IX+STRPER_X+1)
(1) 1349/    21EB : 22 96 22            	LD	(MOVPVISX),HL
(1) 1350/    21EE :                     
(1) 1351/    21EE : DD 5E 00            	LD	E,(IX+STRPER_Y)
(1) 1352/    21F1 : DD 56 01            	LD	D,(IX+STRPER_Y+1)
(1) 1353/    21F4 : 3A 8D 14            	LD	A,(MODO_GAME)
(1) 1354/    21F7 : FE 00               	CP	INTERIOR
(1) 1355/    21F9 : 28 03               	JR	Z,MOVPV1
(1) 1356/    21FB : EB                  	EX	DE,HL
(1) 1357/    21FC : 09                  	ADD	HL,BC
(1) 1358/    21FD : EB                  	EX	DE,HL
(1) 1359/    21FE :                     
(1) 1360/    21FE :                     
(1) 1361/    21FE : ED 53 98 22         MOVPV1	LD	(MOVPVISY),DE
(1) 1362/    2202 : ED 5B A0 14         	LD	DE,(DESP_PANTX)
(1) 1363/    2206 : CB 23               	SLA	E
(1) 1364/    2208 : CB 12               	RL	D
(1) 1365/    220A : CB 23               	SLA	E
(1) 1366/    220C : CB 12               	RL	D
(1) 1367/    220E : CB 23               	SLA	E
(1) 1368/    2210 : CB 12               	RL	D
(1) 1369/    2212 : AF                  	XOR	A
(1) 1370/    2213 : ED 52               	SBC	HL,DE
(1) 1371/    2215 : 38 64               	JR	C,MOVPVIS_FD
(1) 1372/    2217 :                     
(1) 1373/    2217 : 7D                  	LD	A,L
(1) 1374/    2218 : 32 94 22            	LD	(MOVPVISXR),A
(1) 1375/    221B : ED 5B A9 14         	LD	DE,(MAXVALXR)
(1) 1376/    221F : 19                  	ADD	HL,DE
(1) 1377/    2220 : 38 59               	JR	C,MOVPVIS_FD
(1) 1378/    2222 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(pers.asm) - page 99 - 8/12/2011 20:51:50


(1) 1379/    2222 : 2A 98 22            	LD	HL,(MOVPVISY)
(1) 1380/    2225 : ED 5B A2 14         	LD	DE,(DESP_PANTY)
(1) 1381/    2229 : CB 23               	SLA	E
(1) 1382/    222B : CB 12               	RL	D
(1) 1383/    222D : CB 23               	SLA	E
(1) 1384/    222F : CB 12               	RL	D
(1) 1385/    2231 : CB 23               	SLA	E
(1) 1386/    2233 : CB 12               	RL	D
(1) 1387/    2235 : AF                  	XOR	A
(1) 1388/    2236 : ED 52               	SBC	HL,DE
(1) 1389/    2238 : 38 41               	JR	C,MOVPVIS_FD
(1) 1390/    223A :                      
(1) 1391/    223A : 7D                  	LD	A,L
(1) 1392/    223B : 32 95 22            	LD	(MOVPVISYR),A
(1) 1393/    223E : ED 5B AB 14         	LD	DE,(MAXVALYR)
(1) 1394/    2242 : 19                  	ADD	HL,DE
(1) 1395/    2243 : 38 36               	JR	C,MOVPVIS_FD
(1) 1396/    2245 :                     
(1) 1397/    2245 : 3A 95 22            	LD	A,(MOVPVISYR)
(1) 1398/    2248 : 47                  	LD	B,A
(1) 1399/    2249 : 3A 94 22            	LD	A,(MOVPVISXR)
(1) 1400/    224C : 4F                  	LD	C,A
(1) 1401/    224D : AF                  	XOR	A
(1) 1402/    224E : DD 6E 05            	LD	L,(IX+STRPER_FIG)
(1) 1403/    2251 : DD 66 06            	LD	H,(IX+STRPER_FIG+1)
(1) 1404/    2254 : B5                  	OR	L
(1) 1405/    2255 : 20 16               	JR	NZ,MOVPVIS_FC
(1) 1406/    2257 : B4                  	OR	H
(1) 1407/    2258 : 20 13               	JR	NZ,MOVPVIS_FC
(1) 1408/    225A :                     
(1) 1409/    225A : DD 6E 0F            	LD	L,(IX+STRPER_PAT)
(1) 1410/    225D : DD 66 13            	LD	H,(IX+STRPER_DIR)
(1) 1411/    2260 : DD E5               	PUSH	IX
(1) 1412/    2262 : CD A2 10            	CALL	INITFIGURA
(1) 1413/    2265 : DD E1               	POP	IX
(1) 1414/    2267 : DD 75 05            	LD	(IX+STRPER_FIG),L
(1) 1415/    226A : DD 74 06            	LD	(IX+STRPER_FIG+1),H
(1) 1416/    226D :                     
(1) 1417/    226D :                     MOVPVIS_FC	
(1) 1418/    226D : DD E5               	PUSH	IX
(1) 1419/    226F : DD 5E 13            	LD	E,(IX+STRPER_DIR)
(1) 1420/    2272 : CD EF 10            	CALL	GFIG_MOVAC
(1) 1421/    2275 : DD E1               	POP	IX
(1) 1422/    2277 : CD 80 0F            	CALL	SAVE2PLANE
(1) 1423/    227A : C9                  	RET
(1) 1424/    227B :                     
(1) 1425/    227B :                     
(1) 1426/    227B : DD 5E 05            MOVPVIS_FD:	LD	E,(IX+STRPER_FIG)
(1) 1427/    227E : DD 56 06            	LD	D,(IX+STRPER_FIG+1)
(1) 1428/    2281 : AF                  	XOR	A
(1) 1429/    2282 : BB                  	CP	E
(1) 1430/    2283 : 20 02               	JR	NZ,MOVPVIS_FD1
(1) 1431/    2285 : BA                  	CP	D
(1) 1432/    2286 : C8                  	RET	Z
(1) 1433/    2287 :                     
(1) 1434/    2287 : DD 77 05            MOVPVIS_FD1:	LD	(IX+STRPER_FIG),A
(1) 1435/    228A : DD 77 06            	LD	(IX+STRPER_FIG+1),A
(1) 1436/    228D : D5                  	PUSH	DE
(1) 1437/    228E : DD E1               	POP	IX
(1) 1438/    2290 : DD 77 08            	LD	(IX+STRFIG_OCUP),A
 AS V1.42 Beta [Bld 28] - source file game.asm(pers.asm) - page 100 - 8/12/2011 20:51:50


(1) 1439/    2293 : C9                  	RET
(1) 1440/    2294 :                     
(1) 1441/    2294 :                     
(1) 1442/    2294 : 00                  MOVPVISXR:	DB	0
(1) 1443/    2295 : 00                  MOVPVISYR:	DB	0
(1) 1444/    2296 : 00 00               MOVPVISX:	DW	0
(1) 1445/    2298 : 00 00               MOVPVISY:	DW	0
(1) 1446/    229A : 00                  MOVPDIRE:	DB	0
(1) 1447/    229B :                     
(1) 1448/    229B :                     
(1) 1449/    229B :                     ;NOMBRE: INITPERSO
(1) 1450/    229B :                     ;OBJETIVO: INICIALIZAR UN PERSONAJE DE UN TIPO ESPECIFICO.
(1) 1451/    229B :                     ;ENTRADA: A -> NUMERO DE PERSONAJE
(1) 1452/    229B :                     ;         BC -> COORDENADA  Y
(1) 1453/    229B :                     ;         DE -> COORDENADA  X
(1) 1454/    229B :                     ;         H -> TIPO DE PERSONAJE
(1) 1455/    229B :                     ;         L -> DIRECCION DEL PERSONAJE
(1) 1456/    229B :                     
(1) 1457/    229B :                     
(1) 1458/    229B : DD 2A 8B 14         INITPERSO:	LD	IX,(PTR_PERSO)
(1) 1459/    229F : 08                  	EX	AF,AF'
(1) 1460/    22A0 : 7B                  	LD	A,E
(1) 1461/    22A1 : E6 E0               	AND	0E0h
(1) 1462/    22A3 : 5F                  	LD	E,A
(1) 1463/    22A4 : 79                  	LD	A,C
(1) 1464/    22A5 : E6 F0               	AND	0F0h
(1) 1465/    22A7 : C6 04               	ADD	A,4
(1) 1466/    22A9 : 4F                  	LD	C,A
(1) 1467/    22AA :                     
(1) 1468/    22AA :                     
(1) 1469/    22AA : 08                  	EX	AF,AF'
(1) 1470/    22AB : EB                  	EX	DE,HL
(1) 1471/    22AC : 22 09 23            	LD	(INITPERSOX),HL
(1) 1472/    22AF : 60                  	LD	H,B
(1) 1473/    22B0 : 69                  	LD	L,C
(1) 1474/    22B1 : 22 0B 23            	LD	(INITPERSOY),HL
(1) 1475/    22B4 :                     
(1) 1476/    22B4 : EB                  	EX	DE,HL
(1) 1477/    22B5 : 11 15 00            	LD	DE,STRUCTPERSO
(1) 1478/    22B8 : B7                  INITPERSO1	OR	A
(1) 1479/    22B9 : 28 05               	JR	Z,INITPERSO2
(1) 1480/    22BB :                     
(1) 1481/    22BB : DD 19               	ADD	IX,DE
(1) 1482/    22BD : 3D                  	DEC	A
(1) 1483/    22BE : 18 F8               	JR	INITPERSO1
(1) 1484/    22C0 :                     
(1) 1485/    22C0 :                     
(1) 1486/    22C0 : 7C                  INITPERSO2:	LD	A,H
(1) 1487/    22C1 : DD 74 04            	LD	(IX+STRPER_TIPO),H
(1) 1488/    22C4 : DD 75 13            	LD	(IX+STRPER_DIR),L
(1) 1489/    22C7 : 21 A3 3F            	LD	HL,TIPOS_VEC
(1) 1490/    22CA : 11 18 00            	LD	DE,STRUCTTIPOP
(1) 1491/    22CD : B7                  INITPERSO3	OR	A
(1) 1492/    22CE : 28 04               	JR	Z,INITPERSO4
(1) 1493/    22D0 :                     
(1) 1494/    22D0 : 19                  	ADD	HL,DE
(1) 1495/    22D1 : 3D                  	DEC	A
(1) 1496/    22D2 : 18 F9               	JR	INITPERSO3
(1) 1497/    22D4 :                     
(1) 1498/    22D4 : E5                  INITPERSO4:	PUSH	HL
 AS V1.42 Beta [Bld 28] - source file game.asm(pers.asm) - page 101 - 8/12/2011 20:51:50


(1) 1499/    22D5 : 2A 09 23            	LD	HL,(INITPERSOX)
(1) 1500/    22D8 : EB                  	EX	DE,HL
(1) 1501/    22D9 : 2A 0B 23            	LD	HL,(INITPERSOY)
(1) 1502/    22DC :                     
(1) 1503/    22DC : DD 75 00            	LD	(IX+STRPER_Y),L
(1) 1504/    22DF : DD 74 01            	LD	(IX+STRPER_Y+1),H
(1) 1505/    22E2 : DD 73 02            	LD	(IX+STRPER_X),E
(1) 1506/    22E5 : DD 72 03            	LD	(IX+STRPER_X+1),D
(1) 1507/    22E8 :                     
(1) 1508/    22E8 : E1                  	POP	HL
(1) 1509/    22E9 : E5                  	PUSH	HL
(1) 1510/    22EA : DD E5               	PUSH	IX
(1) 1511/    22EC : E1                  	POP	HL
(1) 1512/    22ED : 01 07 00            	LD	BC,STRPER_PV
(1) 1513/    22F0 : 09                  	ADD	HL,BC
(1) 1514/    22F1 : 54                  	LD	D,H
(1) 1515/    22F2 : 5D                  	LD	E,L
(1) 1516/    22F3 : 01 0B 00            	LD	BC,STRTIPE_PV
(1) 1517/    22F6 : E1                  	POP	HL
(1) 1518/    22F7 : 09                  	ADD	HL,BC
(1) 1519/    22F8 : 01 0B 00            	LD	BC,STRTIPE_INV-STRTIPE_PV
(1) 1520/    22FB : ED B0               	LDIR
(1) 1521/    22FD :                     
(1) 1522/    22FD : AF                  	XOR	A
(1) 1523/    22FE : DD 77 05            	LD	(IX+STRPER_FIG),A
(1) 1524/    2301 : DD 77 06            	LD	(IX+STRPER_FIG+1),A
(1) 1525/    2304 : 3C                  	INC	A
(1) 1526/    2305 : DD 77 12            	LD	(IX+STRPER_OCUP),A
(1) 1527/    2308 : C9                  	RET
(1) 1528/    2309 :                     
(1) 1529/    2309 :                     
(1) 1530/    2309 : 00 00               INITPERSOX:	DW	0
(1) 1531/    230B : 00 00               INITPERSOY:	DW	0
(1) 1532/    230D :                     
(1) 1533/    230D :                     	
    3253/    230D :                     	include "sys.asm"
(1)    1/    230D : =CH                 DmaHigh equ 0c000h
(1)    2/    230D : =2H                 SizeDma equ 2000h	
(1)    3/    230D :                     	
(1)    4/    230D : =AH                 SongAct	 equ 0a000h
(1)    5/    230D : =8H                 AdrMusic equ 08000h
(1)    6/    230D :                     
(1)    7/    230D : =8H                 GfxActual equ 08000h
(1)    8/    230D :                     	
(1)    9/    230D :                     	
(1)   10/    230D : =FH                 PortM	 equ 0feh
(1)   11/    230D : =2H                 FuncgM   equ GET_P2
(1)   12/    230D : =2H                 FuncpM   equ PUT_P2	 	
(1)   13/    230D :                     
(1)   14/    230D :                     	
(1)   15/    230D :                     
(1)   16/    230D :                     		
(1)   17/    230D : =FH                 EXTBIO:	equ 0ffcah
(1)   18/    230D :                     	
(1)   19/    230D :                     
(1)   20/    230D :                     
(1)   21/    230D :                     PutPageD:			
(1)   22/    230D : 3A A8 25            	ld a,(seg_mc)
(1)   23/    2310 : D3 FE               	out (PortM),a
(1)   24/    2312 : 32 22 23            	ld  (PageM),a
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 102 - 8/12/2011 20:51:50


(1)   25/    2315 : C9                  	ret
(1)   26/    2316 :                     
(1)   27/    2316 :                     
(1)   28/    2316 :                     			
(1)   29/    2316 :                     PutPageP1:		
(1)   30/    2316 : 3A A6 25            	ld a,(seg_mp)
(1)   31/    2319 : D3 FE               	out (PortM),a
(1)   32/    231B : 32 22 23            	ld  (PageM),a
(1)   33/    231E : C9                  	ret
(1)   34/    231F :                     
(1)   35/    231F :                     
(1)   36/    231F :                     PutPageP2:			; Esto es asi para en el futuro meterlo en un megarom
(1)   37/    231F : 18 F5               	jr PutPageP1
(1)   38/    2321 : C9                  	ret	
(1)   39/    2322 :                     	
(1)   40/    2322 : 00                  PageM:	 db 0		
(1)   41/    2323 :                     
(1)   42/    2323 :                     
(1)   43/    2323 :                     
(1)   44/    2323 :                     	
(1)   45/    2323 :                     ;Nombre: PutPageM
(1)   46/    2323 :                     ;Objetivo:  Emular paginas de canciones de 8k
(1)   47/    2323 :                     ;Entrada: a -> Numero de pagina de Datos	
(1)   48/    2323 :                     	
(1)   49/    2323 :                     		
(1)   50/    2323 :                     PutPageM:	
(1)   51/    2323 : (MACRO)             	assert "Pila=%p PutPageM: Cambiando  %d por %d\n",(sp),(PageMnum),a
(1)   51/    2323 : =>DEFINED                   ifdef DEBUG
(1)   51/    2323 :                             
(1)   51/    2323 : =>TRUE                        if "Pila=%p PutPageM: Cambiando  %d por %d\n" <> ""
(1)   51/    2323 : C3 54 23                        jp next          
(1)   51/    2326 : 50 69 6C 61 3D 25   cad:        db "Pila=%p PutPageM: Cambiando  %d por %d\n",0
                    70 20 50 75 74 50 
                    61 67 65 4D 3A 20 
                    43 61 6D 62 69 61 
                    6E 64 6F 20 20 25 
                    64 20 70 6F 72 20 
                    25 64 0A 00 
(1)   51/    234E : 00 00               r_sp:       dw 0                
(1)   51/    2350 : 00 00               old_sp:     dw 0
(1)   51/    2352 : 00 00               pushls:     dw 0
(1)   51/    2354 :                     
(1)   51/    2354 :                                             
(1)   51/    2354 :                     next:               
(1)   51/    2354 : E5                              push hl    
(1)   51/    2355 : 21 FA FF                        ld hl,-6
(1)   51/    2358 : 39                              add hl,sp
(1)   51/    2359 : 22 4E 23                        ld (r_sp),hl
(1)   51/    235C : 21 02 00                        ld hl,2
(1)   51/    235F : 39                              add hl,sp
(1)   51/    2360 : 22 50 23                        ld (old_sp),hl
(1)   51/    2363 :                     
(1)   51/    2363 : F5                              push af
(1)   51/    2364 : ED 5F                           ld a,r              ; Salvar el estado de las interrupciones
(1)   51/    2366 : F5                              push af
(1)   51/    2367 : E1                              pop hl
(1)   51/    2368 : 7D                              ld a,l
(1)   51/    2369 : 32 DD 18                        ld (prt_di),a           
(1)   51/    236C : F1                              pop af
(1)   51/    236D : E1                              pop hl
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 103 - 8/12/2011 20:51:50


(1)   51/    236E : F3                              di
(1)   51/    236F :                                      
(1)   51/    236F : E5                              push hl
(1)   51/    2370 : D5                              push de
(1)   51/    2371 : C5                              push bc
(1)   51/    2372 : F5                              push af
(1)   51/    2373 : 22 52 23                        ld (pushls),hl
(1)   51/    2376 :                                 shift
(1)   51/    2376 : (MACRO)                         pushlist (SP),(PAGEMNUM),A
(1)   51/    2376 : =>TRUE                     if "(SP)" <> ""
(1)   51/    2376 : (MACRO)                       pushlist (PAGEMNUM),A
(1)   51/    2376 : =>TRUE                     if "(PAGEMNUM)" <> ""
(1)   51/    2376 : (MACRO)                       pushlist A
(1)   51/    2376 : =>TRUE                     if "A" <> ""
(1)   51/    2376 : (MACRO)                       pushlist 
(1)   51/    2376 : =>FALSE                    if "" <> ""
(1)   51/    2376 :                               pushlist 
(1)   51/    2376 :                               pusht 
(1)   51/    2376 : [51]                       endif
(1)   51/    2376 : (MACRO)                       pusht A
(1)   51/    2376 : =>FALSE                   if  (upstring("A")=="AF") || (upstring("A")=="BC") 
(1)   51/    2376 :                             push A
(1)   51/    2376 : =>FALSE                   elseif (upstring("A")=="DE") || (upstring("A")=="HL") 
(1)   51/    2376 :                             push A
(1)   51/    2376 : =>FALSE                   elseif (upstring("A")=="IX") || (upstring("A")=="IY")
(1)   51/    2376 :                             push A
(1)   51/    2376 : =>FALSE                   elseif (upstring("A")=="SP")
(1)   51/    2376 :                             ld hl,(old_sp)
(1)   51/    2376 :                             push hl
(1)   51/    2376 :                             ld hl,(pushls)
(1)   51/    2376 : =>FALSE                   elseif strstr("A","(") <> -1
(1)   51/    2376 :                             if strstr(upstring("A"),"(SP)") <> -1
(1)   51/    2376 :                                ld hl,(old_sp)
(1)   51/    2376 :                                push af
(1)   51/    2376 :                                ld a,(hl)
(1)   51/    2376 :                                inc hl
(1)   51/    2376 :                                ld h,(hl)
(1)   51/    2376 :                                ld l,a
(1)   51/    2376 :                                pop af
(1)   51/    2376 :                                push hl
(1)   51/    2376 :                                ld hl,(pushls)          
(1)   51/    2376 :                             else
(1)   51/    2376 :                                push8b A
(1)   51/    2376 : [51]                        endif
(1)   51/    2376 : =>TRUE                    elseif (upstring("A")=="A") 
(1)   51/    2376 : (MACRO)                     push8b A
(1)   51/    2376 : F5                          push af
(1)   51/    2377 : 7F                          ld a,A  
(1)   51/    2378 : 6F                          ld l,a
(1)   51/    2379 : F1                          pop af
(1)   51/    237A : 26 00                       ld h,0
(1)   51/    237C : E5                          push hl
(1)   51/    237D : 2A 52 23                    ld hl,(pushls)
(1)   51/    2380 : =>FALSE                   elseif (upstring("A")=="B")   || (upstring("A")=="C") 
(1)   51/    2380 :                             push8b A
(1)   51/    2380 : =>FALSE                   elseif (upstring("A")=="D")   || (upstring("A")=="E") 
(1)   51/    2380 :                             push8b A
(1)   51/    2380 : =>FALSE                   elseif (upstring("A")=="H")   || (upstring("A")=="L") 
(1)   51/    2380 :                             push8b A
(1)   51/    2380 : =>FALSE                   elseif (upstring("A")=="IYH") || (upstring("A")=="IHL")
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 104 - 8/12/2011 20:51:50


(1)   51/    2380 :                             push8b A
(1)   51/    2380 : =>FALSE                   elseif (upstring("A")=="IYH") || (upstring("A")=="IHL") 
(1)   51/    2380 :                             push8b A
(1)   51/    2380 : =>FALSE                   else              
(1)   51/    2380 :                             ld hl,A
(1)   51/    2380 :                             push hl
(1)   51/    2380 :                             ld hl,(pushls)
(1)   51/    2380 : [51]                      endif
(1)   51/    2380 : [51]                       endif
(1)   51/    2380 : (MACRO)                       pusht (PAGEMNUM)
(1)   51/    2380 : =>FALSE                   if  (upstring("(PAGEMNUM)")=="AF") || (upstring("(PAGEMNUM)")=="BC") 
(1)   51/    2380 :                             push (PAGEMNUM)
(1)   51/    2380 : =>FALSE                   elseif (upstring("(PAGEMNUM)")=="DE") || (upstring("(PAGEMNUM)")=="HL") 
(1)   51/    2380 :                             push (PAGEMNUM)
(1)   51/    2380 : =>FALSE                   elseif (upstring("(PAGEMNUM)")=="IX") || (upstring("(PAGEMNUM)")=="IY")
(1)   51/    2380 :                             push (PAGEMNUM)
(1)   51/    2380 : =>FALSE                   elseif (upstring("(PAGEMNUM)")=="SP")
(1)   51/    2380 :                             ld hl,(old_sp)
(1)   51/    2380 :                             push hl
(1)   51/    2380 :                             ld hl,(pushls)
(1)   51/    2380 : =>TRUE                    elseif strstr("(PAGEMNUM)","(") <> -1
(1)   51/    2380 : =>FALSE                     if strstr(upstring("(PAGEMNUM)"),"(SP)") <> -1
(1)   51/    2380 :                                ld hl,(old_sp)
(1)   51/    2380 :                                push af
(1)   51/    2380 :                                ld a,(hl)
(1)   51/    2380 :                                inc hl
(1)   51/    2380 :                                ld h,(hl)
(1)   51/    2380 :                                ld l,a
(1)   51/    2380 :                                pop af
(1)   51/    2380 :                                push hl
(1)   51/    2380 :                                ld hl,(pushls)          
(1)   51/    2380 : =>TRUE                      else
(1)   51/    2380 : (MACRO)                        push8b (PAGEMNUM)
(1)   51/    2380 : F5                          push af
(1)   51/    2381 : 3A 0F 25                    ld a,(PAGEMNUM)  
(1)   51/    2384 : 6F                          ld l,a
(1)   51/    2385 : F1                          pop af
(1)   51/    2386 : 26 00                       ld h,0
(1)   51/    2388 : E5                          push hl
(1)   51/    2389 : 2A 52 23                    ld hl,(pushls)
(1)   51/    238C : [51]                        endif
(1)   51/    238C : =>FALSE                   elseif (upstring("(PAGEMNUM)")=="A") 
(1)   51/    238C :                             push8b (PAGEMNUM)
(1)   51/    238C : =>FALSE                   elseif (upstring("(PAGEMNUM)")=="B")   || (upstring("(PAGEMNUM)")=="C") 
(1)   51/    238C :                             push8b (PAGEMNUM)
(1)   51/    238C : =>FALSE                   elseif (upstring("(PAGEMNUM)")=="D")   || (upstring("(PAGEMNUM)")=="E") 
(1)   51/    238C :                             push8b (PAGEMNUM)
(1)   51/    238C : =>FALSE                   elseif (upstring("(PAGEMNUM)")=="H")   || (upstring("(PAGEMNUM)")=="L") 
(1)   51/    238C :                             push8b (PAGEMNUM)
(1)   51/    238C : =>FALSE                   elseif (upstring("(PAGEMNUM)")=="IYH") || (upstring("(PAGEMNUM)")=="IHL")
(1)   51/    238C :                             push8b (PAGEMNUM)
(1)   51/    238C : =>FALSE                   elseif (upstring("(PAGEMNUM)")=="IYH") || (upstring("(PAGEMNUM)")=="IHL") 
(1)   51/    238C :                             push8b (PAGEMNUM)
(1)   51/    238C : =>FALSE                   else              
(1)   51/    238C :                             ld hl,(PAGEMNUM)
(1)   51/    238C :                             push hl
(1)   51/    238C :                             ld hl,(pushls)
(1)   51/    238C : [51]                      endif
(1)   51/    238C : [51]                       endif
(1)   51/    238C : (MACRO)                       pusht (SP)
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 105 - 8/12/2011 20:51:50


(1)   51/    238C : =>FALSE                   if  (upstring("(SP)")=="AF") || (upstring("(SP)")=="BC") 
(1)   51/    238C :                             push (SP)
(1)   51/    238C : =>FALSE                   elseif (upstring("(SP)")=="DE") || (upstring("(SP)")=="HL") 
(1)   51/    238C :                             push (SP)
(1)   51/    238C : =>FALSE                   elseif (upstring("(SP)")=="IX") || (upstring("(SP)")=="IY")
(1)   51/    238C :                             push (SP)
(1)   51/    238C : =>FALSE                   elseif (upstring("(SP)")=="SP")
(1)   51/    238C :                             ld hl,(old_sp)
(1)   51/    238C :                             push hl
(1)   51/    238C :                             ld hl,(pushls)
(1)   51/    238C : =>TRUE                    elseif strstr("(SP)","(") <> -1
(1)   51/    238C : =>TRUE                      if strstr(upstring("(SP)"),"(SP)") <> -1
(1)   51/    238C : 2A 50 23                       ld hl,(old_sp)
(1)   51/    238F : F5                             push af
(1)   51/    2390 : 7E                             ld a,(hl)
(1)   51/    2391 : 23                             inc hl
(1)   51/    2392 : 66                             ld h,(hl)
(1)   51/    2393 : 6F                             ld l,a
(1)   51/    2394 : F1                             pop af
(1)   51/    2395 : E5                             push hl
(1)   51/    2396 : 2A 52 23                       ld hl,(pushls)          
(1)   51/    2399 : =>FALSE                     else
(1)   51/    2399 :                                push8b (SP)
(1)   51/    2399 : [51]                        endif
(1)   51/    2399 : =>FALSE                   elseif (upstring("(SP)")=="A") 
(1)   51/    2399 :                             push8b (SP)
(1)   51/    2399 : =>FALSE                   elseif (upstring("(SP)")=="B")   || (upstring("(SP)")=="C") 
(1)   51/    2399 :                             push8b (SP)
(1)   51/    2399 : =>FALSE                   elseif (upstring("(SP)")=="D")   || (upstring("(SP)")=="E") 
(1)   51/    2399 :                             push8b (SP)
(1)   51/    2399 : =>FALSE                   elseif (upstring("(SP)")=="H")   || (upstring("(SP)")=="L") 
(1)   51/    2399 :                             push8b (SP)
(1)   51/    2399 : =>FALSE                   elseif (upstring("(SP)")=="IYH") || (upstring("(SP)")=="IHL")
(1)   51/    2399 :                             push8b (SP)
(1)   51/    2399 : =>FALSE                   elseif (upstring("(SP)")=="IYH") || (upstring("(SP)")=="IHL") 
(1)   51/    2399 :                             push8b (SP)
(1)   51/    2399 : =>FALSE                   else              
(1)   51/    2399 :                             ld hl,(SP)
(1)   51/    2399 :                             push hl
(1)   51/    2399 :                             ld hl,(pushls)
(1)   51/    2399 : [51]                      endif
(1)   51/    2399 : [51]                       endif
(1)   51/    2399 : 21 26 23                        ld hl,cad
(1)   51/    239C : CD DE 18                        call prt_d
(1)   51/    239F :                     
(1)   51/    239F : 2A 4E 23                        ld hl,(r_sp)
(1)   51/    23A2 : F9                              ld sp,hl    
(1)   51/    23A3 :                     
(1)   51/    23A3 : 3A DD 18                        ld a,(prt_di) 
(1)   51/    23A6 : CB 57                           bit 2,a
(1)   51/    23A8 : 28 01                           jr z,+
(1)   51/    23AA : FB                              ei          ; Restauramos estado de las interrupciones
(1)   51/    23AB :                     
(1)   51/    23AB : F1                  +           pop af
(1)   51/    23AC : C1                              pop bc
(1)   51/    23AD : D1                              pop de
(1)   51/    23AE : E1                              pop hl      
(1)   51/    23AF : [51]                          endif
(1)   51/    23AF : [51]                        endif
(1)   52/    23AF : ED 4B 0F 25         	ld bc,(PageMnum)	
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 106 - 8/12/2011 20:51:50


(1)   53/    23B3 : B9                  	cp c
(1)   54/    23B4 : CA 0D 23            	jp z,PutPageD
(1)   55/    23B7 :                     	
(1)   56/    23B7 :                     	
(1)   57/    23B7 : F5                  	push	af
(1)   58/    23B8 : CD 15 38            	call	resvdp_li
(1)   59/    23BB : CD 3E 2B            	call	restore_int
(1)   60/    23BE :                     
(1)   61/    23BE : F1                  	pop	af
(1)   62/    23BF : 32 0F 25            	ld	(PageMnum),a
(1)   63/    23C2 : 21 04 25            	ld	hl,Songl-12
(1)   64/    23C5 : 47                  	ld	b,a
(1)   65/    23C6 : 11 0C 00            	ld	de,12		
(1)   66/    23C9 : 19                  PutPM1	add	hl,de
(1)   67/    23CA : 10 FD               	djnz	PutPM1
(1)   68/    23CC :                     
(1)   69/    23CC : (MACRO)             	assert "Pila=%p Cargando la pagina %d Correspondiente al fichero %p\n ",(sp),a,hl
(1)   69/    23CC : =>DEFINED                   ifdef DEBUG
(1)   69/    23CC :                             
(1)   69/    23CC : =>TRUE                        if "Pila=%p Cargando la pagina %d Correspondiente al fichero %p\n " <> ""
(1)   69/    23CC : C3 13 24                        jp next          
(1)   69/    23CF : 50 69 6C 61 3D 25   cad:        db "Pila=%p Cargando la pagina %d Correspondiente al fichero %p\n ",0
                    70 20 43 61 72 67 
                    61 6E 64 6F 20 6C 
                    61 20 70 61 67 69 
                    6E 61 20 25 64 20 
                    43 6F 72 72 65 73 
                    70 6F 6E 64 69 65 
                    6E 74 65 20 61 6C 
                    20 66 69 63 68 65 
                    72 6F 20 25 70 0A 
                    20 00 
(1)   69/    240D : 00 00               r_sp:       dw 0                
(1)   69/    240F : 00 00               old_sp:     dw 0
(1)   69/    2411 : 00 00               pushls:     dw 0
(1)   69/    2413 :                     
(1)   69/    2413 :                                             
(1)   69/    2413 :                     next:               
(1)   69/    2413 : E5                              push hl    
(1)   69/    2414 : 21 FA FF                        ld hl,-6
(1)   69/    2417 : 39                              add hl,sp
(1)   69/    2418 : 22 0D 24                        ld (r_sp),hl
(1)   69/    241B : 21 02 00                        ld hl,2
(1)   69/    241E : 39                              add hl,sp
(1)   69/    241F : 22 0F 24                        ld (old_sp),hl
(1)   69/    2422 :                     
(1)   69/    2422 : F5                              push af
(1)   69/    2423 : ED 5F                           ld a,r              ; Salvar el estado de las interrupciones
(1)   69/    2425 : F5                              push af
(1)   69/    2426 : E1                              pop hl
(1)   69/    2427 : 7D                              ld a,l
(1)   69/    2428 : 32 DD 18                        ld (prt_di),a           
(1)   69/    242B : F1                              pop af
(1)   69/    242C : E1                              pop hl
(1)   69/    242D : F3                              di
(1)   69/    242E :                                      
(1)   69/    242E : E5                              push hl
(1)   69/    242F : D5                              push de
(1)   69/    2430 : C5                              push bc
(1)   69/    2431 : F5                              push af
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 107 - 8/12/2011 20:51:50


(1)   69/    2432 : 22 11 24                        ld (pushls),hl
(1)   69/    2435 :                                 shift
(1)   69/    2435 : (MACRO)                         pushlist (SP),A,HL
(1)   69/    2435 : =>TRUE                     if "(SP)" <> ""
(1)   69/    2435 : (MACRO)                       pushlist A,HL
(1)   69/    2435 : =>TRUE                     if "A" <> ""
(1)   69/    2435 : (MACRO)                       pushlist HL
(1)   69/    2435 : =>TRUE                     if "HL" <> ""
(1)   69/    2435 : (MACRO)                       pushlist 
(1)   69/    2435 : =>FALSE                    if "" <> ""
(1)   69/    2435 :                               pushlist 
(1)   69/    2435 :                               pusht 
(1)   69/    2435 : [69]                       endif
(1)   69/    2435 : (MACRO)                       pusht HL
(1)   69/    2435 : =>FALSE                   if  (upstring("HL")=="AF") || (upstring("HL")=="BC") 
(1)   69/    2435 :                             push HL
(1)   69/    2435 : =>TRUE                    elseif (upstring("HL")=="DE") || (upstring("HL")=="HL") 
(1)   69/    2435 : E5                          push HL
(1)   69/    2436 : =>FALSE                   elseif (upstring("HL")=="IX") || (upstring("HL")=="IY")
(1)   69/    2436 :                             push HL
(1)   69/    2436 : =>FALSE                   elseif (upstring("HL")=="SP")
(1)   69/    2436 :                             ld hl,(old_sp)
(1)   69/    2436 :                             push hl
(1)   69/    2436 :                             ld hl,(pushls)
(1)   69/    2436 : =>FALSE                   elseif strstr("HL","(") <> -1
(1)   69/    2436 :                             if strstr(upstring("HL"),"(SP)") <> -1
(1)   69/    2436 :                                ld hl,(old_sp)
(1)   69/    2436 :                                push af
(1)   69/    2436 :                                ld a,(hl)
(1)   69/    2436 :                                inc hl
(1)   69/    2436 :                                ld h,(hl)
(1)   69/    2436 :                                ld l,a
(1)   69/    2436 :                                pop af
(1)   69/    2436 :                                push hl
(1)   69/    2436 :                                ld hl,(pushls)          
(1)   69/    2436 :                             else
(1)   69/    2436 :                                push8b HL
(1)   69/    2436 : [69]                        endif
(1)   69/    2436 : =>FALSE                   elseif (upstring("HL")=="A") 
(1)   69/    2436 :                             push8b HL
(1)   69/    2436 : =>FALSE                   elseif (upstring("HL")=="B")   || (upstring("HL")=="C") 
(1)   69/    2436 :                             push8b HL
(1)   69/    2436 : =>FALSE                   elseif (upstring("HL")=="D")   || (upstring("HL")=="E") 
(1)   69/    2436 :                             push8b HL
(1)   69/    2436 : =>FALSE                   elseif (upstring("HL")=="H")   || (upstring("HL")=="L") 
(1)   69/    2436 :                             push8b HL
(1)   69/    2436 : =>FALSE                   elseif (upstring("HL")=="IYH") || (upstring("HL")=="IHL")
(1)   69/    2436 :                             push8b HL
(1)   69/    2436 : =>FALSE                   elseif (upstring("HL")=="IYH") || (upstring("HL")=="IHL") 
(1)   69/    2436 :                             push8b HL
(1)   69/    2436 : =>FALSE                   else              
(1)   69/    2436 :                             ld hl,HL
(1)   69/    2436 :                             push hl
(1)   69/    2436 :                             ld hl,(pushls)
(1)   69/    2436 : [69]                      endif
(1)   69/    2436 : [69]                       endif
(1)   69/    2436 : (MACRO)                       pusht A
(1)   69/    2436 : =>FALSE                   if  (upstring("A")=="AF") || (upstring("A")=="BC") 
(1)   69/    2436 :                             push A
(1)   69/    2436 : =>FALSE                   elseif (upstring("A")=="DE") || (upstring("A")=="HL") 
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 108 - 8/12/2011 20:51:50


(1)   69/    2436 :                             push A
(1)   69/    2436 : =>FALSE                   elseif (upstring("A")=="IX") || (upstring("A")=="IY")
(1)   69/    2436 :                             push A
(1)   69/    2436 : =>FALSE                   elseif (upstring("A")=="SP")
(1)   69/    2436 :                             ld hl,(old_sp)
(1)   69/    2436 :                             push hl
(1)   69/    2436 :                             ld hl,(pushls)
(1)   69/    2436 : =>FALSE                   elseif strstr("A","(") <> -1
(1)   69/    2436 :                             if strstr(upstring("A"),"(SP)") <> -1
(1)   69/    2436 :                                ld hl,(old_sp)
(1)   69/    2436 :                                push af
(1)   69/    2436 :                                ld a,(hl)
(1)   69/    2436 :                                inc hl
(1)   69/    2436 :                                ld h,(hl)
(1)   69/    2436 :                                ld l,a
(1)   69/    2436 :                                pop af
(1)   69/    2436 :                                push hl
(1)   69/    2436 :                                ld hl,(pushls)          
(1)   69/    2436 :                             else
(1)   69/    2436 :                                push8b A
(1)   69/    2436 : [69]                        endif
(1)   69/    2436 : =>TRUE                    elseif (upstring("A")=="A") 
(1)   69/    2436 : (MACRO)                     push8b A
(1)   69/    2436 : F5                          push af
(1)   69/    2437 : 7F                          ld a,A  
(1)   69/    2438 : 6F                          ld l,a
(1)   69/    2439 : F1                          pop af
(1)   69/    243A : 26 00                       ld h,0
(1)   69/    243C : E5                          push hl
(1)   69/    243D : 2A 11 24                    ld hl,(pushls)
(1)   69/    2440 : =>FALSE                   elseif (upstring("A")=="B")   || (upstring("A")=="C") 
(1)   69/    2440 :                             push8b A
(1)   69/    2440 : =>FALSE                   elseif (upstring("A")=="D")   || (upstring("A")=="E") 
(1)   69/    2440 :                             push8b A
(1)   69/    2440 : =>FALSE                   elseif (upstring("A")=="H")   || (upstring("A")=="L") 
(1)   69/    2440 :                             push8b A
(1)   69/    2440 : =>FALSE                   elseif (upstring("A")=="IYH") || (upstring("A")=="IHL")
(1)   69/    2440 :                             push8b A
(1)   69/    2440 : =>FALSE                   elseif (upstring("A")=="IYH") || (upstring("A")=="IHL") 
(1)   69/    2440 :                             push8b A
(1)   69/    2440 : =>FALSE                   else              
(1)   69/    2440 :                             ld hl,A
(1)   69/    2440 :                             push hl
(1)   69/    2440 :                             ld hl,(pushls)
(1)   69/    2440 : [69]                      endif
(1)   69/    2440 : [69]                       endif
(1)   69/    2440 : (MACRO)                       pusht (SP)
(1)   69/    2440 : =>FALSE                   if  (upstring("(SP)")=="AF") || (upstring("(SP)")=="BC") 
(1)   69/    2440 :                             push (SP)
(1)   69/    2440 : =>FALSE                   elseif (upstring("(SP)")=="DE") || (upstring("(SP)")=="HL") 
(1)   69/    2440 :                             push (SP)
(1)   69/    2440 : =>FALSE                   elseif (upstring("(SP)")=="IX") || (upstring("(SP)")=="IY")
(1)   69/    2440 :                             push (SP)
(1)   69/    2440 : =>FALSE                   elseif (upstring("(SP)")=="SP")
(1)   69/    2440 :                             ld hl,(old_sp)
(1)   69/    2440 :                             push hl
(1)   69/    2440 :                             ld hl,(pushls)
(1)   69/    2440 : =>TRUE                    elseif strstr("(SP)","(") <> -1
(1)   69/    2440 : =>TRUE                      if strstr(upstring("(SP)"),"(SP)") <> -1
(1)   69/    2440 : 2A 0F 24                       ld hl,(old_sp)
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 109 - 8/12/2011 20:51:50


(1)   69/    2443 : F5                             push af
(1)   69/    2444 : 7E                             ld a,(hl)
(1)   69/    2445 : 23                             inc hl
(1)   69/    2446 : 66                             ld h,(hl)
(1)   69/    2447 : 6F                             ld l,a
(1)   69/    2448 : F1                             pop af
(1)   69/    2449 : E5                             push hl
(1)   69/    244A : 2A 11 24                       ld hl,(pushls)          
(1)   69/    244D : =>FALSE                     else
(1)   69/    244D :                                push8b (SP)
(1)   69/    244D : [69]                        endif
(1)   69/    244D : =>FALSE                   elseif (upstring("(SP)")=="A") 
(1)   69/    244D :                             push8b (SP)
(1)   69/    244D : =>FALSE                   elseif (upstring("(SP)")=="B")   || (upstring("(SP)")=="C") 
(1)   69/    244D :                             push8b (SP)
(1)   69/    244D : =>FALSE                   elseif (upstring("(SP)")=="D")   || (upstring("(SP)")=="E") 
(1)   69/    244D :                             push8b (SP)
(1)   69/    244D : =>FALSE                   elseif (upstring("(SP)")=="H")   || (upstring("(SP)")=="L") 
(1)   69/    244D :                             push8b (SP)
(1)   69/    244D : =>FALSE                   elseif (upstring("(SP)")=="IYH") || (upstring("(SP)")=="IHL")
(1)   69/    244D :                             push8b (SP)
(1)   69/    244D : =>FALSE                   elseif (upstring("(SP)")=="IYH") || (upstring("(SP)")=="IHL") 
(1)   69/    244D :                             push8b (SP)
(1)   69/    244D : =>FALSE                   else              
(1)   69/    244D :                             ld hl,(SP)
(1)   69/    244D :                             push hl
(1)   69/    244D :                             ld hl,(pushls)
(1)   69/    244D : [69]                      endif
(1)   69/    244D : [69]                       endif
(1)   69/    244D : 21 CF 23                        ld hl,cad
(1)   69/    2450 : CD DE 18                        call prt_d
(1)   69/    2453 :                     
(1)   69/    2453 : 2A 0D 24                        ld hl,(r_sp)
(1)   69/    2456 : F9                              ld sp,hl    
(1)   69/    2457 :                     
(1)   69/    2457 : 3A DD 18                        ld a,(prt_di) 
(1)   69/    245A : CB 57                           bit 2,a
(1)   69/    245C : 28 01                           jr z,+
(1)   69/    245E : FB                              ei          ; Restauramos estado de las interrupciones
(1)   69/    245F :                     
(1)   69/    245F : F1                  +           pop af
(1)   69/    2460 : C1                              pop bc
(1)   69/    2461 : D1                              pop de
(1)   69/    2462 : E1                              pop hl      
(1)   69/    2463 : [69]                          endif
(1)   69/    2463 : [69]                        endif
(1)   70/    2463 :                     	
(1)   71/    2463 :                     	
(1)   72/    2463 : CD 44 39            	call	fileopen	
(1)   73/    2466 : 11 00 C0            	ld	de,DmaHigh
(1)   74/    2469 : 21 00 20            	ld	hl,SizeDma	; Esto hay que cambiarlo para ponerlo a un valor mas pequeo
(1)   75/    246C : CD 64 39            	call    readfile	
(1)   76/    246F : CD 74 39            	call	closefile
(1)   77/    2472 :                     
(1)   78/    2472 : F3                  	di
(1)   79/    2473 : CD 0D 23            	call	PutPageD
(1)   80/    2476 : 21 00 C0            	ld	hl,DmaHigh	
(1)   81/    2479 : 11 00 A0            	ld	de,SongAct 
(1)   82/    247C : (MACRO)             	assert "Pila=%p Copiando de %d:%p a %d:%p\n",(sp),(PageM),hl,3,de
(1)   82/    247C : =>DEFINED                   ifdef DEBUG
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 110 - 8/12/2011 20:51:50


(1)   82/    247C :                             
(1)   82/    247C : =>TRUE                        if "Pila=%p Copiando de %d:%p a %d:%p\n" <> ""
(1)   82/    247C : C3 A8 24                        jp next          
(1)   82/    247F : 50 69 6C 61 3D 25   cad:        db "Pila=%p Copiando de %d:%p a %d:%p\n",0
                    70 20 43 6F 70 69 
                    61 6E 64 6F 20 64 
                    65 20 25 64 3A 25 
                    70 20 61 20 25 64 
                    3A 25 70 0A 00 
(1)   82/    24A2 : 00 00               r_sp:       dw 0                
(1)   82/    24A4 : 00 00               old_sp:     dw 0
(1)   82/    24A6 : 00 00               pushls:     dw 0
(1)   82/    24A8 :                     
(1)   82/    24A8 :                                             
(1)   82/    24A8 :                     next:               
(1)   82/    24A8 : E5                              push hl    
(1)   82/    24A9 : 21 FA FF                        ld hl,-6
(1)   82/    24AC : 39                              add hl,sp
(1)   82/    24AD : 22 A2 24                        ld (r_sp),hl
(1)   82/    24B0 : 21 02 00                        ld hl,2
(1)   82/    24B3 : 39                              add hl,sp
(1)   82/    24B4 : 22 A4 24                        ld (old_sp),hl
(1)   82/    24B7 :                     
(1)   82/    24B7 : F5                              push af
(1)   82/    24B8 : ED 5F                           ld a,r              ; Salvar el estado de las interrupciones
(1)   82/    24BA : F5                              push af
(1)   82/    24BB : E1                              pop hl
(1)   82/    24BC : 7D                              ld a,l
(1)   82/    24BD : 32 DD 18                        ld (prt_di),a           
(1)   82/    24C0 : F1                              pop af
(1)   82/    24C1 : E1                              pop hl
(1)   82/    24C2 : F3                              di
(1)   82/    24C3 :                                      
(1)   82/    24C3 : E5                              push hl
(1)   82/    24C4 : D5                              push de
(1)   82/    24C5 : C5                              push bc
(1)   82/    24C6 : F5                              push af
(1)   82/    24C7 : 22 A6 24                        ld (pushls),hl
(1)   82/    24CA :                                 shift
(1)   82/    24CA : (MACRO)                         pushlist (SP),(PAGEM),HL,3,DE
(1)   82/    24CA : =>TRUE                     if "(SP)" <> ""
(1)   82/    24CA : (MACRO)                       pushlist (PAGEM),HL,3,DE
(1)   82/    24CA : =>TRUE                     if "(PAGEM)" <> ""
(1)   82/    24CA : (MACRO)                       pushlist HL,3,DE
(1)   82/    24CA : =>TRUE                     if "HL" <> ""
(1)   82/    24CA : (MACRO)                       pushlist 3,DE
(1)   82/    24CA : =>TRUE                     if "3" <> ""
(1)   82/    24CA : (MACRO)                       pushlist DE
(1)   82/    24CA : =>TRUE                     if "DE" <> ""
(1)   82/    24CA : (MACRO)                       pushlist 
(1)   82/    24CA : =>FALSE                    if "" <> ""
(1)   82/    24CA :                               pushlist 
(1)   82/    24CA :                               pusht 
(1)   82/    24CA : [82]                       endif
(1)   82/    24CA : (MACRO)                       pusht DE
(1)   82/    24CA : =>FALSE                   if  (upstring("DE")=="AF") || (upstring("DE")=="BC") 
(1)   82/    24CA :                             push DE
(1)   82/    24CA : =>TRUE                    elseif (upstring("DE")=="DE") || (upstring("DE")=="HL") 
(1)   82/    24CA : D5                          push DE
(1)   82/    24CB : =>FALSE                   elseif (upstring("DE")=="IX") || (upstring("DE")=="IY")
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 111 - 8/12/2011 20:51:50


(1)   82/    24CB :                             push DE
(1)   82/    24CB : =>FALSE                   elseif (upstring("DE")=="SP")
(1)   82/    24CB :                             ld hl,(old_sp)
(1)   82/    24CB :                             push hl
(1)   82/    24CB :                             ld hl,(pushls)
(1)   82/    24CB : =>FALSE                   elseif strstr("DE","(") <> -1
(1)   82/    24CB :                             if strstr(upstring("DE"),"(SP)") <> -1
(1)   82/    24CB :                                ld hl,(old_sp)
(1)   82/    24CB :                                push af
(1)   82/    24CB :                                ld a,(hl)
(1)   82/    24CB :                                inc hl
(1)   82/    24CB :                                ld h,(hl)
(1)   82/    24CB :                                ld l,a
(1)   82/    24CB :                                pop af
(1)   82/    24CB :                                push hl
(1)   82/    24CB :                                ld hl,(pushls)          
(1)   82/    24CB :                             else
(1)   82/    24CB :                                push8b DE
(1)   82/    24CB : [82]                        endif
(1)   82/    24CB : =>FALSE                   elseif (upstring("DE")=="A") 
(1)   82/    24CB :                             push8b DE
(1)   82/    24CB : =>FALSE                   elseif (upstring("DE")=="B")   || (upstring("DE")=="C") 
(1)   82/    24CB :                             push8b DE
(1)   82/    24CB : =>FALSE                   elseif (upstring("DE")=="D")   || (upstring("DE")=="E") 
(1)   82/    24CB :                             push8b DE
(1)   82/    24CB : =>FALSE                   elseif (upstring("DE")=="H")   || (upstring("DE")=="L") 
(1)   82/    24CB :                             push8b DE
(1)   82/    24CB : =>FALSE                   elseif (upstring("DE")=="IYH") || (upstring("DE")=="IHL")
(1)   82/    24CB :                             push8b DE
(1)   82/    24CB : =>FALSE                   elseif (upstring("DE")=="IYH") || (upstring("DE")=="IHL") 
(1)   82/    24CB :                             push8b DE
(1)   82/    24CB : =>FALSE                   else              
(1)   82/    24CB :                             ld hl,DE
(1)   82/    24CB :                             push hl
(1)   82/    24CB :                             ld hl,(pushls)
(1)   82/    24CB : [82]                      endif
(1)   82/    24CB : [82]                       endif
(1)   82/    24CB : (MACRO)                       pusht 3
(1)   82/    24CB : =>FALSE                   if  (upstring("3")=="AF") || (upstring("3")=="BC") 
(1)   82/    24CB :                             push 3
(1)   82/    24CB : =>FALSE                   elseif (upstring("3")=="DE") || (upstring("3")=="HL") 
(1)   82/    24CB :                             push 3
(1)   82/    24CB : =>FALSE                   elseif (upstring("3")=="IX") || (upstring("3")=="IY")
(1)   82/    24CB :                             push 3
(1)   82/    24CB : =>FALSE                   elseif (upstring("3")=="SP")
(1)   82/    24CB :                             ld hl,(old_sp)
(1)   82/    24CB :                             push hl
(1)   82/    24CB :                             ld hl,(pushls)
(1)   82/    24CB : =>FALSE                   elseif strstr("3","(") <> -1
(1)   82/    24CB :                             if strstr(upstring("3"),"(SP)") <> -1
(1)   82/    24CB :                                ld hl,(old_sp)
(1)   82/    24CB :                                push af
(1)   82/    24CB :                                ld a,(hl)
(1)   82/    24CB :                                inc hl
(1)   82/    24CB :                                ld h,(hl)
(1)   82/    24CB :                                ld l,a
(1)   82/    24CB :                                pop af
(1)   82/    24CB :                                push hl
(1)   82/    24CB :                                ld hl,(pushls)          
(1)   82/    24CB :                             else
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 112 - 8/12/2011 20:51:50


(1)   82/    24CB :                                push8b 3
(1)   82/    24CB : [82]                        endif
(1)   82/    24CB : =>FALSE                   elseif (upstring("3")=="A") 
(1)   82/    24CB :                             push8b 3
(1)   82/    24CB : =>FALSE                   elseif (upstring("3")=="B")   || (upstring("3")=="C") 
(1)   82/    24CB :                             push8b 3
(1)   82/    24CB : =>FALSE                   elseif (upstring("3")=="D")   || (upstring("3")=="E") 
(1)   82/    24CB :                             push8b 3
(1)   82/    24CB : =>FALSE                   elseif (upstring("3")=="H")   || (upstring("3")=="L") 
(1)   82/    24CB :                             push8b 3
(1)   82/    24CB : =>FALSE                   elseif (upstring("3")=="IYH") || (upstring("3")=="IHL")
(1)   82/    24CB :                             push8b 3
(1)   82/    24CB : =>FALSE                   elseif (upstring("3")=="IYH") || (upstring("3")=="IHL") 
(1)   82/    24CB :                             push8b 3
(1)   82/    24CB : =>TRUE                    else              
(1)   82/    24CB : 21 03 00                    ld hl,3
(1)   82/    24CE : E5                          push hl
(1)   82/    24CF : 2A A6 24                    ld hl,(pushls)
(1)   82/    24D2 : [82]                      endif
(1)   82/    24D2 : [82]                       endif
(1)   82/    24D2 : (MACRO)                       pusht HL
(1)   82/    24D2 : =>FALSE                   if  (upstring("HL")=="AF") || (upstring("HL")=="BC") 
(1)   82/    24D2 :                             push HL
(1)   82/    24D2 : =>TRUE                    elseif (upstring("HL")=="DE") || (upstring("HL")=="HL") 
(1)   82/    24D2 : E5                          push HL
(1)   82/    24D3 : =>FALSE                   elseif (upstring("HL")=="IX") || (upstring("HL")=="IY")
(1)   82/    24D3 :                             push HL
(1)   82/    24D3 : =>FALSE                   elseif (upstring("HL")=="SP")
(1)   82/    24D3 :                             ld hl,(old_sp)
(1)   82/    24D3 :                             push hl
(1)   82/    24D3 :                             ld hl,(pushls)
(1)   82/    24D3 : =>FALSE                   elseif strstr("HL","(") <> -1
(1)   82/    24D3 :                             if strstr(upstring("HL"),"(SP)") <> -1
(1)   82/    24D3 :                                ld hl,(old_sp)
(1)   82/    24D3 :                                push af
(1)   82/    24D3 :                                ld a,(hl)
(1)   82/    24D3 :                                inc hl
(1)   82/    24D3 :                                ld h,(hl)
(1)   82/    24D3 :                                ld l,a
(1)   82/    24D3 :                                pop af
(1)   82/    24D3 :                                push hl
(1)   82/    24D3 :                                ld hl,(pushls)          
(1)   82/    24D3 :                             else
(1)   82/    24D3 :                                push8b HL
(1)   82/    24D3 : [82]                        endif
(1)   82/    24D3 : =>FALSE                   elseif (upstring("HL")=="A") 
(1)   82/    24D3 :                             push8b HL
(1)   82/    24D3 : =>FALSE                   elseif (upstring("HL")=="B")   || (upstring("HL")=="C") 
(1)   82/    24D3 :                             push8b HL
(1)   82/    24D3 : =>FALSE                   elseif (upstring("HL")=="D")   || (upstring("HL")=="E") 
(1)   82/    24D3 :                             push8b HL
(1)   82/    24D3 : =>FALSE                   elseif (upstring("HL")=="H")   || (upstring("HL")=="L") 
(1)   82/    24D3 :                             push8b HL
(1)   82/    24D3 : =>FALSE                   elseif (upstring("HL")=="IYH") || (upstring("HL")=="IHL")
(1)   82/    24D3 :                             push8b HL
(1)   82/    24D3 : =>FALSE                   elseif (upstring("HL")=="IYH") || (upstring("HL")=="IHL") 
(1)   82/    24D3 :                             push8b HL
(1)   82/    24D3 : =>FALSE                   else              
(1)   82/    24D3 :                             ld hl,HL
(1)   82/    24D3 :                             push hl
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 113 - 8/12/2011 20:51:50


(1)   82/    24D3 :                             ld hl,(pushls)
(1)   82/    24D3 : [82]                      endif
(1)   82/    24D3 : [82]                       endif
(1)   82/    24D3 : (MACRO)                       pusht (PAGEM)
(1)   82/    24D3 : =>FALSE                   if  (upstring("(PAGEM)")=="AF") || (upstring("(PAGEM)")=="BC") 
(1)   82/    24D3 :                             push (PAGEM)
(1)   82/    24D3 : =>FALSE                   elseif (upstring("(PAGEM)")=="DE") || (upstring("(PAGEM)")=="HL") 
(1)   82/    24D3 :                             push (PAGEM)
(1)   82/    24D3 : =>FALSE                   elseif (upstring("(PAGEM)")=="IX") || (upstring("(PAGEM)")=="IY")
(1)   82/    24D3 :                             push (PAGEM)
(1)   82/    24D3 : =>FALSE                   elseif (upstring("(PAGEM)")=="SP")
(1)   82/    24D3 :                             ld hl,(old_sp)
(1)   82/    24D3 :                             push hl
(1)   82/    24D3 :                             ld hl,(pushls)
(1)   82/    24D3 : =>TRUE                    elseif strstr("(PAGEM)","(") <> -1
(1)   82/    24D3 : =>FALSE                     if strstr(upstring("(PAGEM)"),"(SP)") <> -1
(1)   82/    24D3 :                                ld hl,(old_sp)
(1)   82/    24D3 :                                push af
(1)   82/    24D3 :                                ld a,(hl)
(1)   82/    24D3 :                                inc hl
(1)   82/    24D3 :                                ld h,(hl)
(1)   82/    24D3 :                                ld l,a
(1)   82/    24D3 :                                pop af
(1)   82/    24D3 :                                push hl
(1)   82/    24D3 :                                ld hl,(pushls)          
(1)   82/    24D3 : =>TRUE                      else
(1)   82/    24D3 : (MACRO)                        push8b (PAGEM)
(1)   82/    24D3 : F5                          push af
(1)   82/    24D4 : 3A 22 23                    ld a,(PAGEM)  
(1)   82/    24D7 : 6F                          ld l,a
(1)   82/    24D8 : F1                          pop af
(1)   82/    24D9 : 26 00                       ld h,0
(1)   82/    24DB : E5                          push hl
(1)   82/    24DC : 2A A6 24                    ld hl,(pushls)
(1)   82/    24DF : [82]                        endif
(1)   82/    24DF : =>FALSE                   elseif (upstring("(PAGEM)")=="A") 
(1)   82/    24DF :                             push8b (PAGEM)
(1)   82/    24DF : =>FALSE                   elseif (upstring("(PAGEM)")=="B")   || (upstring("(PAGEM)")=="C") 
(1)   82/    24DF :                             push8b (PAGEM)
(1)   82/    24DF : =>FALSE                   elseif (upstring("(PAGEM)")=="D")   || (upstring("(PAGEM)")=="E") 
(1)   82/    24DF :                             push8b (PAGEM)
(1)   82/    24DF : =>FALSE                   elseif (upstring("(PAGEM)")=="H")   || (upstring("(PAGEM)")=="L") 
(1)   82/    24DF :                             push8b (PAGEM)
(1)   82/    24DF : =>FALSE                   elseif (upstring("(PAGEM)")=="IYH") || (upstring("(PAGEM)")=="IHL")
(1)   82/    24DF :                             push8b (PAGEM)
(1)   82/    24DF : =>FALSE                   elseif (upstring("(PAGEM)")=="IYH") || (upstring("(PAGEM)")=="IHL") 
(1)   82/    24DF :                             push8b (PAGEM)
(1)   82/    24DF : =>FALSE                   else              
(1)   82/    24DF :                             ld hl,(PAGEM)
(1)   82/    24DF :                             push hl
(1)   82/    24DF :                             ld hl,(pushls)
(1)   82/    24DF : [82]                      endif
(1)   82/    24DF : [82]                       endif
(1)   82/    24DF : (MACRO)                       pusht (SP)
(1)   82/    24DF : =>FALSE                   if  (upstring("(SP)")=="AF") || (upstring("(SP)")=="BC") 
(1)   82/    24DF :                             push (SP)
(1)   82/    24DF : =>FALSE                   elseif (upstring("(SP)")=="DE") || (upstring("(SP)")=="HL") 
(1)   82/    24DF :                             push (SP)
(1)   82/    24DF : =>FALSE                   elseif (upstring("(SP)")=="IX") || (upstring("(SP)")=="IY")
(1)   82/    24DF :                             push (SP)
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 114 - 8/12/2011 20:51:50


(1)   82/    24DF : =>FALSE                   elseif (upstring("(SP)")=="SP")
(1)   82/    24DF :                             ld hl,(old_sp)
(1)   82/    24DF :                             push hl
(1)   82/    24DF :                             ld hl,(pushls)
(1)   82/    24DF : =>TRUE                    elseif strstr("(SP)","(") <> -1
(1)   82/    24DF : =>TRUE                      if strstr(upstring("(SP)"),"(SP)") <> -1
(1)   82/    24DF : 2A A4 24                       ld hl,(old_sp)
(1)   82/    24E2 : F5                             push af
(1)   82/    24E3 : 7E                             ld a,(hl)
(1)   82/    24E4 : 23                             inc hl
(1)   82/    24E5 : 66                             ld h,(hl)
(1)   82/    24E6 : 6F                             ld l,a
(1)   82/    24E7 : F1                             pop af
(1)   82/    24E8 : E5                             push hl
(1)   82/    24E9 : 2A A6 24                       ld hl,(pushls)          
(1)   82/    24EC : =>FALSE                     else
(1)   82/    24EC :                                push8b (SP)
(1)   82/    24EC : [82]                        endif
(1)   82/    24EC : =>FALSE                   elseif (upstring("(SP)")=="A") 
(1)   82/    24EC :                             push8b (SP)
(1)   82/    24EC : =>FALSE                   elseif (upstring("(SP)")=="B")   || (upstring("(SP)")=="C") 
(1)   82/    24EC :                             push8b (SP)
(1)   82/    24EC : =>FALSE                   elseif (upstring("(SP)")=="D")   || (upstring("(SP)")=="E") 
(1)   82/    24EC :                             push8b (SP)
(1)   82/    24EC : =>FALSE                   elseif (upstring("(SP)")=="H")   || (upstring("(SP)")=="L") 
(1)   82/    24EC :                             push8b (SP)
(1)   82/    24EC : =>FALSE                   elseif (upstring("(SP)")=="IYH") || (upstring("(SP)")=="IHL")
(1)   82/    24EC :                             push8b (SP)
(1)   82/    24EC : =>FALSE                   elseif (upstring("(SP)")=="IYH") || (upstring("(SP)")=="IHL") 
(1)   82/    24EC :                             push8b (SP)
(1)   82/    24EC : =>FALSE                   else              
(1)   82/    24EC :                             ld hl,(SP)
(1)   82/    24EC :                             push hl
(1)   82/    24EC :                             ld hl,(pushls)
(1)   82/    24EC : [82]                      endif
(1)   82/    24EC : [82]                       endif
(1)   82/    24EC : 21 7F 24                        ld hl,cad
(1)   82/    24EF : CD DE 18                        call prt_d
(1)   82/    24F2 :                     
(1)   82/    24F2 : 2A A2 24                        ld hl,(r_sp)
(1)   82/    24F5 : F9                              ld sp,hl    
(1)   82/    24F6 :                     
(1)   82/    24F6 : 3A DD 18                        ld a,(prt_di) 
(1)   82/    24F9 : CB 57                           bit 2,a
(1)   82/    24FB : 28 01                           jr z,+
(1)   82/    24FD : FB                              ei          ; Restauramos estado de las interrupciones
(1)   82/    24FE :                     
(1)   82/    24FE : F1                  +           pop af
(1)   82/    24FF : C1                              pop bc
(1)   82/    2500 : D1                              pop de
(1)   82/    2501 : E1                              pop hl      
(1)   82/    2502 : [82]                          endif
(1)   82/    2502 : [82]                        endif
(1)   83/    2502 : 01 00 20            	ld	bc,SizeDma
(1)   84/    2505 : ED B0               	ldir
(1)   85/    2507 : FB                  	ei
(1)   86/    2508 :                     			
(1)   87/    2508 : CD 20 2B                    call	put_vint
(1)   88/    250B : CD FF 37            	call	setvdp_li
(1)   89/    250E : C9                  	ret
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 115 - 8/12/2011 20:51:50


(1)   90/    250F :                     
(1)   91/    250F :                     
(1)   92/    250F : 00                  PageMnum: db 0
(1)   93/    2510 :                     		
(1)   94/    2510 : 00 58 41 4B 20 20   Songl:	db	0,"XAK     MCM"	
                    20 20 20 4D 43 4D 
(1)   95/    251C :                     	
(1)   96/    251C :                     	
(1)   97/    251C :                     	
(1)   98/    251C :                     	
(1)   99/    251C :                     							
(1)  100/    251C :                     ;NOMBRE: INIT_SYS
(1)  101/    251C :                     ;OBJETIVO: Iniciar el sistema para obtener la memoria necesaria y
(1)  102/    251C :                     ;	   poder usar directamente los puertos del mapper
(1)  103/    251C :                     
(1)  104/    251C :                     INIT_SYS:	
(1)  105/    251C : 0E 6F               	LD	C,6Fh
(1)  106/    251E : CD 05 00            	CALL	BDOS
(1)  107/    2521 : B7                  	OR	A
(1)  108/    2522 : 20 09               	JR	NZ,SYSDOS1
(1)  109/    2524 : 78                  	LD	A,B
(1)  110/    2525 : FE 02               	CP	2	
(1)  111/    2527 : CA AD 25            	JP	Z,SYSDOS2
(1)  112/    252A : D2 AD 25            	JP	NC,SYSDOS2
(1)  113/    252D :                     
(1)  114/    252D :                     SYSDOS1: 
(1)  115/    252D : (MACRO)             	assert "Detectado MSX-DOS 1\n"
(1)  115/    252D : =>DEFINED                   ifdef DEBUG
(1)  115/    252D :                             
(1)  115/    252D : =>TRUE                        if "Detectado MSX-DOS 1\n" <> ""
(1)  115/    252D : C3 4B 25                        jp next          
(1)  115/    2530 : 44 65 74 65 63 74   cad:        db "Detectado MSX-DOS 1\n",0
                    61 64 6F 20 4D 53 
                    58 2D 44 4F 53 20 
                    31 0A 00 
(1)  115/    2545 : 00 00               r_sp:       dw 0                
(1)  115/    2547 : 00 00               old_sp:     dw 0
(1)  115/    2549 : 00 00               pushls:     dw 0
(1)  115/    254B :                     
(1)  115/    254B :                                             
(1)  115/    254B :                     next:               
(1)  115/    254B : E5                              push hl    
(1)  115/    254C : 21 FA FF                        ld hl,-6
(1)  115/    254F : 39                              add hl,sp
(1)  115/    2550 : 22 45 25                        ld (r_sp),hl
(1)  115/    2553 : 21 02 00                        ld hl,2
(1)  115/    2556 : 39                              add hl,sp
(1)  115/    2557 : 22 47 25                        ld (old_sp),hl
(1)  115/    255A :                     
(1)  115/    255A : F5                              push af
(1)  115/    255B : ED 5F                           ld a,r              ; Salvar el estado de las interrupciones
(1)  115/    255D : F5                              push af
(1)  115/    255E : E1                              pop hl
(1)  115/    255F : 7D                              ld a,l
(1)  115/    2560 : 32 DD 18                        ld (prt_di),a           
(1)  115/    2563 : F1                              pop af
(1)  115/    2564 : E1                              pop hl
(1)  115/    2565 : F3                              di
(1)  115/    2566 :                                      
(1)  115/    2566 : E5                              push hl
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 116 - 8/12/2011 20:51:50


(1)  115/    2567 : D5                              push de
(1)  115/    2568 : C5                              push bc
(1)  115/    2569 : F5                              push af
(1)  115/    256A : 22 49 25                        ld (pushls),hl
(1)  115/    256D :                                 shift
(1)  115/    256D : (MACRO)                         pushlist 
(1)  115/    256D : =>FALSE                    if "" <> ""
(1)  115/    256D :                               pushlist 
(1)  115/    256D :                               pusht 
(1)  115/    256D : [115]                      endif
(1)  115/    256D : 21 30 25                        ld hl,cad
(1)  115/    2570 : CD DE 18                        call prt_d
(1)  115/    2573 :                     
(1)  115/    2573 : 2A 45 25                        ld hl,(r_sp)
(1)  115/    2576 : F9                              ld sp,hl    
(1)  115/    2577 :                     
(1)  115/    2577 : 3A DD 18                        ld a,(prt_di) 
(1)  115/    257A : CB 57                           bit 2,a
(1)  115/    257C : 28 01                           jr z,+
(1)  115/    257E : FB                              ei          ; Restauramos estado de las interrupciones
(1)  115/    257F :                     
(1)  115/    257F : F1                  +           pop af
(1)  115/    2580 : C1                              pop bc
(1)  115/    2581 : D1                              pop de
(1)  115/    2582 : E1                              pop hl      
(1)  115/    2583 : [115]                         endif
(1)  115/    2583 : [115]                       endif
(1)  116/    2583 : F3                  	di
(1)  117/    2584 : 3E 04               	ld a,4
(1)  118/    2586 : 32 A8 25            	ld (seg_mc),a
(1)  119/    2589 : 3C                  	inc a
(1)  120/    258A : 32 AA 25            	ld (seg_gfx),a 
(1)  121/    258D :                     
(1)  122/    258D : 3A A8 25            	ld a,(seg_mc) 
(1)  123/    2590 : D3 FE               	out (PortM),a
(1)  124/    2592 : 21 1F 3B            	ld hl,MusicDrv
(1)  125/    2595 : 11 00 80            	ld de,AdrMusic
(1)  126/    2598 : 01 20 13            	ld bc,Fmcdrv-Imcdrv
(1)  127/    259B : ED B0               	ldir
(1)  128/    259D : 3E 01               	ld a,1	
(1)  129/    259F : 32 A6 25            	ld (seg_mp),a
(1)  130/    25A2 : D3 FE               	out (PortM),a	
(1)  131/    25A4 : FB                  	ei
(1)  132/    25A5 : C9                  	ret
(1)  133/    25A6 :                     	
(1)  134/    25A6 :                     
(1)  135/    25A6 :                     	
(1)  136/    25A6 : 00 00               seg_mp:	 db 0,0	
(1)  137/    25A8 : 00 00               seg_mc:	 db 0,0
(1)  138/    25AA : 00 00               seg_gfx: db 0,0	
(1)  139/    25AC : 00                  dosver:	 db 0
(1)  140/    25AD :                     	
(1)  141/    25AD :                     		
(1)  142/    25AD :                     SYSDOS2:
(1)  143/    25AD : (MACRO)             	assert "Detectado MSX-DOS 2\n"	
(1)  143/    25AD : =>DEFINED                   ifdef DEBUG
(1)  143/    25AD :                             
(1)  143/    25AD : =>TRUE                        if "Detectado MSX-DOS 2\n" <> ""
(1)  143/    25AD : C3 CB 25                        jp next          
(1)  143/    25B0 : 44 65 74 65 63 74   cad:        db "Detectado MSX-DOS 2\n",0
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 117 - 8/12/2011 20:51:50


                    61 64 6F 20 4D 53 
                    58 2D 44 4F 53 20 
                    32 0A 00 
(1)  143/    25C5 : 00 00               r_sp:       dw 0                
(1)  143/    25C7 : 00 00               old_sp:     dw 0
(1)  143/    25C9 : 00 00               pushls:     dw 0
(1)  143/    25CB :                     
(1)  143/    25CB :                                             
(1)  143/    25CB :                     next:               
(1)  143/    25CB : E5                              push hl    
(1)  143/    25CC : 21 FA FF                        ld hl,-6
(1)  143/    25CF : 39                              add hl,sp
(1)  143/    25D0 : 22 C5 25                        ld (r_sp),hl
(1)  143/    25D3 : 21 02 00                        ld hl,2
(1)  143/    25D6 : 39                              add hl,sp
(1)  143/    25D7 : 22 C7 25                        ld (old_sp),hl
(1)  143/    25DA :                     
(1)  143/    25DA : F5                              push af
(1)  143/    25DB : ED 5F                           ld a,r              ; Salvar el estado de las interrupciones
(1)  143/    25DD : F5                              push af
(1)  143/    25DE : E1                              pop hl
(1)  143/    25DF : 7D                              ld a,l
(1)  143/    25E0 : 32 DD 18                        ld (prt_di),a           
(1)  143/    25E3 : F1                              pop af
(1)  143/    25E4 : E1                              pop hl
(1)  143/    25E5 : F3                              di
(1)  143/    25E6 :                                      
(1)  143/    25E6 : E5                              push hl
(1)  143/    25E7 : D5                              push de
(1)  143/    25E8 : C5                              push bc
(1)  143/    25E9 : F5                              push af
(1)  143/    25EA : 22 C9 25                        ld (pushls),hl
(1)  143/    25ED :                                 shift
(1)  143/    25ED : (MACRO)                         pushlist 
(1)  143/    25ED : =>FALSE                    if "" <> ""
(1)  143/    25ED :                               pushlist 
(1)  143/    25ED :                               pusht 
(1)  143/    25ED : [143]                      endif
(1)  143/    25ED : 21 B0 25                        ld hl,cad
(1)  143/    25F0 : CD DE 18                        call prt_d
(1)  143/    25F3 :                     
(1)  143/    25F3 : 2A C5 25                        ld hl,(r_sp)
(1)  143/    25F6 : F9                              ld sp,hl    
(1)  143/    25F7 :                     
(1)  143/    25F7 : 3A DD 18                        ld a,(prt_di) 
(1)  143/    25FA : CB 57                           bit 2,a
(1)  143/    25FC : 28 01                           jr z,+
(1)  143/    25FE : FB                              ei          ; Restauramos estado de las interrupciones
(1)  143/    25FF :                     
(1)  143/    25FF : F1                  +           pop af
(1)  143/    2600 : C1                              pop bc
(1)  143/    2601 : D1                              pop de
(1)  143/    2602 : E1                              pop hl      
(1)  143/    2603 : [143]                         endif
(1)  143/    2603 : [143]                       endif
(1)  144/    2603 : 3A 20 FB            	ld a,(0fb20h)
(1)  145/    2606 : 0F                  	rrca	
(1)  146/    2607 :                     	
(1)  147/    2607 :                     ;;; ld a,EMEM
(1)  148/    2607 :                     ;;; call nc,panick
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 118 - 8/12/2011 20:51:50


(1)  149/    2607 :                     
(1)  150/    2607 : AF                  	xor a
(1)  151/    2608 : 11 02 04            	ld de,0402h
(1)  152/    260B : CD CA FF            	call EXTBIO
(1)  153/    260E :                     	
(1)  154/    260E : 11 6D 26            	ld de,ALL_SEG
(1)  155/    2611 : 01 30 00            	ld bc,30h
(1)  156/    2614 : ED B0               	ldir
(1)  157/    2616 :                     		
(1)  158/    2616 : 3E 01               	ld a,1
(1)  159/    2618 : 32 AC 25            	ld (dosver),a
(1)  160/    261B : AF                          xor a
(1)  161/    261C : 47                  	ld b,a
(1)  162/    261D : CD 6D 26            	call ALL_SEG
(1)  163/    2620 : 32 A8 25            	ld (seg_mc),a
(1)  164/    2623 : 08                  	ex af,af'
(1)  165/    2624 :                     
(1)  166/    2624 :                     	
(1)  167/    2624 :                     ;;; ld a,EMEM
(1)  168/    2624 :                     ;;; call c,panick
(1)  169/    2624 :                     		
(1)  170/    2624 : CD 94 26            	call FuncgM
(1)  171/    2627 : 32 A6 25            	ld (seg_mp),a		; reservo una pagina para las canciones
(1)  172/    262A :                     ;;; call FuncgM
(1)  173/    262A :                     ;;; ld (seg_gfx),a		; y otra para los graficos
(1)  174/    262A :                     	
(1)  175/    262A : 08                  	ex af,af'
(1)  176/    262B : F3                  	di
(1)  177/    262C : CD 91 26            	call FuncpM	
(1)  178/    262F : 21 1F 3B            	ld hl,MusicDrv
(1)  179/    2632 : 11 00 80            	ld de,AdrMusic
(1)  180/    2635 : 01 20 13            	ld bc,Fmcdrv-Imcdrv
(1)  181/    2638 : ED B0               	ldir
(1)  182/    263A : 3A A6 25            	ld a,(seg_mp)
(1)  183/    263D : CD 91 26            	call FuncpM		; Ahora parcheamos para poder usar el 
(1)  184/    2640 :                     				; mapper directamente
(1)  185/    2640 :                     				
(1)  186/    2640 : 21 00 C0            PATCH:	LD	HL,0C000h	;Start search adr.
(1)  187/    2643 : 01 FF 3F            	LD	BC,3FFFh	;$ of bytes to search
(1)  188/    2646 : 3E 3A               B1:	LD	A,3Ah	;1. byte to search for
(1)  189/    2648 : ED B1               	CPIR
(1)  190/    264A : 20 1F               	JR	NZ,FINI	;No more found
(1)  191/    264C : 23                  B3:	INC	HL
(1)  192/    264D : 7E                  	LD	A,(HL)
(1)  193/    264E : FE F2               	CP	0F2h	;F2xx adr ?
(1)  194/    2650 : 20 F4               	JR	NZ,B1	;No then try again
(1)  195/    2652 : 2B                  	DEC	HL	;Lo byte check.
(1)  196/    2653 : 7E                  	LD	A,(HL)
(1)  197/    2654 : FE C8               	CP	0C8h
(1)  198/    2656 : 38 EE               	JR	C,B1
(1)  199/    2658 : FE CB               	CP	0CBh
(1)  200/    265A : 30 EA               	JR	NC,B1
(1)  201/    265C : 2B                  FOUND:	DEC	HL
(1)  202/    265D : 36 DB               	LD	(HL),0DBh
(1)  203/    265F : 23                  	INC	HL
(1)  204/    2660 : 7E                  	LD	A,(HL)
(1)  205/    2661 : D6 C7               	SUB	0C7h
(1)  206/    2663 : C6 FC               	ADD	A,0FCh
(1)  207/    2665 : 77                  	LD	(HL),A
(1)  208/    2666 : 23                  	INC	HL
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 119 - 8/12/2011 20:51:50


(1)  209/    2667 : 36 00               	LD	(HL),0
(1)  210/    2669 : 18 DB               	JR	B1
(1)  211/    266B : FB                  FINI:	EI
(1)  212/    266C : C9                  	RET
(1)  213/    266D :                     
(1)  214/    266D :                     
(1)  215/    266D :                     	
(1)  216/    266D : C3 00 00            ALL_SEG:	jp 0
(1)  217/    2670 : C3 00 00            FRE_SEG:	jp 0
(1)  218/    2673 : C3 00 00            RD_SEG:		jp 0
(1)  219/    2676 : C3 00 00            WR_SEG:		jp 0
(1)  220/    2679 : C3 00 00            CAL_SEG:	jp 0
(1)  221/    267C : C3 00 00            CALLS:		jp 0
(1)  222/    267F : C3 00 00            PUT_PH:		jp 0
(1)  223/    2682 : C3 00 00            GET_PH:		jp 0
(1)  224/    2685 : C3 00 00            PUT_P0:		jp 0
(1)  225/    2688 : C3 00 00            GET_P0:		jp 0
(1)  226/    268B : C3 00 00            PUT_P1:		jp 0
(1)  227/    268E : C3 00 00            GET_P1:		jp 0
(1)  228/    2691 : C3 00 00            PUT_P2:		jp 0
(1)  229/    2694 : C3 00 00            GET_P2:		jp 0
(1)  230/    2697 : C3 00 00            PUT_P3:		jp 0
(1)  231/    269A : C3 00 00            GET_P3:		jp 0
(1)  232/    269D :                     		
(1)  233/    269D :                     
(1)  234/    269D :                     
(1)  235/    269D :                     	
(1)  236/    269D :                     	
(1)  237/    269D :                     	
(1)  238/    269D :                     			
(1)  239/    269D :                     ASK_OUT:	 
(1)  240/    269D : 3E 07               	LD	A,7
(1)  241/    269F : CD 3A 2D            	CALL	LEE_FILA_KB
(1)  242/    26A2 : CB 57               	BIT	2,A
(1)  243/    26A4 : C0                  	RET	NZ
(1)  244/    26A5 :                     
(1)  245/    26A5 : CD 96 38            SALIR:	CALL	FADE_OFF
(1)  246/    26A8 : CD 15 38            	CALL	RESVDP_LI
(1)  247/    26AB : CD 3E 2B            	CALL	RESTORE_INT
(1)  248/    26AE : AF                  	XOR	A
(1)  249/    26AF : CD 88 35            	CALL	INITSCR
(1)  250/    26B2 : 21 BF 37            	LD	HL,PAL_ODDYSEA
(1)  251/    26B5 : CD 34 36            	CALL	PUT_PAL
(1)  252/    26B8 : 3E 03               	LD	A,MC_INICHIPS	
(1)  253/    26BA : CD 7D 39            	CALL    MUSICC
(1)  254/    26BD : FB                  	EI
(1)  255/    26BE : ED 7B 25 01         	LD	SP,(STACK_TOP)
(1)  256/    26C2 : C9                  	RET
(1)  257/    26C3 :                     
(1)  258/    26C3 :                     
(1)  259/    26C3 :                     
(1)  260/    26C3 :                     
(1)  261/    26C3 :                     
(1)  262/    26C3 :                     ;;; Nombre: PutPageGfx
(1)  263/    26C3 :                     ;;; Objetivo: Emular paginas de 8k
(1)  264/    26C3 :                     ;;; Entrada: Pagina de gfx a colocar
(1)  265/    26C3 :                     
(1)  266/    26C3 :                     PutPageGfx:		
(1)  267/    26C3 : (MACRO)             	assert "Pila=%p PutPageGfx: Cambiando  %d por %d\n",(sp),(PageGfxnum),a
(1)  267/    26C3 : =>DEFINED                   ifdef DEBUG
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 120 - 8/12/2011 20:51:50


(1)  267/    26C3 :                             
(1)  267/    26C3 : =>TRUE                        if "Pila=%p PutPageGfx: Cambiando  %d por %d\n" <> ""
(1)  267/    26C3 : C3 F6 26                        jp next          
(1)  267/    26C6 : 50 69 6C 61 3D 25   cad:        db "Pila=%p PutPageGfx: Cambiando  %d por %d\n",0
                    70 20 50 75 74 50 
                    61 67 65 47 66 78 
                    3A 20 43 61 6D 62 
                    69 61 6E 64 6F 20 
                    20 25 64 20 70 6F 
                    72 20 25 64 0A 00 
(1)  267/    26F0 : 00 00               r_sp:       dw 0                
(1)  267/    26F2 : 00 00               old_sp:     dw 0
(1)  267/    26F4 : 00 00               pushls:     dw 0
(1)  267/    26F6 :                     
(1)  267/    26F6 :                                             
(1)  267/    26F6 :                     next:               
(1)  267/    26F6 : E5                              push hl    
(1)  267/    26F7 : 21 FA FF                        ld hl,-6
(1)  267/    26FA : 39                              add hl,sp
(1)  267/    26FB : 22 F0 26                        ld (r_sp),hl
(1)  267/    26FE : 21 02 00                        ld hl,2
(1)  267/    2701 : 39                              add hl,sp
(1)  267/    2702 : 22 F2 26                        ld (old_sp),hl
(1)  267/    2705 :                     
(1)  267/    2705 : F5                              push af
(1)  267/    2706 : ED 5F                           ld a,r              ; Salvar el estado de las interrupciones
(1)  267/    2708 : F5                              push af
(1)  267/    2709 : E1                              pop hl
(1)  267/    270A : 7D                              ld a,l
(1)  267/    270B : 32 DD 18                        ld (prt_di),a           
(1)  267/    270E : F1                              pop af
(1)  267/    270F : E1                              pop hl
(1)  267/    2710 : F3                              di
(1)  267/    2711 :                                      
(1)  267/    2711 : E5                              push hl
(1)  267/    2712 : D5                              push de
(1)  267/    2713 : C5                              push bc
(1)  267/    2714 : F5                              push af
(1)  267/    2715 : 22 F4 26                        ld (pushls),hl
(1)  267/    2718 :                                 shift
(1)  267/    2718 : (MACRO)                         pushlist (SP),(PAGEGFXNUM),A
(1)  267/    2718 : =>TRUE                     if "(SP)" <> ""
(1)  267/    2718 : (MACRO)                       pushlist (PAGEGFXNUM),A
(1)  267/    2718 : =>TRUE                     if "(PAGEGFXNUM)" <> ""
(1)  267/    2718 : (MACRO)                       pushlist A
(1)  267/    2718 : =>TRUE                     if "A" <> ""
(1)  267/    2718 : (MACRO)                       pushlist 
(1)  267/    2718 : =>FALSE                    if "" <> ""
(1)  267/    2718 :                               pushlist 
(1)  267/    2718 :                               pusht 
(1)  267/    2718 : [267]                      endif
(1)  267/    2718 : (MACRO)                       pusht A
(1)  267/    2718 : =>FALSE                   if  (upstring("A")=="AF") || (upstring("A")=="BC") 
(1)  267/    2718 :                             push A
(1)  267/    2718 : =>FALSE                   elseif (upstring("A")=="DE") || (upstring("A")=="HL") 
(1)  267/    2718 :                             push A
(1)  267/    2718 : =>FALSE                   elseif (upstring("A")=="IX") || (upstring("A")=="IY")
(1)  267/    2718 :                             push A
(1)  267/    2718 : =>FALSE                   elseif (upstring("A")=="SP")
(1)  267/    2718 :                             ld hl,(old_sp)
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 121 - 8/12/2011 20:51:50


(1)  267/    2718 :                             push hl
(1)  267/    2718 :                             ld hl,(pushls)
(1)  267/    2718 : =>FALSE                   elseif strstr("A","(") <> -1
(1)  267/    2718 :                             if strstr(upstring("A"),"(SP)") <> -1
(1)  267/    2718 :                                ld hl,(old_sp)
(1)  267/    2718 :                                push af
(1)  267/    2718 :                                ld a,(hl)
(1)  267/    2718 :                                inc hl
(1)  267/    2718 :                                ld h,(hl)
(1)  267/    2718 :                                ld l,a
(1)  267/    2718 :                                pop af
(1)  267/    2718 :                                push hl
(1)  267/    2718 :                                ld hl,(pushls)          
(1)  267/    2718 :                             else
(1)  267/    2718 :                                push8b A
(1)  267/    2718 : [267]                       endif
(1)  267/    2718 : =>TRUE                    elseif (upstring("A")=="A") 
(1)  267/    2718 : (MACRO)                     push8b A
(1)  267/    2718 : F5                          push af
(1)  267/    2719 : 7F                          ld a,A  
(1)  267/    271A : 6F                          ld l,a
(1)  267/    271B : F1                          pop af
(1)  267/    271C : 26 00                       ld h,0
(1)  267/    271E : E5                          push hl
(1)  267/    271F : 2A F4 26                    ld hl,(pushls)
(1)  267/    2722 : =>FALSE                   elseif (upstring("A")=="B")   || (upstring("A")=="C") 
(1)  267/    2722 :                             push8b A
(1)  267/    2722 : =>FALSE                   elseif (upstring("A")=="D")   || (upstring("A")=="E") 
(1)  267/    2722 :                             push8b A
(1)  267/    2722 : =>FALSE                   elseif (upstring("A")=="H")   || (upstring("A")=="L") 
(1)  267/    2722 :                             push8b A
(1)  267/    2722 : =>FALSE                   elseif (upstring("A")=="IYH") || (upstring("A")=="IHL")
(1)  267/    2722 :                             push8b A
(1)  267/    2722 : =>FALSE                   elseif (upstring("A")=="IYH") || (upstring("A")=="IHL") 
(1)  267/    2722 :                             push8b A
(1)  267/    2722 : =>FALSE                   else              
(1)  267/    2722 :                             ld hl,A
(1)  267/    2722 :                             push hl
(1)  267/    2722 :                             ld hl,(pushls)
(1)  267/    2722 : [267]                     endif
(1)  267/    2722 : [267]                      endif
(1)  267/    2722 : (MACRO)                       pusht (PAGEGFXNUM)
(1)  267/    2722 : =>FALSE                   if  (upstring("(PAGEGFXNUM)")=="AF") || (upstring("(PAGEGFXNUM)")=="BC") 
(1)  267/    2722 :                             push (PAGEGFXNUM)
(1)  267/    2722 : =>FALSE                   elseif (upstring("(PAGEGFXNUM)")=="DE") || (upstring("(PAGEGFXNUM)")=="HL") 
(1)  267/    2722 :                             push (PAGEGFXNUM)
(1)  267/    2722 : =>FALSE                   elseif (upstring("(PAGEGFXNUM)")=="IX") || (upstring("(PAGEGFXNUM)")=="IY")
(1)  267/    2722 :                             push (PAGEGFXNUM)
(1)  267/    2722 : =>FALSE                   elseif (upstring("(PAGEGFXNUM)")=="SP")
(1)  267/    2722 :                             ld hl,(old_sp)
(1)  267/    2722 :                             push hl
(1)  267/    2722 :                             ld hl,(pushls)
(1)  267/    2722 : =>TRUE                    elseif strstr("(PAGEGFXNUM)","(") <> -1
(1)  267/    2722 : =>FALSE                     if strstr(upstring("(PAGEGFXNUM)"),"(SP)") <> -1
(1)  267/    2722 :                                ld hl,(old_sp)
(1)  267/    2722 :                                push af
(1)  267/    2722 :                                ld a,(hl)
(1)  267/    2722 :                                inc hl
(1)  267/    2722 :                                ld h,(hl)
(1)  267/    2722 :                                ld l,a
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 122 - 8/12/2011 20:51:50


(1)  267/    2722 :                                pop af
(1)  267/    2722 :                                push hl
(1)  267/    2722 :                                ld hl,(pushls)          
(1)  267/    2722 : =>TRUE                      else
(1)  267/    2722 : (MACRO)                        push8b (PAGEGFXNUM)
(1)  267/    2722 : F5                          push af
(1)  267/    2723 : 3A B1 28                    ld a,(PAGEGFXNUM)  
(1)  267/    2726 : 6F                          ld l,a
(1)  267/    2727 : F1                          pop af
(1)  267/    2728 : 26 00                       ld h,0
(1)  267/    272A : E5                          push hl
(1)  267/    272B : 2A F4 26                    ld hl,(pushls)
(1)  267/    272E : [267]                       endif
(1)  267/    272E : =>FALSE                   elseif (upstring("(PAGEGFXNUM)")=="A") 
(1)  267/    272E :                             push8b (PAGEGFXNUM)
(1)  267/    272E : =>FALSE                   elseif (upstring("(PAGEGFXNUM)")=="B")   || (upstring("(PAGEGFXNUM)")=="C") 
(1)  267/    272E :                             push8b (PAGEGFXNUM)
(1)  267/    272E : =>FALSE                   elseif (upstring("(PAGEGFXNUM)")=="D")   || (upstring("(PAGEGFXNUM)")=="E") 
(1)  267/    272E :                             push8b (PAGEGFXNUM)
(1)  267/    272E : =>FALSE                   elseif (upstring("(PAGEGFXNUM)")=="H")   || (upstring("(PAGEGFXNUM)")=="L") 
(1)  267/    272E :                             push8b (PAGEGFXNUM)
(1)  267/    272E : =>FALSE                   elseif (upstring("(PAGEGFXNUM)")=="IYH") || (upstring("(PAGEGFXNUM)")=="IHL")
(1)  267/    272E :                             push8b (PAGEGFXNUM)
(1)  267/    272E : =>FALSE                   elseif (upstring("(PAGEGFXNUM)")=="IYH") || (upstring("(PAGEGFXNUM)")=="IHL") 
(1)  267/    272E :                             push8b (PAGEGFXNUM)
(1)  267/    272E : =>FALSE                   else              
(1)  267/    272E :                             ld hl,(PAGEGFXNUM)
(1)  267/    272E :                             push hl
(1)  267/    272E :                             ld hl,(pushls)
(1)  267/    272E : [267]                     endif
(1)  267/    272E : [267]                      endif
(1)  267/    272E : (MACRO)                       pusht (SP)
(1)  267/    272E : =>FALSE                   if  (upstring("(SP)")=="AF") || (upstring("(SP)")=="BC") 
(1)  267/    272E :                             push (SP)
(1)  267/    272E : =>FALSE                   elseif (upstring("(SP)")=="DE") || (upstring("(SP)")=="HL") 
(1)  267/    272E :                             push (SP)
(1)  267/    272E : =>FALSE                   elseif (upstring("(SP)")=="IX") || (upstring("(SP)")=="IY")
(1)  267/    272E :                             push (SP)
(1)  267/    272E : =>FALSE                   elseif (upstring("(SP)")=="SP")
(1)  267/    272E :                             ld hl,(old_sp)
(1)  267/    272E :                             push hl
(1)  267/    272E :                             ld hl,(pushls)
(1)  267/    272E : =>TRUE                    elseif strstr("(SP)","(") <> -1
(1)  267/    272E : =>TRUE                      if strstr(upstring("(SP)"),"(SP)") <> -1
(1)  267/    272E : 2A F2 26                       ld hl,(old_sp)
(1)  267/    2731 : F5                             push af
(1)  267/    2732 : 7E                             ld a,(hl)
(1)  267/    2733 : 23                             inc hl
(1)  267/    2734 : 66                             ld h,(hl)
(1)  267/    2735 : 6F                             ld l,a
(1)  267/    2736 : F1                             pop af
(1)  267/    2737 : E5                             push hl
(1)  267/    2738 : 2A F4 26                       ld hl,(pushls)          
(1)  267/    273B : =>FALSE                     else
(1)  267/    273B :                                push8b (SP)
(1)  267/    273B : [267]                       endif
(1)  267/    273B : =>FALSE                   elseif (upstring("(SP)")=="A") 
(1)  267/    273B :                             push8b (SP)
(1)  267/    273B : =>FALSE                   elseif (upstring("(SP)")=="B")   || (upstring("(SP)")=="C") 
(1)  267/    273B :                             push8b (SP)
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 123 - 8/12/2011 20:51:50


(1)  267/    273B : =>FALSE                   elseif (upstring("(SP)")=="D")   || (upstring("(SP)")=="E") 
(1)  267/    273B :                             push8b (SP)
(1)  267/    273B : =>FALSE                   elseif (upstring("(SP)")=="H")   || (upstring("(SP)")=="L") 
(1)  267/    273B :                             push8b (SP)
(1)  267/    273B : =>FALSE                   elseif (upstring("(SP)")=="IYH") || (upstring("(SP)")=="IHL")
(1)  267/    273B :                             push8b (SP)
(1)  267/    273B : =>FALSE                   elseif (upstring("(SP)")=="IYH") || (upstring("(SP)")=="IHL") 
(1)  267/    273B :                             push8b (SP)
(1)  267/    273B : =>FALSE                   else              
(1)  267/    273B :                             ld hl,(SP)
(1)  267/    273B :                             push hl
(1)  267/    273B :                             ld hl,(pushls)
(1)  267/    273B : [267]                     endif
(1)  267/    273B : [267]                      endif
(1)  267/    273B : 21 C6 26                        ld hl,cad
(1)  267/    273E : CD DE 18                        call prt_d
(1)  267/    2741 :                     
(1)  267/    2741 : 2A F0 26                        ld hl,(r_sp)
(1)  267/    2744 : F9                              ld sp,hl    
(1)  267/    2745 :                     
(1)  267/    2745 : 3A DD 18                        ld a,(prt_di) 
(1)  267/    2748 : CB 57                           bit 2,a
(1)  267/    274A : 28 01                           jr z,+
(1)  267/    274C : FB                              ei          ; Restauramos estado de las interrupciones
(1)  267/    274D :                     
(1)  267/    274D : F1                  +           pop af
(1)  267/    274E : C1                              pop bc
(1)  267/    274F : D1                              pop de
(1)  267/    2750 : E1                              pop hl      
(1)  267/    2751 : [267]                         endif
(1)  267/    2751 : [267]                       endif
(1)  268/    2751 : ED 4B B1 28         	ld bc,(PageGfxnum)	
(1)  269/    2755 : B9                  	cp c
(1)  270/    2756 : CA 0D 23            	jp z,PutPageD
(1)  271/    2759 :                     	
(1)  272/    2759 :                     	
(1)  273/    2759 : F5                  	push	af
(1)  274/    275A : CD 15 38            	call	resvdp_li
(1)  275/    275D : CD 3E 2B            	call	restore_int
(1)  276/    2760 :                     
(1)  277/    2760 : F1                  	pop	af
(1)  278/    2761 : 32 B1 28            	ld	(PageGfxnum),a
(1)  279/    2764 : 21 A6 28            	ld	hl,gfxl-12
(1)  280/    2767 : 47                  	ld	b,a
(1)  281/    2768 : 11 0C 00            	ld	de,12		
(1)  282/    276B :                     PutPGfx1	
(1)  283/    276B : 19                  	add	hl,de
(1)  284/    276C : 10 FD               	djnz	PutPGfx1
(1)  285/    276E :                     
(1)  286/    276E : (MACRO)             	assert "Pila=%p Cargando la pagina %d Correspondiente al fichero %p\n ",(sp),a,hl
(1)  286/    276E : =>DEFINED                   ifdef DEBUG
(1)  286/    276E :                             
(1)  286/    276E : =>TRUE                        if "Pila=%p Cargando la pagina %d Correspondiente al fichero %p\n " <> ""
(1)  286/    276E : C3 B5 27                        jp next          
(1)  286/    2771 : 50 69 6C 61 3D 25   cad:        db "Pila=%p Cargando la pagina %d Correspondiente al fichero %p\n ",0
                    70 20 43 61 72 67 
                    61 6E 64 6F 20 6C 
                    61 20 70 61 67 69 
                    6E 61 20 25 64 20 
                    43 6F 72 72 65 73 
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 124 - 8/12/2011 20:51:50


                    70 6F 6E 64 69 65 
                    6E 74 65 20 61 6C 
                    20 66 69 63 68 65 
                    72 6F 20 25 70 0A 
                    20 00 
(1)  286/    27AF : 00 00               r_sp:       dw 0                
(1)  286/    27B1 : 00 00               old_sp:     dw 0
(1)  286/    27B3 : 00 00               pushls:     dw 0
(1)  286/    27B5 :                     
(1)  286/    27B5 :                                             
(1)  286/    27B5 :                     next:               
(1)  286/    27B5 : E5                              push hl    
(1)  286/    27B6 : 21 FA FF                        ld hl,-6
(1)  286/    27B9 : 39                              add hl,sp
(1)  286/    27BA : 22 AF 27                        ld (r_sp),hl
(1)  286/    27BD : 21 02 00                        ld hl,2
(1)  286/    27C0 : 39                              add hl,sp
(1)  286/    27C1 : 22 B1 27                        ld (old_sp),hl
(1)  286/    27C4 :                     
(1)  286/    27C4 : F5                              push af
(1)  286/    27C5 : ED 5F                           ld a,r              ; Salvar el estado de las interrupciones
(1)  286/    27C7 : F5                              push af
(1)  286/    27C8 : E1                              pop hl
(1)  286/    27C9 : 7D                              ld a,l
(1)  286/    27CA : 32 DD 18                        ld (prt_di),a           
(1)  286/    27CD : F1                              pop af
(1)  286/    27CE : E1                              pop hl
(1)  286/    27CF : F3                              di
(1)  286/    27D0 :                                      
(1)  286/    27D0 : E5                              push hl
(1)  286/    27D1 : D5                              push de
(1)  286/    27D2 : C5                              push bc
(1)  286/    27D3 : F5                              push af
(1)  286/    27D4 : 22 B3 27                        ld (pushls),hl
(1)  286/    27D7 :                                 shift
(1)  286/    27D7 : (MACRO)                         pushlist (SP),A,HL
(1)  286/    27D7 : =>TRUE                     if "(SP)" <> ""
(1)  286/    27D7 : (MACRO)                       pushlist A,HL
(1)  286/    27D7 : =>TRUE                     if "A" <> ""
(1)  286/    27D7 : (MACRO)                       pushlist HL
(1)  286/    27D7 : =>TRUE                     if "HL" <> ""
(1)  286/    27D7 : (MACRO)                       pushlist 
(1)  286/    27D7 : =>FALSE                    if "" <> ""
(1)  286/    27D7 :                               pushlist 
(1)  286/    27D7 :                               pusht 
(1)  286/    27D7 : [286]                      endif
(1)  286/    27D7 : (MACRO)                       pusht HL
(1)  286/    27D7 : =>FALSE                   if  (upstring("HL")=="AF") || (upstring("HL")=="BC") 
(1)  286/    27D7 :                             push HL
(1)  286/    27D7 : =>TRUE                    elseif (upstring("HL")=="DE") || (upstring("HL")=="HL") 
(1)  286/    27D7 : E5                          push HL
(1)  286/    27D8 : =>FALSE                   elseif (upstring("HL")=="IX") || (upstring("HL")=="IY")
(1)  286/    27D8 :                             push HL
(1)  286/    27D8 : =>FALSE                   elseif (upstring("HL")=="SP")
(1)  286/    27D8 :                             ld hl,(old_sp)
(1)  286/    27D8 :                             push hl
(1)  286/    27D8 :                             ld hl,(pushls)
(1)  286/    27D8 : =>FALSE                   elseif strstr("HL","(") <> -1
(1)  286/    27D8 :                             if strstr(upstring("HL"),"(SP)") <> -1
(1)  286/    27D8 :                                ld hl,(old_sp)
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 125 - 8/12/2011 20:51:50


(1)  286/    27D8 :                                push af
(1)  286/    27D8 :                                ld a,(hl)
(1)  286/    27D8 :                                inc hl
(1)  286/    27D8 :                                ld h,(hl)
(1)  286/    27D8 :                                ld l,a
(1)  286/    27D8 :                                pop af
(1)  286/    27D8 :                                push hl
(1)  286/    27D8 :                                ld hl,(pushls)          
(1)  286/    27D8 :                             else
(1)  286/    27D8 :                                push8b HL
(1)  286/    27D8 : [286]                       endif
(1)  286/    27D8 : =>FALSE                   elseif (upstring("HL")=="A") 
(1)  286/    27D8 :                             push8b HL
(1)  286/    27D8 : =>FALSE                   elseif (upstring("HL")=="B")   || (upstring("HL")=="C") 
(1)  286/    27D8 :                             push8b HL
(1)  286/    27D8 : =>FALSE                   elseif (upstring("HL")=="D")   || (upstring("HL")=="E") 
(1)  286/    27D8 :                             push8b HL
(1)  286/    27D8 : =>FALSE                   elseif (upstring("HL")=="H")   || (upstring("HL")=="L") 
(1)  286/    27D8 :                             push8b HL
(1)  286/    27D8 : =>FALSE                   elseif (upstring("HL")=="IYH") || (upstring("HL")=="IHL")
(1)  286/    27D8 :                             push8b HL
(1)  286/    27D8 : =>FALSE                   elseif (upstring("HL")=="IYH") || (upstring("HL")=="IHL") 
(1)  286/    27D8 :                             push8b HL
(1)  286/    27D8 : =>FALSE                   else              
(1)  286/    27D8 :                             ld hl,HL
(1)  286/    27D8 :                             push hl
(1)  286/    27D8 :                             ld hl,(pushls)
(1)  286/    27D8 : [286]                     endif
(1)  286/    27D8 : [286]                      endif
(1)  286/    27D8 : (MACRO)                       pusht A
(1)  286/    27D8 : =>FALSE                   if  (upstring("A")=="AF") || (upstring("A")=="BC") 
(1)  286/    27D8 :                             push A
(1)  286/    27D8 : =>FALSE                   elseif (upstring("A")=="DE") || (upstring("A")=="HL") 
(1)  286/    27D8 :                             push A
(1)  286/    27D8 : =>FALSE                   elseif (upstring("A")=="IX") || (upstring("A")=="IY")
(1)  286/    27D8 :                             push A
(1)  286/    27D8 : =>FALSE                   elseif (upstring("A")=="SP")
(1)  286/    27D8 :                             ld hl,(old_sp)
(1)  286/    27D8 :                             push hl
(1)  286/    27D8 :                             ld hl,(pushls)
(1)  286/    27D8 : =>FALSE                   elseif strstr("A","(") <> -1
(1)  286/    27D8 :                             if strstr(upstring("A"),"(SP)") <> -1
(1)  286/    27D8 :                                ld hl,(old_sp)
(1)  286/    27D8 :                                push af
(1)  286/    27D8 :                                ld a,(hl)
(1)  286/    27D8 :                                inc hl
(1)  286/    27D8 :                                ld h,(hl)
(1)  286/    27D8 :                                ld l,a
(1)  286/    27D8 :                                pop af
(1)  286/    27D8 :                                push hl
(1)  286/    27D8 :                                ld hl,(pushls)          
(1)  286/    27D8 :                             else
(1)  286/    27D8 :                                push8b A
(1)  286/    27D8 : [286]                       endif
(1)  286/    27D8 : =>TRUE                    elseif (upstring("A")=="A") 
(1)  286/    27D8 : (MACRO)                     push8b A
(1)  286/    27D8 : F5                          push af
(1)  286/    27D9 : 7F                          ld a,A  
(1)  286/    27DA : 6F                          ld l,a
(1)  286/    27DB : F1                          pop af
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 126 - 8/12/2011 20:51:50


(1)  286/    27DC : 26 00                       ld h,0
(1)  286/    27DE : E5                          push hl
(1)  286/    27DF : 2A B3 27                    ld hl,(pushls)
(1)  286/    27E2 : =>FALSE                   elseif (upstring("A")=="B")   || (upstring("A")=="C") 
(1)  286/    27E2 :                             push8b A
(1)  286/    27E2 : =>FALSE                   elseif (upstring("A")=="D")   || (upstring("A")=="E") 
(1)  286/    27E2 :                             push8b A
(1)  286/    27E2 : =>FALSE                   elseif (upstring("A")=="H")   || (upstring("A")=="L") 
(1)  286/    27E2 :                             push8b A
(1)  286/    27E2 : =>FALSE                   elseif (upstring("A")=="IYH") || (upstring("A")=="IHL")
(1)  286/    27E2 :                             push8b A
(1)  286/    27E2 : =>FALSE                   elseif (upstring("A")=="IYH") || (upstring("A")=="IHL") 
(1)  286/    27E2 :                             push8b A
(1)  286/    27E2 : =>FALSE                   else              
(1)  286/    27E2 :                             ld hl,A
(1)  286/    27E2 :                             push hl
(1)  286/    27E2 :                             ld hl,(pushls)
(1)  286/    27E2 : [286]                     endif
(1)  286/    27E2 : [286]                      endif
(1)  286/    27E2 : (MACRO)                       pusht (SP)
(1)  286/    27E2 : =>FALSE                   if  (upstring("(SP)")=="AF") || (upstring("(SP)")=="BC") 
(1)  286/    27E2 :                             push (SP)
(1)  286/    27E2 : =>FALSE                   elseif (upstring("(SP)")=="DE") || (upstring("(SP)")=="HL") 
(1)  286/    27E2 :                             push (SP)
(1)  286/    27E2 : =>FALSE                   elseif (upstring("(SP)")=="IX") || (upstring("(SP)")=="IY")
(1)  286/    27E2 :                             push (SP)
(1)  286/    27E2 : =>FALSE                   elseif (upstring("(SP)")=="SP")
(1)  286/    27E2 :                             ld hl,(old_sp)
(1)  286/    27E2 :                             push hl
(1)  286/    27E2 :                             ld hl,(pushls)
(1)  286/    27E2 : =>TRUE                    elseif strstr("(SP)","(") <> -1
(1)  286/    27E2 : =>TRUE                      if strstr(upstring("(SP)"),"(SP)") <> -1
(1)  286/    27E2 : 2A B1 27                       ld hl,(old_sp)
(1)  286/    27E5 : F5                             push af
(1)  286/    27E6 : 7E                             ld a,(hl)
(1)  286/    27E7 : 23                             inc hl
(1)  286/    27E8 : 66                             ld h,(hl)
(1)  286/    27E9 : 6F                             ld l,a
(1)  286/    27EA : F1                             pop af
(1)  286/    27EB : E5                             push hl
(1)  286/    27EC : 2A B3 27                       ld hl,(pushls)          
(1)  286/    27EF : =>FALSE                     else
(1)  286/    27EF :                                push8b (SP)
(1)  286/    27EF : [286]                       endif
(1)  286/    27EF : =>FALSE                   elseif (upstring("(SP)")=="A") 
(1)  286/    27EF :                             push8b (SP)
(1)  286/    27EF : =>FALSE                   elseif (upstring("(SP)")=="B")   || (upstring("(SP)")=="C") 
(1)  286/    27EF :                             push8b (SP)
(1)  286/    27EF : =>FALSE                   elseif (upstring("(SP)")=="D")   || (upstring("(SP)")=="E") 
(1)  286/    27EF :                             push8b (SP)
(1)  286/    27EF : =>FALSE                   elseif (upstring("(SP)")=="H")   || (upstring("(SP)")=="L") 
(1)  286/    27EF :                             push8b (SP)
(1)  286/    27EF : =>FALSE                   elseif (upstring("(SP)")=="IYH") || (upstring("(SP)")=="IHL")
(1)  286/    27EF :                             push8b (SP)
(1)  286/    27EF : =>FALSE                   elseif (upstring("(SP)")=="IYH") || (upstring("(SP)")=="IHL") 
(1)  286/    27EF :                             push8b (SP)
(1)  286/    27EF : =>FALSE                   else              
(1)  286/    27EF :                             ld hl,(SP)
(1)  286/    27EF :                             push hl
(1)  286/    27EF :                             ld hl,(pushls)
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 127 - 8/12/2011 20:51:50


(1)  286/    27EF : [286]                     endif
(1)  286/    27EF : [286]                      endif
(1)  286/    27EF : 21 71 27                        ld hl,cad
(1)  286/    27F2 : CD DE 18                        call prt_d
(1)  286/    27F5 :                     
(1)  286/    27F5 : 2A AF 27                        ld hl,(r_sp)
(1)  286/    27F8 : F9                              ld sp,hl    
(1)  286/    27F9 :                     
(1)  286/    27F9 : 3A DD 18                        ld a,(prt_di) 
(1)  286/    27FC : CB 57                           bit 2,a
(1)  286/    27FE : 28 01                           jr z,+
(1)  286/    2800 : FB                              ei          ; Restauramos estado de las interrupciones
(1)  286/    2801 :                     
(1)  286/    2801 : F1                  +           pop af
(1)  286/    2802 : C1                              pop bc
(1)  286/    2803 : D1                              pop de
(1)  286/    2804 : E1                              pop hl      
(1)  286/    2805 : [286]                         endif
(1)  286/    2805 : [286]                       endif
(1)  287/    2805 :                     		
(1)  288/    2805 : CD 44 39            	call	fileopen	
(1)  289/    2808 : 11 00 C0            	ld	de,DmaHigh
(1)  290/    280B : 21 00 20            	ld	hl,SizeDma	; Esto hay que cambiarlo para ponerlo a un valor mas pequeo
(1)  291/    280E : CD 64 39            	call    readfile	
(1)  292/    2811 : CD 74 39            	call	closefile
(1)  293/    2814 :                     
(1)  294/    2814 : F3                  	di
(1)  295/    2815 : CD 0D 23            	call	PutPageD
(1)  296/    2818 : 21 00 C0            	ld	hl,DmaHigh	
(1)  297/    281B : 11 00 80            	ld	de,GfxActual
(1)  298/    281E : (MACRO)             	assert "Pila=%p Copiando de %d:%p a %d:%p\n",(sp),(PageM),hl,3,de
(1)  298/    281E : =>DEFINED                   ifdef DEBUG
(1)  298/    281E :                             
(1)  298/    281E : =>TRUE                        if "Pila=%p Copiando de %d:%p a %d:%p\n" <> ""
(1)  298/    281E : C3 4A 28                        jp next          
(1)  298/    2821 : 50 69 6C 61 3D 25   cad:        db "Pila=%p Copiando de %d:%p a %d:%p\n",0
                    70 20 43 6F 70 69 
                    61 6E 64 6F 20 64 
                    65 20 25 64 3A 25 
                    70 20 61 20 25 64 
                    3A 25 70 0A 00 
(1)  298/    2844 : 00 00               r_sp:       dw 0                
(1)  298/    2846 : 00 00               old_sp:     dw 0
(1)  298/    2848 : 00 00               pushls:     dw 0
(1)  298/    284A :                     
(1)  298/    284A :                                             
(1)  298/    284A :                     next:               
(1)  298/    284A : E5                              push hl    
(1)  298/    284B : 21 FA FF                        ld hl,-6
(1)  298/    284E : 39                              add hl,sp
(1)  298/    284F : 22 44 28                        ld (r_sp),hl
(1)  298/    2852 : 21 02 00                        ld hl,2
(1)  298/    2855 : 39                              add hl,sp
(1)  298/    2856 : 22 46 28                        ld (old_sp),hl
(1)  298/    2859 :                     
(1)  298/    2859 : F5                              push af
(1)  298/    285A : ED 5F                           ld a,r              ; Salvar el estado de las interrupciones
(1)  298/    285C : F5                              push af
(1)  298/    285D : E1                              pop hl
(1)  298/    285E : 7D                              ld a,l
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 128 - 8/12/2011 20:51:50


(1)  298/    285F : 32 DD 18                        ld (prt_di),a           
(1)  298/    2862 : F1                              pop af
(1)  298/    2863 : E1                              pop hl
(1)  298/    2864 : F3                              di
(1)  298/    2865 :                                      
(1)  298/    2865 : E5                              push hl
(1)  298/    2866 : D5                              push de
(1)  298/    2867 : C5                              push bc
(1)  298/    2868 : F5                              push af
(1)  298/    2869 : 22 48 28                        ld (pushls),hl
(1)  298/    286C :                                 shift
(1)  298/    286C : (MACRO)                         pushlist (SP),(PAGEM),HL,3,DE
(1)  298/    286C : =>TRUE                     if "(SP)" <> ""
(1)  298/    286C : (MACRO)                       pushlist (PAGEM),HL,3,DE
(1)  298/    286C : =>TRUE                     if "(PAGEM)" <> ""
(1)  298/    286C : (MACRO)                       pushlist HL,3,DE
(1)  298/    286C : =>TRUE                     if "HL" <> ""
(1)  298/    286C : (MACRO)                       pushlist 3,DE
(1)  298/    286C : =>TRUE                     if "3" <> ""
(1)  298/    286C : (MACRO)                       pushlist DE
(1)  298/    286C : =>TRUE                     if "DE" <> ""
(1)  298/    286C : (MACRO)                       pushlist 
(1)  298/    286C : =>FALSE                    if "" <> ""
(1)  298/    286C :                               pushlist 
(1)  298/    286C :                               pusht 
(1)  298/    286C : [298]                      endif
(1)  298/    286C : (MACRO)                       pusht DE
(1)  298/    286C : =>FALSE                   if  (upstring("DE")=="AF") || (upstring("DE")=="BC") 
(1)  298/    286C :                             push DE
(1)  298/    286C : =>TRUE                    elseif (upstring("DE")=="DE") || (upstring("DE")=="HL") 
(1)  298/    286C : D5                          push DE
(1)  298/    286D : =>FALSE                   elseif (upstring("DE")=="IX") || (upstring("DE")=="IY")
(1)  298/    286D :                             push DE
(1)  298/    286D : =>FALSE                   elseif (upstring("DE")=="SP")
(1)  298/    286D :                             ld hl,(old_sp)
(1)  298/    286D :                             push hl
(1)  298/    286D :                             ld hl,(pushls)
(1)  298/    286D : =>FALSE                   elseif strstr("DE","(") <> -1
(1)  298/    286D :                             if strstr(upstring("DE"),"(SP)") <> -1
(1)  298/    286D :                                ld hl,(old_sp)
(1)  298/    286D :                                push af
(1)  298/    286D :                                ld a,(hl)
(1)  298/    286D :                                inc hl
(1)  298/    286D :                                ld h,(hl)
(1)  298/    286D :                                ld l,a
(1)  298/    286D :                                pop af
(1)  298/    286D :                                push hl
(1)  298/    286D :                                ld hl,(pushls)          
(1)  298/    286D :                             else
(1)  298/    286D :                                push8b DE
(1)  298/    286D : [298]                       endif
(1)  298/    286D : =>FALSE                   elseif (upstring("DE")=="A") 
(1)  298/    286D :                             push8b DE
(1)  298/    286D : =>FALSE                   elseif (upstring("DE")=="B")   || (upstring("DE")=="C") 
(1)  298/    286D :                             push8b DE
(1)  298/    286D : =>FALSE                   elseif (upstring("DE")=="D")   || (upstring("DE")=="E") 
(1)  298/    286D :                             push8b DE
(1)  298/    286D : =>FALSE                   elseif (upstring("DE")=="H")   || (upstring("DE")=="L") 
(1)  298/    286D :                             push8b DE
(1)  298/    286D : =>FALSE                   elseif (upstring("DE")=="IYH") || (upstring("DE")=="IHL")
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 129 - 8/12/2011 20:51:50


(1)  298/    286D :                             push8b DE
(1)  298/    286D : =>FALSE                   elseif (upstring("DE")=="IYH") || (upstring("DE")=="IHL") 
(1)  298/    286D :                             push8b DE
(1)  298/    286D : =>FALSE                   else              
(1)  298/    286D :                             ld hl,DE
(1)  298/    286D :                             push hl
(1)  298/    286D :                             ld hl,(pushls)
(1)  298/    286D : [298]                     endif
(1)  298/    286D : [298]                      endif
(1)  298/    286D : (MACRO)                       pusht 3
(1)  298/    286D : =>FALSE                   if  (upstring("3")=="AF") || (upstring("3")=="BC") 
(1)  298/    286D :                             push 3
(1)  298/    286D : =>FALSE                   elseif (upstring("3")=="DE") || (upstring("3")=="HL") 
(1)  298/    286D :                             push 3
(1)  298/    286D : =>FALSE                   elseif (upstring("3")=="IX") || (upstring("3")=="IY")
(1)  298/    286D :                             push 3
(1)  298/    286D : =>FALSE                   elseif (upstring("3")=="SP")
(1)  298/    286D :                             ld hl,(old_sp)
(1)  298/    286D :                             push hl
(1)  298/    286D :                             ld hl,(pushls)
(1)  298/    286D : =>FALSE                   elseif strstr("3","(") <> -1
(1)  298/    286D :                             if strstr(upstring("3"),"(SP)") <> -1
(1)  298/    286D :                                ld hl,(old_sp)
(1)  298/    286D :                                push af
(1)  298/    286D :                                ld a,(hl)
(1)  298/    286D :                                inc hl
(1)  298/    286D :                                ld h,(hl)
(1)  298/    286D :                                ld l,a
(1)  298/    286D :                                pop af
(1)  298/    286D :                                push hl
(1)  298/    286D :                                ld hl,(pushls)          
(1)  298/    286D :                             else
(1)  298/    286D :                                push8b 3
(1)  298/    286D : [298]                       endif
(1)  298/    286D : =>FALSE                   elseif (upstring("3")=="A") 
(1)  298/    286D :                             push8b 3
(1)  298/    286D : =>FALSE                   elseif (upstring("3")=="B")   || (upstring("3")=="C") 
(1)  298/    286D :                             push8b 3
(1)  298/    286D : =>FALSE                   elseif (upstring("3")=="D")   || (upstring("3")=="E") 
(1)  298/    286D :                             push8b 3
(1)  298/    286D : =>FALSE                   elseif (upstring("3")=="H")   || (upstring("3")=="L") 
(1)  298/    286D :                             push8b 3
(1)  298/    286D : =>FALSE                   elseif (upstring("3")=="IYH") || (upstring("3")=="IHL")
(1)  298/    286D :                             push8b 3
(1)  298/    286D : =>FALSE                   elseif (upstring("3")=="IYH") || (upstring("3")=="IHL") 
(1)  298/    286D :                             push8b 3
(1)  298/    286D : =>TRUE                    else              
(1)  298/    286D : 21 03 00                    ld hl,3
(1)  298/    2870 : E5                          push hl
(1)  298/    2871 : 2A 48 28                    ld hl,(pushls)
(1)  298/    2874 : [298]                     endif
(1)  298/    2874 : [298]                      endif
(1)  298/    2874 : (MACRO)                       pusht HL
(1)  298/    2874 : =>FALSE                   if  (upstring("HL")=="AF") || (upstring("HL")=="BC") 
(1)  298/    2874 :                             push HL
(1)  298/    2874 : =>TRUE                    elseif (upstring("HL")=="DE") || (upstring("HL")=="HL") 
(1)  298/    2874 : E5                          push HL
(1)  298/    2875 : =>FALSE                   elseif (upstring("HL")=="IX") || (upstring("HL")=="IY")
(1)  298/    2875 :                             push HL
(1)  298/    2875 : =>FALSE                   elseif (upstring("HL")=="SP")
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 130 - 8/12/2011 20:51:50


(1)  298/    2875 :                             ld hl,(old_sp)
(1)  298/    2875 :                             push hl
(1)  298/    2875 :                             ld hl,(pushls)
(1)  298/    2875 : =>FALSE                   elseif strstr("HL","(") <> -1
(1)  298/    2875 :                             if strstr(upstring("HL"),"(SP)") <> -1
(1)  298/    2875 :                                ld hl,(old_sp)
(1)  298/    2875 :                                push af
(1)  298/    2875 :                                ld a,(hl)
(1)  298/    2875 :                                inc hl
(1)  298/    2875 :                                ld h,(hl)
(1)  298/    2875 :                                ld l,a
(1)  298/    2875 :                                pop af
(1)  298/    2875 :                                push hl
(1)  298/    2875 :                                ld hl,(pushls)          
(1)  298/    2875 :                             else
(1)  298/    2875 :                                push8b HL
(1)  298/    2875 : [298]                       endif
(1)  298/    2875 : =>FALSE                   elseif (upstring("HL")=="A") 
(1)  298/    2875 :                             push8b HL
(1)  298/    2875 : =>FALSE                   elseif (upstring("HL")=="B")   || (upstring("HL")=="C") 
(1)  298/    2875 :                             push8b HL
(1)  298/    2875 : =>FALSE                   elseif (upstring("HL")=="D")   || (upstring("HL")=="E") 
(1)  298/    2875 :                             push8b HL
(1)  298/    2875 : =>FALSE                   elseif (upstring("HL")=="H")   || (upstring("HL")=="L") 
(1)  298/    2875 :                             push8b HL
(1)  298/    2875 : =>FALSE                   elseif (upstring("HL")=="IYH") || (upstring("HL")=="IHL")
(1)  298/    2875 :                             push8b HL
(1)  298/    2875 : =>FALSE                   elseif (upstring("HL")=="IYH") || (upstring("HL")=="IHL") 
(1)  298/    2875 :                             push8b HL
(1)  298/    2875 : =>FALSE                   else              
(1)  298/    2875 :                             ld hl,HL
(1)  298/    2875 :                             push hl
(1)  298/    2875 :                             ld hl,(pushls)
(1)  298/    2875 : [298]                     endif
(1)  298/    2875 : [298]                      endif
(1)  298/    2875 : (MACRO)                       pusht (PAGEM)
(1)  298/    2875 : =>FALSE                   if  (upstring("(PAGEM)")=="AF") || (upstring("(PAGEM)")=="BC") 
(1)  298/    2875 :                             push (PAGEM)
(1)  298/    2875 : =>FALSE                   elseif (upstring("(PAGEM)")=="DE") || (upstring("(PAGEM)")=="HL") 
(1)  298/    2875 :                             push (PAGEM)
(1)  298/    2875 : =>FALSE                   elseif (upstring("(PAGEM)")=="IX") || (upstring("(PAGEM)")=="IY")
(1)  298/    2875 :                             push (PAGEM)
(1)  298/    2875 : =>FALSE                   elseif (upstring("(PAGEM)")=="SP")
(1)  298/    2875 :                             ld hl,(old_sp)
(1)  298/    2875 :                             push hl
(1)  298/    2875 :                             ld hl,(pushls)
(1)  298/    2875 : =>TRUE                    elseif strstr("(PAGEM)","(") <> -1
(1)  298/    2875 : =>FALSE                     if strstr(upstring("(PAGEM)"),"(SP)") <> -1
(1)  298/    2875 :                                ld hl,(old_sp)
(1)  298/    2875 :                                push af
(1)  298/    2875 :                                ld a,(hl)
(1)  298/    2875 :                                inc hl
(1)  298/    2875 :                                ld h,(hl)
(1)  298/    2875 :                                ld l,a
(1)  298/    2875 :                                pop af
(1)  298/    2875 :                                push hl
(1)  298/    2875 :                                ld hl,(pushls)          
(1)  298/    2875 : =>TRUE                      else
(1)  298/    2875 : (MACRO)                        push8b (PAGEM)
(1)  298/    2875 : F5                          push af
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 131 - 8/12/2011 20:51:50


(1)  298/    2876 : 3A 22 23                    ld a,(PAGEM)  
(1)  298/    2879 : 6F                          ld l,a
(1)  298/    287A : F1                          pop af
(1)  298/    287B : 26 00                       ld h,0
(1)  298/    287D : E5                          push hl
(1)  298/    287E : 2A 48 28                    ld hl,(pushls)
(1)  298/    2881 : [298]                       endif
(1)  298/    2881 : =>FALSE                   elseif (upstring("(PAGEM)")=="A") 
(1)  298/    2881 :                             push8b (PAGEM)
(1)  298/    2881 : =>FALSE                   elseif (upstring("(PAGEM)")=="B")   || (upstring("(PAGEM)")=="C") 
(1)  298/    2881 :                             push8b (PAGEM)
(1)  298/    2881 : =>FALSE                   elseif (upstring("(PAGEM)")=="D")   || (upstring("(PAGEM)")=="E") 
(1)  298/    2881 :                             push8b (PAGEM)
(1)  298/    2881 : =>FALSE                   elseif (upstring("(PAGEM)")=="H")   || (upstring("(PAGEM)")=="L") 
(1)  298/    2881 :                             push8b (PAGEM)
(1)  298/    2881 : =>FALSE                   elseif (upstring("(PAGEM)")=="IYH") || (upstring("(PAGEM)")=="IHL")
(1)  298/    2881 :                             push8b (PAGEM)
(1)  298/    2881 : =>FALSE                   elseif (upstring("(PAGEM)")=="IYH") || (upstring("(PAGEM)")=="IHL") 
(1)  298/    2881 :                             push8b (PAGEM)
(1)  298/    2881 : =>FALSE                   else              
(1)  298/    2881 :                             ld hl,(PAGEM)
(1)  298/    2881 :                             push hl
(1)  298/    2881 :                             ld hl,(pushls)
(1)  298/    2881 : [298]                     endif
(1)  298/    2881 : [298]                      endif
(1)  298/    2881 : (MACRO)                       pusht (SP)
(1)  298/    2881 : =>FALSE                   if  (upstring("(SP)")=="AF") || (upstring("(SP)")=="BC") 
(1)  298/    2881 :                             push (SP)
(1)  298/    2881 : =>FALSE                   elseif (upstring("(SP)")=="DE") || (upstring("(SP)")=="HL") 
(1)  298/    2881 :                             push (SP)
(1)  298/    2881 : =>FALSE                   elseif (upstring("(SP)")=="IX") || (upstring("(SP)")=="IY")
(1)  298/    2881 :                             push (SP)
(1)  298/    2881 : =>FALSE                   elseif (upstring("(SP)")=="SP")
(1)  298/    2881 :                             ld hl,(old_sp)
(1)  298/    2881 :                             push hl
(1)  298/    2881 :                             ld hl,(pushls)
(1)  298/    2881 : =>TRUE                    elseif strstr("(SP)","(") <> -1
(1)  298/    2881 : =>TRUE                      if strstr(upstring("(SP)"),"(SP)") <> -1
(1)  298/    2881 : 2A 46 28                       ld hl,(old_sp)
(1)  298/    2884 : F5                             push af
(1)  298/    2885 : 7E                             ld a,(hl)
(1)  298/    2886 : 23                             inc hl
(1)  298/    2887 : 66                             ld h,(hl)
(1)  298/    2888 : 6F                             ld l,a
(1)  298/    2889 : F1                             pop af
(1)  298/    288A : E5                             push hl
(1)  298/    288B : 2A 48 28                       ld hl,(pushls)          
(1)  298/    288E : =>FALSE                     else
(1)  298/    288E :                                push8b (SP)
(1)  298/    288E : [298]                       endif
(1)  298/    288E : =>FALSE                   elseif (upstring("(SP)")=="A") 
(1)  298/    288E :                             push8b (SP)
(1)  298/    288E : =>FALSE                   elseif (upstring("(SP)")=="B")   || (upstring("(SP)")=="C") 
(1)  298/    288E :                             push8b (SP)
(1)  298/    288E : =>FALSE                   elseif (upstring("(SP)")=="D")   || (upstring("(SP)")=="E") 
(1)  298/    288E :                             push8b (SP)
(1)  298/    288E : =>FALSE                   elseif (upstring("(SP)")=="H")   || (upstring("(SP)")=="L") 
(1)  298/    288E :                             push8b (SP)
(1)  298/    288E : =>FALSE                   elseif (upstring("(SP)")=="IYH") || (upstring("(SP)")=="IHL")
(1)  298/    288E :                             push8b (SP)
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 132 - 8/12/2011 20:51:50


(1)  298/    288E : =>FALSE                   elseif (upstring("(SP)")=="IYH") || (upstring("(SP)")=="IHL") 
(1)  298/    288E :                             push8b (SP)
(1)  298/    288E : =>FALSE                   else              
(1)  298/    288E :                             ld hl,(SP)
(1)  298/    288E :                             push hl
(1)  298/    288E :                             ld hl,(pushls)
(1)  298/    288E : [298]                     endif
(1)  298/    288E : [298]                      endif
(1)  298/    288E : 21 21 28                        ld hl,cad
(1)  298/    2891 : CD DE 18                        call prt_d
(1)  298/    2894 :                     
(1)  298/    2894 : 2A 44 28                        ld hl,(r_sp)
(1)  298/    2897 : F9                              ld sp,hl    
(1)  298/    2898 :                     
(1)  298/    2898 : 3A DD 18                        ld a,(prt_di) 
(1)  298/    289B : CB 57                           bit 2,a
(1)  298/    289D : 28 01                           jr z,+
(1)  298/    289F : FB                              ei          ; Restauramos estado de las interrupciones
(1)  298/    28A0 :                     
(1)  298/    28A0 : F1                  +           pop af
(1)  298/    28A1 : C1                              pop bc
(1)  298/    28A2 : D1                              pop de
(1)  298/    28A3 : E1                              pop hl      
(1)  298/    28A4 : [298]                         endif
(1)  298/    28A4 : [298]                       endif
(1)  299/    28A4 : 01 00 20            	ld	bc,SizeDma
(1)  300/    28A7 : ED B0               	ldir
(1)  301/    28A9 : FB                  	ei
(1)  302/    28AA :                     			
(1)  303/    28AA : CD 20 2B                    call	put_vint
(1)  304/    28AD : CD FF 37            	call	setvdp_li
(1)  305/    28B0 : C9                  	ret
(1)  306/    28B1 :                     
(1)  307/    28B1 :                     
(1)  308/    28B1 : FF                  PageGfxnum: db -1
(1)  309/    28B2 :                     		
(1)  310/    28B2 : 00 41 42 55 45 4C   gfxl:	db	0,"ABUELA  RAW"
                    41 20 20 52 41 57 
(1)  311/    28BE : 00 41 42 55 45 4C   	db	0,"ABUELO  RAW"
                    4F 20 20 52 41 57 
(1)  312/    28CA : 00 43 48 49 43 4F   	db      0,"CHICO   RAW"
                    20 20 20 52 41 57 
(1)  313/    28D6 : 00 43 41 52 41 53   	db	0,"CARAS   RAW"
                    20 20 20 52 41 57 
(1)  314/    28E2 : 00 43 49 55 44 41   	db	0,"CIUDAD  RAW"
                    44 20 20 52 41 57 
(1)  315/    28EE : 00 47 41 4C 4C 49   	db	0,"GALLINA RAW"
                    4E 41 20 52 41 57 
(1)  316/    28FA : 00 47 55 4E 4B 41   	db	0,"GUNKAMI RAW"
                    4D 49 20 52 41 57 
(1)  317/    2906 : 00 4A 41 50 4F 09   	db	0,"JAPO	   RAW"
                    20 20 20 52 41 57 
(1)  318/    2912 : 00 4D 41 52 43 31   	db	0,"MARC1   RAW"
                    20 20 20 52 41 57 
(1)  319/    291E : 00 4D 41 52 43 32   	db	0,"MARC2   RAW"
                    20 20 20 52 41 57 
(1)  320/    292A : 00 4D 41 52 43 33   	db	0,"MARC3   RAW"
                    20 20 20 52 41 57 
(1)  321/    2936 : 00 4D 55 4A 45 52   	db	0,"MUJER   RAW"
                    20 20 20 52 41 57 
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 133 - 8/12/2011 20:51:50


(1)  322/    2942 : 00 4F 42 4A 09 20   	db	0,"OBJ	   RAW"
                    20 20 52 41 57 
(1)  323/    294D : 00 4F 50 54 49 4F   	db	0,"OPTION  RAW"
                    4E 20 20 52 41 57 
(1)  324/    2959 : 00 50 41 5A 4F 53   	db	0,"PAZOSI  RAW"
                    49 20 20 52 41 57 
(1)  325/    2965 : 00 52 4F 42 45 52   	db	0,"ROBERTI RAW"
                    54 49 20 52 41 57 
(1)  326/    2971 : 00 53 51 55 45 4C   	db	0,"SQUEL   RAW"
                    20 20 20 52 41 57 
(1)  327/    297D : 00 43 41 4D 50 4F   	db	0,"CAMPO   RAW"
                    20 20 20 52 41 57 
(1)  328/    2989 : 00 47 55 4E 4B 41   	db	0,"GUNKAME RAW"
                    4D 45 20 52 41 57 
(1)  329/    2995 : 00 50 41 5A 4F 53   	db	0,"PAZOSE  RAW"
                    45 20 20 52 41 57 
(1)  330/    29A1 : 00 52 4F 42 45 52   	db	0,"ROBERTE RAW"
                    54 45 20 52 41 57 
(1)  331/    29AD :                     	
(1)  332/    29AD :                     +
(1)  333/    29AD :                     		
(1)  334/    29AD :                     
(1)  335/    29AD :                     
(1)  336/    29AD :                     	
(1)  337/    29AD :                     ;NOMBRE: LPIMAGE
(1)  338/    29AD :                     ;OBJETIVO: CARGAR DEL DISCO Y PINTAR UNA IMAGEN
(1)  339/    29AD :                     ;ENTRADA: A -> Numero de imagen
(1)  340/    29AD :                     ;         IX -> COORDENADA X DE VRAM DONDE SE PINTA
(1)  341/    29AD :                     ;         IY -> COORDENADA Y DE VRAM DONDE SE PINTA
(1)  342/    29AD :                     
(1)  343/    29AD :                     	
(1)  344/    29AD :                     LPIMAGE:
(1)  345/    29AD : (MACRO)             	assert "Cargando imagen\n"
(1)  345/    29AD : =>DEFINED                   ifdef DEBUG
(1)  345/    29AD :                             
(1)  345/    29AD : =>TRUE                        if "Cargando imagen\n" <> ""
(1)  345/    29AD : C3 C7 29                        jp next          
(1)  345/    29B0 : 43 61 72 67 61 6E   cad:        db "Cargando imagen\n",0
                    64 6F 20 69 6D 61 
                    67 65 6E 0A 00 
(1)  345/    29C1 : 00 00               r_sp:       dw 0                
(1)  345/    29C3 : 00 00               old_sp:     dw 0
(1)  345/    29C5 : 00 00               pushls:     dw 0
(1)  345/    29C7 :                     
(1)  345/    29C7 :                                             
(1)  345/    29C7 :                     next:               
(1)  345/    29C7 : E5                              push hl    
(1)  345/    29C8 : 21 FA FF                        ld hl,-6
(1)  345/    29CB : 39                              add hl,sp
(1)  345/    29CC : 22 C1 29                        ld (r_sp),hl
(1)  345/    29CF : 21 02 00                        ld hl,2
(1)  345/    29D2 : 39                              add hl,sp
(1)  345/    29D3 : 22 C3 29                        ld (old_sp),hl
(1)  345/    29D6 :                     
(1)  345/    29D6 : F5                              push af
(1)  345/    29D7 : ED 5F                           ld a,r              ; Salvar el estado de las interrupciones
(1)  345/    29D9 : F5                              push af
(1)  345/    29DA : E1                              pop hl
(1)  345/    29DB : 7D                              ld a,l
(1)  345/    29DC : 32 DD 18                        ld (prt_di),a           
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 134 - 8/12/2011 20:51:50


(1)  345/    29DF : F1                              pop af
(1)  345/    29E0 : E1                              pop hl
(1)  345/    29E1 : F3                              di
(1)  345/    29E2 :                                      
(1)  345/    29E2 : E5                              push hl
(1)  345/    29E3 : D5                              push de
(1)  345/    29E4 : C5                              push bc
(1)  345/    29E5 : F5                              push af
(1)  345/    29E6 : 22 C5 29                        ld (pushls),hl
(1)  345/    29E9 :                                 shift
(1)  345/    29E9 : (MACRO)                         pushlist 
(1)  345/    29E9 : =>FALSE                    if "" <> ""
(1)  345/    29E9 :                               pushlist 
(1)  345/    29E9 :                               pusht 
(1)  345/    29E9 : [345]                      endif
(1)  345/    29E9 : 21 B0 29                        ld hl,cad
(1)  345/    29EC : CD DE 18                        call prt_d
(1)  345/    29EF :                     
(1)  345/    29EF : 2A C1 29                        ld hl,(r_sp)
(1)  345/    29F2 : F9                              ld sp,hl    
(1)  345/    29F3 :                     
(1)  345/    29F3 : 3A DD 18                        ld a,(prt_di) 
(1)  345/    29F6 : CB 57                           bit 2,a
(1)  345/    29F8 : 28 01                           jr z,+
(1)  345/    29FA : FB                              ei          ; Restauramos estado de las interrupciones
(1)  345/    29FB :                     
(1)  345/    29FB : F1                  +           pop af
(1)  345/    29FC : C1                              pop bc
(1)  345/    29FD : D1                              pop de
(1)  345/    29FE : E1                              pop hl      
(1)  345/    29FF : [345]                         endif
(1)  345/    29FF : [345]                       endif
(1)  346/    29FF :                     	
(1)  347/    29FF :                     		
(1)  348/    29FF : DD E5               	PUSH	IX
(1)  349/    2A01 : FD E5               	PUSH	IY
(1)  350/    2A03 : 11 8B 6D            	LD	DE,BUFFER
(1)  351/    2A06 : CD 57 2B            	CALL	LOADIM
(1)  352/    2A09 :                     	
(1)  353/    2A09 : 21 8B 6D            	LD	HL,BUFFER
(1)  354/    2A0C : FD E1               	POP	IY
(1)  355/    2A0E : DD E1               	POP	IX
(1)  356/    2A10 : C5                  	PUSH	BC
(1)  357/    2A11 : CD 1B 36            	CALL	WAIT_COM
(1)  358/    2A14 : C1                  	POP	BC
(1)  359/    2A15 : CD 83 36            	CALL	PAINT
(1)  360/    2A18 : C9                  	RET
(1)  361/    2A19 :                         
(1)  362/    2A19 :                     
(1)  363/    2A19 :                     
(1)  364/    2A19 :                     
(1)  365/    2A19 :                     
(1)  366/    2A19 :                     
(1)  367/    2A19 :                     ;NOMBRE: LOADSP
(1)  368/    2A19 :                     ;OBJETIVO: CARGAR LOS DATOS DE LOS SPRITES.
(1)  369/    2A19 :                     
(1)  370/    2A19 : 21 AE 14            LOADSP:	LD	HL,NAMESP
(1)  371/    2A1C : CD 44 39            	CALL	FILEOPEN
(1)  372/    2A1F : 21 F0 00            	LD	HL,STRENL_VEC-CRUZSP1
(1)  373/    2A22 : 11 1F 3B            	LD	DE,CRUZSP1
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 135 - 8/12/2011 20:51:50


(1)  374/    2A25 : CD 64 39            	CALL	READFILE
(1)  375/    2A28 : CD 74 39            	CALL	CLOSEFILE
(1)  376/    2A2B : C9                  	RET
(1)  377/    2A2C :                     
(1)  378/    2A2C :                     
(1)  379/    2A2C :                     
(1)  380/    2A2C :                     
(1)  381/    2A2C :                     
(1)  382/    2A2C :                     
(1)  383/    2A2C :                     
(1)  384/    2A2C :                     ;NOMBRE: LOADMAP
(1)  385/    2A2C :                     ;OBJETIVO: CARGAR LOS DATOS DE UN MAPEADO.
(1)  386/    2A2C :                     ;ENTRADA: HL -> PUNTERO AL NOMBRE DEL MAPEADO
(1)  387/    2A2C :                     
(1)  388/    2A2C :                     
(1)  389/    2A2C : CD 44 39            LOADMAP:	CALL	FILEOPEN
(1)  390/    2A2F : 21 B8 00            	LD	HL,STRUCTMAPEADO
(1)  391/    2A32 : 11 67 3E            	LD	DE,MAPEADO_DAT
(1)  392/    2A35 : CD 64 39            	CALL	READFILE
(1)  393/    2A38 : 21 58 02            	LD	HL,SIZ_VECENL
(1)  394/    2A3B : 11 0F 3C            	LD	DE,STRENL_VEC
(1)  395/    2A3E : CD 64 39            	CALL	READFILE
(1)  396/    2A41 : CD 74 39            	CALL	CLOSEFILE
(1)  397/    2A44 : C9                  	RET
(1)  398/    2A45 :                     
(1)  399/    2A45 :                     
(1)  400/    2A45 :                     
(1)  401/    2A45 :                     
(1)  402/    2A45 : 21 C6 14            LOADTIPOS:	LD	HL,NOMTIPOS
(1)  403/    2A48 : CD 44 39            	CALL	FILEOPEN
(1)  404/    2A4B : 21 30 03            	LD	HL,SIZ_VECTIPOS
(1)  405/    2A4E : 11 A3 3F            	LD	DE,TIPOS_VEC
(1)  406/    2A51 : CD 64 39            	CALL	READFILE
(1)  407/    2A54 : CD 74 39            	CALL	CLOSEFILE
(1)  408/    2A57 : C9                  	RET
(1)  409/    2A58 :                     
(1)  410/    2A58 : 21 F6 14            LOAD_OBJ	LD	HL,OBJETOS
(1)  411/    2A5B : DD 21 00 00         	LD	IX,0
(1)  412/    2A5F : FD 21 00 02         	LD	IY,PAG_OBJETOS*256+COORDY_OBJ
(1)  413/    2A63 : CD AD 29            	CALL	LPIMAGE
(1)  414/    2A66 :                     
(1)  415/    2A66 : 21 1A 15            	LD	HL,NOM_OBJ
(1)  416/    2A69 : CD 44 39            	CALL	FILEOPEN
(1)  417/    2A6C : 21 E8 06            	LD	HL,SIZ_OBJV
(1)  418/    2A6F : 11 2F 66            	LD	DE,OBJ_VEC
(1)  419/    2A72 : CD 64 39            	CALL	READFILE
(1)  420/    2A75 : CD 74 39            	CALL	CLOSEFILE
(1)  421/    2A78 : C9                  	RET
(1)  422/    2A79 :                     
(1)  423/    2A79 :                     
(1)  424/    2A79 :                     
(1)  425/    2A79 :                     
(1)  426/    2A79 :                     ;NOMBRE: LOADNIVEL
(1)  427/    2A79 :                     ;OBJETIVO: CARGAR LOS DATOS DE CONFIGURACION DE UN NIVEL ASI COMO
(1)  428/    2A79 :                     ;          LOS PERSONAJES DEL NIVEL ENTERO
(1)  429/    2A79 :                     ;ENTRADA:  HL -> PUNTERO AL NOMBRE DEL NIVEL
(1)  430/    2A79 :                     
(1)  431/    2A79 :                     
(1)  432/    2A79 :                     
(1)  433/    2A79 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 136 - 8/12/2011 20:51:50


(1)  434/    2A79 :                     
(1)  435/    2A79 :                     
(1)  436/    2A79 :                     
(1)  437/    2A79 :                     
(1)  438/    2A79 :                     	
(1)  439/    2A79 :                     
(1)  440/    2A79 :                     LOADNIVEL:	
(1)  441/    2A79 : CD 44 39            	CALL	FILEOPEN
(1)  442/    2A7C : 21 84 00            	LD	HL,STRUCTNIVEL
(1)  443/    2A7F : 11 1F 3F            	LD	DE,NIVELDAT
(1)  444/    2A82 : CD 64 39            	CALL	READFILE
(1)  445/    2A85 : 21 F6 06            	LD	HL,SIZ_PERSOM+SIZ_PERSOC
(1)  446/    2A88 : 11 8B 6D            	LD	DE,BUFFER
(1)  447/    2A8B : CD 64 39            	CALL	READFILE
(1)  448/    2A8E : CD 74 39            	CALL	CLOSEFILE
(1)  449/    2A91 :                     
(1)  450/    2A91 : DD 21 8B 6D         	LD	IX,BUFFER
(1)  451/    2A95 : 06 1B               	LD	B,MAXPERSOM-MAXNUMPJS
(1)  452/    2A97 : 11 06 00            	LD	DE,STRUCTDEFPER
(1)  453/    2A9A :                     
(1)  454/    2A9A : 21 DD 49            	LD	HL,STRPER_VECMAP
(1)  455/    2A9D : 22 8B 14            	LD	(PTR_PERSO),HL
(1)  456/    2AA0 : FD 21 76 02         	LD	IY,MAXPERSOM*STRUCTPERSO
(1)  457/    2AA4 : 2E 0B               	LD	L,11
(1)  458/    2AA6 : 0E 03               	LD	C,MAXNUMPJS
(1)  459/    2AA8 :                     
(1)  460/    2AA8 : 79                  LOADNIV1	LD	A,C
(1)  461/    2AA9 : 08                  	EX	AF,AF'
(1)  462/    2AAA :                     
(1)  463/    2AAA : DD 7E 00            	LD	A,(IX+STRDEFP_TIPO)
(1)  464/    2AAD : B7                  	OR	A
(1)  465/    2AAE : 28 1A               	JR	Z,LOADNIV2
(1)  466/    2AB0 :                     
(1)  467/    2AB0 : D9                  	EXX
(1)  468/    2AB1 : 67                  	LD	H,A
(1)  469/    2AB2 : DD 4E 01            	LD	C,(IX+STRDEFP_X)
(1)  470/    2AB5 : DD 46 02            	LD	B,(IX+STRDEFP_X+1)
(1)  471/    2AB8 : DD 5E 03            	LD	E,(IX+STRDEFP_Y)
(1)  472/    2ABB : DD 56 04            	LD	D,(IX+STRDEFP_Y+1)
(1)  473/    2ABE : DD 6E 05            	LD	L,(IX+STRDEFP_DIR)
(1)  474/    2AC1 : 08                  	EX	AF,AF'
(1)  475/    2AC2 : DD E5               	PUSH	IX
(1)  476/    2AC4 : CD 9B 22            	CALL	INITPERSO
(1)  477/    2AC7 : DD E1               	POP	IX
(1)  478/    2AC9 : D9                  	EXX
(1)  479/    2ACA :                     
(1)  480/    2ACA : DD 19               LOADNIV2	ADD	IX,DE
(1)  481/    2ACC : 0C                  	INC	C
(1)  482/    2ACD : 10 D9               	DJNZ	LOADNIV1
(1)  483/    2ACF :                     
(1)  484/    2ACF : ED 4B 8B 14         	LD	BC,(PTR_PERSO)
(1)  485/    2AD3 : FD 09               	ADD	IY,BC
(1)  486/    2AD5 : FD 22 8B 14         	LD	(PTR_PERSO),IY
(1)  487/    2AD9 : FD 21 76 02         	LD	IY,MAXPERSOC*STRUCTPERSO
(1)  488/    2ADD : 2D                  	DEC	L
(1)  489/    2ADE : 20 07               	JR	NZ,LOADNIV3
(1)  490/    2AE0 : 21 DD 49            	LD	HL,STRPER_VECMAP
(1)  491/    2AE3 : 22 8B 14            	LD	(PTR_PERSO),HL
(1)  492/    2AE6 : C9                  	RET
(1)  493/    2AE7 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 137 - 8/12/2011 20:51:50


(1)  494/    2AE7 : 06 1B               LOADNIV3	LD	B,MAXPERSOC-MAXNUMPJS
(1)  495/    2AE9 : 0E 03               	LD	C,MAXNUMPJS
(1)  496/    2AEB : 18 BB               	JR	LOADNIV1
(1)  497/    2AED :                     
(1)  498/    2AED :                     
(1)  499/    2AED :                     
(1)  500/    2AED :                     ;NOMBRE: LOADPAT
(1)  501/    2AED :                     ;OBJETIVO: CARGAR LOS PATRONES DE UN MAPEADO
(1)  502/    2AED :                     ;ENTRADA: HL -> PUNTERO A LA PRIMERA ENTRADA DE LA TABLA DE PATRONES
(1)  503/    2AED :                     
(1)  504/    2AED :                     
(1)  505/    2AED :                     
(1)  506/    2AED : 22 1E 2B            LOADPAT:	LD	(LOADPATT),HL
(1)  507/    2AF0 :                     
(1)  508/    2AF0 : 0E 00               	LD	C,0
(1)  509/    2AF2 : 16 00               LOADPAT1:	LD	D,0
(1)  510/    2AF4 : C5                  	PUSH	BC
(1)  511/    2AF5 : 59                  	LD	E,C
(1)  512/    2AF6 : CB 23               	SLA	E
(1)  513/    2AF8 : 2A DE 12            	LD	HL,(TBLCP_PTR)
(1)  514/    2AFB : 19                  	ADD	HL,DE
(1)  515/    2AFC : 5E                  	LD	E,(HL)
(1)  516/    2AFD : D5                  	PUSH	DE
(1)  517/    2AFE : 23                  	INC	HL
(1)  518/    2AFF : 5E                  	LD	E,(HL)
(1)  519/    2B00 : D5                  	PUSH	DE
(1)  520/    2B01 :                     
(1)  521/    2B01 : DD E1               	POP	IX
(1)  522/    2B03 : D1                  	POP   DE
(1)  523/    2B04 : 16 03               	LD	D,PAG_PERSO
(1)  524/    2B06 : D5                  	PUSH DE
(1)  525/    2B07 : FD E1               	POP IY
(1)  526/    2B09 :                     
(1)  527/    2B09 : ED 5B 1E 2B         	LD	DE,(LOADPATT)
(1)  528/    2B0D : 21 0C 00            	LD	HL,12
(1)  529/    2B10 : 19                  	ADD	HL,DE
(1)  530/    2B11 : EB                  	EX	DE,HL
(1)  531/    2B12 : ED 53 1E 2B         	LD	(LOADPATT),DE
(1)  532/    2B16 : CD AD 29            	CALL	LPIMAGE
(1)  533/    2B19 :                     
(1)  534/    2B19 : C1                  	POP	BC
(1)  535/    2B1A : 0C                  	INC	C
(1)  536/    2B1B : 10 D5               	DJNZ	LOADPAT1
(1)  537/    2B1D : C9                  	RET
(1)  538/    2B1E :                     
(1)  539/    2B1E :                     
(1)  540/    2B1E : 00 00               LOADPATT:	DW	0
(1)  541/    2B20 :                     
(1)  542/    2B20 :                     
(1)  543/    2B20 :                     
(1)  544/    2B20 :                     
(1)  545/    2B20 :                     
(1)  546/    2B20 :                     	
(1)  547/    2B20 :                     
(1)  548/    2B20 :                     ;NOMBRE: CAMBIA_INT
(1)  549/    2B20 :                     ;OBJETIVO: COLOCA COMO VECTOR DE INTERRUPCION EL TEMPORIZADOR
(1)  550/    2B20 :                     ;ENTRADA: HL -> PUNTERO AL JUMP CORRESPONDIENTE
(1)  551/    2B20 :                     
(1)  552/    2B20 : 21 4C 2B            PUT_VINT:	LD	HL,MI_VECTOR
(1)  553/    2B23 : D9                  CAMBIA_INT:	EXX
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 138 - 8/12/2011 20:51:50


(1)  554/    2B24 : 21 38 00            	LD	HL,INT
(1)  555/    2B27 : 11 51 2B            	LD	DE,VECTOR_INT
(1)  556/    2B2A : 01 05 00            	LD	BC,5
(1)  557/    2B2D : ED B0               	LDIR
(1)  558/    2B2F : D9                  	EXX
(1)  559/    2B30 : F3                  	DI
(1)  560/    2B31 : 21 4C 2B            	LD	HL,MI_VECTOR
(1)  561/    2B34 : 11 38 00            	LD	DE,INT
(1)  562/    2B37 : 01 05 00            	LD	BC,5
(1)  563/    2B3A : ED B0               	LDIR
(1)  564/    2B3C : FB                  	EI
(1)  565/    2B3D : C9                  	RET
(1)  566/    2B3E :                     
(1)  567/    2B3E :                     
(1)  568/    2B3E :                     ;NOMBRE: RESTORE_INT
(1)  569/    2B3E :                     ;OBJETIVO: COLOCA EL VECTOR DE INTERRUPCION ANTERIOR
(1)  570/    2B3E :                     
(1)  571/    2B3E :                     
(1)  572/    2B3E : F3                  RESTORE_INT:	DI
(1)  573/    2B3F : 21 51 2B            	LD	HL,VECTOR_INT
(1)  574/    2B42 : 11 38 00            	LD	DE,INT
(1)  575/    2B45 : 01 05 00            	LD	BC,5
(1)  576/    2B48 : ED B0               	LDIR
(1)  577/    2B4A : FB                  	EI
(1)  578/    2B4B : C9                  	RET
(1)  579/    2B4C :                     
(1)  580/    2B4C :                     
(1)  581/    2B4C : C3 E6 36            MI_VECTOR:	JP	INTERRUPT
(1)  582/    2B4F : 00 00               	DB	0,0
(1)  583/    2B51 :                     
(1)  584/    2B51 :                     
(1)  585/    2B51 : 00 00 00 00 00      VECTOR_INT:	DB	0,0,0,0,0
(1)  586/    2B56 : 00                  TIME_:	DB	0
(1)  587/    2B57 :                     
(1)  588/    2B57 :                     
(1)  589/    2B57 :                     
(1)  590/    2B57 :                     ;NOMBRE: LOADIM
(1)  591/    2B57 :                     ;OBJETIVO: ESTA FUNCION LEE UN FICHERO QUE SE LE PASA COMO PARAMETRO
(1)  592/    2B57 :                     ;          Y LO DEPOSITA EN LA POSICION APUNTADA POR HL
(1)  593/    2B57 :                     ;ENTRADA: HL-> NOMBRE DEL FICHERO RAW
(1)  594/    2B57 :                     ;         DE-> BUFFER DESTINO
(1)  595/    2B57 :                     ;SALIDA:  DE->  ALTO
(1)  596/    2B57 :                     ;         BC->  ANCHO (PIXELS)
(1)  597/    2B57 :                     ;         A->  SERA 0 SI NO HA HABIDO NINGUN ERROR Y OTRO VALOR EN CASO
(1)  598/    2B57 :                     ;              CONTRARIO
(1)  599/    2B57 :                     ;MODIFICA: DE,HL,BC,AF
(1)  600/    2B57 :                     
(1)  601/    2B57 :                     
(1)  602/    2B57 : CD 44 39            LOADIM:	CALL	FILEOPEN
(1)  603/    2B5A : 21 04 00            	LD	HL,4
(1)  604/    2B5D : 11 8B 6D            	LD	DE,BUFFER
(1)  605/    2B60 : CD 64 39            	CALL	READFILE
(1)  606/    2B63 : ED 5B 8D 6D         	LD	DE,(BUFFER+2)
(1)  607/    2B67 : 2A 8B 6D            	LD	HL,(BUFFER)
(1)  608/    2B6A : E5                  	PUSH	HL
(1)  609/    2B6B : D5                  	PUSH	DE
(1)  610/    2B6C : CD 88 12            	CALL	MULTHLDE
(1)  611/    2B6F : 11 8B 6D            	LD	DE,BUFFER
(1)  612/    2B72 : CD 64 39            	CALL	READFILE
(1)  613/    2B75 : CD 74 39            	CALL	CLOSEFILE
 AS V1.42 Beta [Bld 28] - source file game.asm(sys.asm) - page 139 - 8/12/2011 20:51:50


(1)  614/    2B78 : C1                  	POP	BC
(1)  615/    2B79 : D1                  	POP	DE
(1)  616/    2B7A : CB 23               	SLA	E
(1)  617/    2B7C : CB 12               	RL	D
(1)  618/    2B7E : C9                  	RET
(1)  619/    2B7F :                     	
(1)  620/    2B7F :                     	
(1)  621/    2B7F :                     	
(1)  622/    2B7F :                     		
(1)  623/    2B7F :                     
(1)  624/    2B7F :                     	
(1)  625/    2B7F :                     
(1)  626/    2B7F :                     
(1)  627/    2B7F :                     	
(1)  628/    2B7F :                     
(1)  629/    2B7F :                     
(1)  630/    2B7F :                     				
(1)  631/    2B7F :                     	
(1)  632/    2B7F :                     	
(1)  633/    2B7F :                     			  
(1)  634/    2B7F :                     	   
(1)  635/    2B7F :                     	
(1)  636/    2B7F :                     	
(1)  637/    2B7F :                     		
(1)  638/    2B7F :                     	
(1)  639/    2B7F :                     						
    3254/    2B7F :                     	include "control.asm"
(1)    1/    2B7F :                     
(1)    2/    2B7F :                     
(1)    3/    2B7F :                     
(1)    4/    2B7F :                     ;NOMBRE: GET_DIR
(1)    5/    2B7F :                     ;OBJETIVO: COLOCA EN DIR_ACTUAL LA DIRECCION QUE CORRESPONDA SEGUN EL MODO DE
(1)    6/    2B7F :                     ;          DE FUNCIONAMIENTO.
(1)    7/    2B7F :                     ;ENTRADA:  (MODO_GET_DIR)  -> SI  VALE  GET_DIR_KEY ENTONCES RECOGE EL
(1)    8/    2B7F :                     ;                             VALOR DEL TECLADO
(1)    9/    2B7F :                     ;                          -> SI  VALE  GET_DIR_BUFF ENTONCES RECOGE EL
(1)   10/    2B7F :                     ;                             VALOR DEL BUFFER DIR_BUFF A PARTIR DEL PUNTERO
(1)   11/    2B7F :                     ;                             PTR_GET_DIR, INCREMENTADO EL MISMO. EN CASO
(1)   12/    2B7F :                     ;                             DE QUE LLEGUE AL FINAL DEL BUFFER DEVUELVE UN 1
(1)   13/    2B7F :                     ;                             EN A, EN CASO CONTRARIO SERA UN 0.
(1)   14/    2B7F :                     ;                          -> SI VALE   GET_DIR_VAL ACTUA IGUAL QUE EL ANTERIOR
(1)   15/    2B7F :                     ;                             PERO NO INCRENENTA EL PUNTERO.
(1)   16/    2B7F :                     ;          (HANDLE_EKB)    -> CONTIENE LA RUTINA QUE SE ENCARGA DE MANEJAR EL
(1)   17/    2B7F :                     ;                             ERROR DE FIN DE BUFFER. ESTO SE DETECTA CUANDO
(1)   18/    2B7F :                     ;                             HAYA UN $FF EN EL BUFFER.
(1)   19/    2B7F :                     ;SI SE USA EL MODO 1 O 2 ES OBLIGATORIO PONER UN MANEJADOR Y COLOCAR UN BUFFER.
(1)   20/    2B7F :                     ;GUARDANDO SIEMPRE LOS VALORES ANTERIORES, Y EN EL MANEJADOR SALTANDO AL
(1)   21/    2B7F :                     ;ANTERIOR SI DE NUEVO SE LEE 255
(1)   22/    2B7F :                     ;MODIFICA: AF,BC
(1)   23/    2B7F :                     
(1)   24/    2B7F :                     
(1)   25/    2B7F :                     GET_FUNC:	
(1)   26/    2B7F : AF                  	XOR	A	;PARCHEO
(1)   27/    2B80 : 32 01 2C            	LD	(GET_DIROP2),A
(1)   28/    2B83 : 32 F0 2B            	LD	(GET_DIROP1),A
(1)   29/    2B86 : 21 9F 14            	LD	HL,FUNC_ACT
(1)   30/    2B89 : 22 0F 2C            	LD	(GET_DIROP4+1),HL
(1)   31/    2B8C :                     
(1)   32/    2B8C : ED 5B 45 2C         	LD	DE,(PTR_EXCP)
(1)   33/    2B90 : D5                  	PUSH	DE
 AS V1.42 Beta [Bld 28] - source file game.asm(control.asm) - page 140 - 8/12/2011 20:51:50


(1)   34/    2B91 : DD E1               	POP	IX
(1)   35/    2B93 : 21 02 00            	LD	HL,STREXCP_PTR
(1)   36/    2B96 : 19                  	ADD	HL,DE
(1)   37/    2B97 : 4D                  	LD	C,L
(1)   38/    2B98 : 44                  	LD	B,H
(1)   39/    2B99 : 21 05 00            	LD	HL,STREXCP_BUF
(1)   40/    2B9C : 19                  	ADD	HL,DE
(1)   41/    2B9D : 7E                  	LD	A,(HL)
(1)   42/    2B9E : 23                  	INC	HL
(1)   43/    2B9F : 66                  	LD	H,(HL)
(1)   44/    2BA0 : 6F                  	LD	L,A
(1)   45/    2BA1 : D9                  	EXX
(1)   46/    2BA2 : 11 52 37            	LD	DE,BUFFER_FUNC
(1)   47/    2BA5 : 21 9F 14            	LD	HL,FUNC_ACT
(1)   48/    2BA8 : CD E3 2B            	CALL	GET_KEY
(1)   49/    2BAB : 3E 02               	LD	A,2	;COLOCO EL LD (BC),A
(1)   50/    2BAD : 32 01 2C            	LD	(GET_DIROP2),A
(1)   51/    2BB0 : 3E 12               	LD	A,12h
(1)   52/    2BB2 : 32 F0 2B            	LD	(GET_DIROP1),A
(1)   53/    2BB5 : 21 9E 14            	LD	HL,DIR_ACTUAL
(1)   54/    2BB8 : 22 0F 2C            	LD	(GET_DIROP4+1),HL
(1)   55/    2BBB : C9                  	RET
(1)   56/    2BBC :                     
(1)   57/    2BBC :                     
(1)   58/    2BBC :                     GET_DIR:	
(1)   59/    2BBC : CD C7 2B            	CALL	GET_KEYBOARD
(1)   60/    2BBF : 21 9E 14            	LD	HL,DIR_ACTUAL
(1)   61/    2BC2 : 7E                  	LD	A,(HL)
(1)   62/    2BC3 : E6 87               	AND	10000111b	;ELIMINO LOS BITS DE FUNCION
(1)   63/    2BC5 : 77                  	LD	(HL),A
(1)   64/    2BC6 : C9                  	RET
(1)   65/    2BC7 :                     
(1)   66/    2BC7 :                     
(1)   67/    2BC7 :                     GET_KEYBOARD:	
(1)   68/    2BC7 : ED 5B 45 2C         	LD	DE,(PTR_EXCP)
(1)   69/    2BCB : D5                  	PUSH	DE
(1)   70/    2BCC : DD E1               	POP	IX
(1)   71/    2BCE : 21 02 00            	LD	HL,STREXCP_PTR
(1)   72/    2BD1 : 19                  	ADD	HL,DE
(1)   73/    2BD2 : 4D                  	LD	C,L
(1)   74/    2BD3 : 44                  	LD	B,H
(1)   75/    2BD4 : 21 05 00            	LD	HL,STREXCP_BUF
(1)   76/    2BD7 : 19                  	ADD	HL,DE
(1)   77/    2BD8 : 7E                  	LD	A,(HL)
(1)   78/    2BD9 : 23                  	INC	HL
(1)   79/    2BDA : 66                  	LD	H,(HL)
(1)   80/    2BDB : 6F                  	LD	L,A
(1)   81/    2BDC : D9                  	EXX
(1)   82/    2BDD :                     
(1)   83/    2BDD : 11 9B 37            	LD	DE,BUFFER_INT	;
(1)   84/    2BE0 : 21 9E 14            	LD	HL,DIR_ACTUAL	;
(1)   85/    2BE3 :                     
(1)   86/    2BE3 : DD 7E 04            GET_KEY	LD	A,(IX+STREXCP_MOD)
(1)   87/    2BE6 : FE 00               	CP	GET_DIR_KEY
(1)   88/    2BE8 : 20 09               	JR	NZ,GET_DIR1
(1)   89/    2BEA :                     
(1)   90/    2BEA : F3                  	DI
(1)   91/    2BEB : 1A                  	LD	A,(DE)
(1)   92/    2BEC : 47                  	LD	B,A
(1)   93/    2BED : 77                  	LD	(HL),A
 AS V1.42 Beta [Bld 28] - source file game.asm(control.asm) - page 141 - 8/12/2011 20:51:50


(1)   94/    2BEE : 3E 80               	LD	A,80h
(1)   95/    2BF0 : 12                  GET_DIROP1	LD	(DE),A
(1)   96/    2BF1 : FB                  	EI
(1)   97/    2BF2 : C9                  	RET
(1)   98/    2BF3 :                     
(1)   99/    2BF3 : 08                  GET_DIR1	EX	AF,AF'
(1)  100/    2BF4 : D9                  	EXX
(1)  101/    2BF5 : 0A                  	LD	A,(BC)
(1)  102/    2BF6 : 5F                  	LD	E,A
(1)  103/    2BF7 : 16 00               	LD	D,0
(1)  104/    2BF9 : 19                  	ADD	HL,DE
(1)  105/    2BFA : 08                  	EX	AF,AF'
(1)  106/    2BFB : FE 01               	CP	GET_DIR_BUFF
(1)  107/    2BFD : 20 03               	JR	NZ,GET_DIR2
(1)  108/    2BFF :                     
(1)  109/    2BFF : 7B                  	LD	A,E
(1)  110/    2C00 : 3C                  	INC	A
(1)  111/    2C01 : 02                  GET_DIROP2	LD	(BC),A
(1)  112/    2C02 :                     
(1)  113/    2C02 : 7E                  GET_DIR2	LD	A,(HL)
(1)  114/    2C03 : DD 6E 00            	LD	L,(IX+STREXCP_HAND)
(1)  115/    2C06 : DD 66 01            	LD	H,(IX+STREXCP_HAND+1)
(1)  116/    2C09 : FE FF               	CP	0FFh
(1)  117/    2C0B : 20 01               	JR	NZ,GET_DIR3
(1)  118/    2C0D : E9                  	JP	(HL)
(1)  119/    2C0E :                     
(1)  120/    2C0E :                     GET_DIROP4
(1)  121/    2C0E : 32 9E 14            GET_DIR3	LD	(DIR_ACTUAL),A
(1)  122/    2C11 : C9                  	RET
(1)  123/    2C12 :                     
(1)  124/    2C12 :                     
(1)  125/    2C12 : 47 2C               HANDLE_EKB:		DW	HANDLE_DEF	;ESTO TAMBIEN TENGO QUE INICIALIZARLO
(1)  126/    2C14 : 00                  PTR_GET_DIR:	DB	0
(1)  127/    2C15 : 00                  MODO_GET_DIR:	DB	0
(1)  128/    2C16 : 00 00               DIR_BUFF:		DW	0
(1)  129/    2C18 :                     
(1)  130/    2C18 :                     
(1)  131/    2C18 :                     STACK_EXC:		DS	STRUCTEXCEP*5
(1)  132/    2C45 : 12 2C               PTR_EXCP:		DW	HANDLE_EKB	;SI QUIEROHACER REENTRANTE EL CODIGO
(1)  133/    2C47 :                     ;                                       ;TENGO QUE INICIALIZAR ESTOS VALORES
(1)  134/    2C47 :                     
(1)  135/    2C47 :                     
(1)  136/    2C47 : C9                  HANDLE_DEF:	RET
(1)  137/    2C48 :                     
(1)  138/    2C48 :                     
(1)  139/    2C48 :                     ;NOMBRE: ADD_EXCP
(1)  140/    2C48 :                     ;OBJETIVO: AGNADE UN ENTORNO A LA PILA DE EXCEPCIONES A PARTIR DEL ENTORNO
(1)  141/    2C48 :                     ;          ACTUAL. SI NO SE HA RESTAURADO CORRECTAMENTE EL ESTADO DE LA PILA
(1)  142/    2C48 :                     ;          ES POSIBLE QUE SE PIERDA INFORMACION
(1)  143/    2C48 :                     ;ENTRADA:  DE -> DIRECCION DE LA RUTINA DE SERVICIO DE LA EXCEPCION
(1)  144/    2C48 :                     ;          HL -> DIRECCION DEL BUFFER DONDE SE ALMACENAN LOS DATOS
(1)  145/    2C48 :                     ;          A  -> MODO DE LECTURA DE LA DIRECCION
(1)  146/    2C48 :                     ;          BC -> DIRECCION DEL BUFFER DONDE SE ALMACENAN LOS DATOS DE LAS
(1)  147/    2C48 :                     ;                FUNCIONES.
(1)  148/    2C48 :                     
(1)  149/    2C48 : C5                  ADD_EXCP:	PUSH	BC
(1)  150/    2C49 : DD 2A 45 2C         	LD	IX,(PTR_EXCP)
(1)  151/    2C4D : 01 09 00            	LD	BC,STRUCTEXCEP
(1)  152/    2C50 : DD 09               	ADD	IX,BC
(1)  153/    2C52 : DD 22 45 2C         	LD	(PTR_EXCP),IX
 AS V1.42 Beta [Bld 28] - source file game.asm(control.asm) - page 142 - 8/12/2011 20:51:50


(1)  154/    2C56 : DD 73 00            	LD	(IX+STREXCP_HAND),E
(1)  155/    2C59 : DD 72 01            	LD	(IX+STREXCP_HAND+1),D
(1)  156/    2C5C : DD 77 04            	LD	(IX+STREXCP_MOD),A
(1)  157/    2C5F : AF                  	XOR	A
(1)  158/    2C60 : DD 77 02            	LD	(IX+STREXCP_PTR),A
(1)  159/    2C63 : DD 77 03            	LD	(IX+STREXCP_PTRF),A
(1)  160/    2C66 : DD 75 05            	LD	(IX+STREXCP_BUF),L
(1)  161/    2C69 : DD 74 06            	LD	(IX+STREXCP_BUF+1),H
(1)  162/    2C6C : C1                  	POP	BC
(1)  163/    2C6D : DD 71 07            	LD	(IX+STREXCP_BUFF),C
(1)  164/    2C70 : DD 70 08            	LD	(IX+STREXCP_BUFF+1),B
(1)  165/    2C73 : C9                  	RET
(1)  166/    2C74 :                     
(1)  167/    2C74 :                     
(1)  168/    2C74 :                     ;NOMBRE: UP_EXCP
(1)  169/    2C74 :                     ;OBJETIVO: CAMBIA EL ENTORNO DE EXCEPCIONES UNO HACIA ARRIBA (DECREMENTA EL PUNTERO)
(1)  170/    2C74 :                     
(1)  171/    2C74 : 2A 45 2C            UP_EXCP:	LD	HL,(PTR_EXCP)
(1)  172/    2C77 : 11 F7 FF            	LD	DE,-STRUCTEXCEP
(1)  173/    2C7A : 19                  	ADD	HL,DE
(1)  174/    2C7B : 22 45 2C            	LD	(PTR_EXCP),HL
(1)  175/    2C7E : C9                  	RET
(1)  176/    2C7F :                     
(1)  177/    2C7F :                     
(1)  178/    2C7F :                     ;NOMBRE: DW_EXCP
(1)  179/    2C7F :                     ;OBJETIVO: DECREMENTAR EL ENTORNO DE EXCEPCIONES (AUMENTA EL PUNTERO)
(1)  180/    2C7F :                     
(1)  181/    2C7F : 2A 45 2C            DW_EXCP:	LD	HL,(PTR_EXCP)
(1)  182/    2C82 : 11 09 00            	LD	DE,STRUCTEXCEP
(1)  183/    2C85 : 19                  	ADD	HL,DE
(1)  184/    2C86 : 22 45 2C            	LD	(PTR_EXCP),HL
(1)  185/    2C89 : C9                  	RET
(1)  186/    2C8A :                     
(1)  187/    2C8A :                     
(1)  188/    2C8A :                     
(1)  189/    2C8A :                     ;NOMBRE: TEST_FUNC
(1)  190/    2C8A :                     ;OBJETIVO: COMPRUEBA SI SE HA PULSADO UNA TECLA DE FUNCION. SI SE HA PULSADO
(1)  191/    2C8A :                     ;          ESPERA HASTA EL FINAL DE LA PULSACION.
(1)  192/    2C8A :                     ;ENTRADA: A -> TECLA DE FUNCION CHEQUEADA
(1)  193/    2C8A :                     ;SALIDA:  A -> 0 SI NO SE HA PULSADO, 1 EN CASO CONTRARIO
(1)  194/    2C8A :                     ;
(1)  195/    2C8A :                     
(1)  196/    2C8A :                     
(1)  197/    2C8A :                     TEST_FUNC:	
(1)  198/    2C8A : F5                  	PUSH	AF
(1)  199/    2C8B : CD 7F 2B            	CALL	GET_FUNC
(1)  200/    2C8E : 3A 9F 14            	LD	A,(FUNC_ACT)
(1)  201/    2C91 : C1                  	POP	BC
(1)  202/    2C92 : A0                  	AND	B
(1)  203/    2C93 : C9                  	RET
(1)  204/    2C94 :                     
(1)  205/    2C94 :                     
(1)  206/    2C94 :                     
(1)  207/    2C94 :                     ;NOMBRE: LEETECLA
(1)  208/    2C94 :                     ;OBJETIVO: DEVUELVE LA DIRECCION PULSADA EN EL TECLADO. SI NO SE HA PULSADO
(1)  209/    2C94 :                     ;          NADA PONE EL BIT 7 A 1.
(1)  210/    2C94 :                     ;MODIFICA: AF,BC
(1)  211/    2C94 :                     
(1)  212/    2C94 :                     ;;; Esta funcion se puede optimizar, comprobar si han cambiadolas filas y si
(1)  213/    2C94 :                     ;;; No se ha recogido la ultima tecla 
 AS V1.42 Beta [Bld 28] - source file game.asm(control.asm) - page 143 - 8/12/2011 20:51:50


(1)  214/    2C94 :                     ;;; (si no han cambiado y no se ha recogido -> salir)
(1)  215/    2C94 :                     ;;; (si se ha recogido (o es noTecla) -> ejecutar)
(1)  216/    2C94 :                     ;;; Para poder hacerlo bien es necesario partir la funcion de la siguiente manera:
(1)  217/    2C94 :                     ;;; Cada 3 interrupciones se leen las dos filas.Despues se llaman a 2 funciones
(1)  218/    2C94 :                     ;;; Una para direccion y otra para acciones.
(1)  219/    2C94 :                     	
(1)  220/    2C94 :                     		
(1)  221/    2C94 :                     LEETECLA:
(1)  222/    2C94 : 21 34 2D            	LD HL,KEY_TIME
(1)  223/    2C97 : 35                  	DEC (HL)
(1)  224/    2C98 : C0                  	RET NZ
(1)  225/    2C99 : 3E 03               	LD A,3
(1)  226/    2C9B : 77                  	LD (HL),A
(1)  227/    2C9C :                     			
(1)  228/    2C9C :                     
(1)  229/    2C9C : AF                  LEEF	XOR	A
(1)  230/    2C9D : 32 38 2D            	LD	(LEETFUNC),A
(1)  231/    2CA0 :                     
(1)  232/    2CA0 : 3E 06               	LD	A,6       
(1)  233/    2CA2 : CD 3A 2D            	CALL	LEE_FILA_KB	
(1)  234/    2CA5 : 2F                  	CPL
(1)  235/    2CA6 : E6 20               	AND	00100000b
(1)  236/    2CA8 : 47                  	LD	B,A
(1)  237/    2CA9 : 3A 36 2D            	LD	A,(KEY_F1ST)
(1)  238/    2CAC : A8                  	XOR	B
(1)  239/    2CAD : A0                  	AND	B
(1)  240/    2CAE : CA B6 2C            	JP	Z,LEEF1
(1)  241/    2CB1 : 3E 20               	LD	A,F1_KEY
(1)  242/    2CB3 : 32 38 2D            	LD	(LEETFUNC),A
(1)  243/    2CB6 :                     	
(1)  244/    2CB6 : 78                  LEEF1	LD	A,B
(1)  245/    2CB7 : 32 36 2D            	LD	(KEY_F1ST),A
(1)  246/    2CBA :                     
(1)  247/    2CBA :                     LEETA1	
(1)  248/    2CBA : 3E 08               	LD	A,8
(1)  249/    2CBC : CD 3A 2D            	CALL	LEE_FILA_KB
(1)  250/    2CBF :                     	
(1)  251/    2CBF : 4F                  	LD	C,A
(1)  252/    2CC0 : 2F                  	CPL
(1)  253/    2CC1 : E6 01               	AND	00000001b
(1)  254/    2CC3 : 47                  	LD	B,A
(1)  255/    2CC4 : 3A 35 2D            	LD	A,(KEY_SPST)
(1)  256/    2CC7 : A8                  	XOR	B
(1)  257/    2CC8 : A0                  	AND	B
(1)  258/    2CC9 : CA D1 2C            	JP	Z,LEESP
(1)  259/    2CCC : 3E 40               	LD	A,SPC_KEY
(1)  260/    2CCE : 32 38 2D            	LD	(LEETFUNC),A
(1)  261/    2CD1 : 78                  LEESP	LD	A,B
(1)  262/    2CD2 : 32 35 2D            	LD	(KEY_SPST),A
(1)  263/    2CD5 :                     
(1)  264/    2CD5 : 3E 80               LEET0	LD	A,80h
(1)  265/    2CD7 : CB 61               	BIT	4,C	;IZQUIERDA
(1)  266/    2CD9 : C2 F8 2C            	JP	NZ,LEET1
(1)  267/    2CDC :                     
(1)  268/    2CDC : 3A 39 2D            	LD	A,(MOV_DIG)
(1)  269/    2CDF : B7                  	OR	A
(1)  270/    2CE0 : 3E 01               	LD	A,IZQUIERDA
(1)  271/    2CE2 : CA 19 2D            	JP	Z,LEET2
(1)  272/    2CE5 :                     
(1)  273/    2CE5 : CB 69               	BIT	5,C	;IZQUIERDA ARRIBA
 AS V1.42 Beta [Bld 28] - source file game.asm(control.asm) - page 144 - 8/12/2011 20:51:50


(1)  274/    2CE7 : 3E 07               	LD	A,ARR_IZQ
(1)  275/    2CE9 : CA 2D 2D            	JP	Z,LEETFIN
(1)  276/    2CEC :                     
(1)  277/    2CEC : CB 71               	BIT	6,C	;IZQUIERDA ABAJO
(1)  278/    2CEE : 3E 05               	LD	A,ABA_IZQ
(1)  279/    2CF0 : CA 2D 2D            	JP	Z,LEETFIN
(1)  280/    2CF3 :                     
(1)  281/    2CF3 : 3E 01               	LD	A,IZQUIERDA
(1)  282/    2CF5 : C3 2D 2D            	JP	LEETFIN
(1)  283/    2CF8 :                     
(1)  284/    2CF8 :                     
(1)  285/    2CF8 : CB 79               LEET1	BIT	7,C	;DERECHA
(1)  286/    2CFA : C2 19 2D            	JP	NZ,LEET2
(1)  287/    2CFD :                     
(1)  288/    2CFD : 3A 39 2D            	LD	A,(MOV_DIG)
(1)  289/    2D00 : B7                  	OR	A
(1)  290/    2D01 : 3E 00               	LD	A,DERECHA
(1)  291/    2D03 : CA 19 2D            	JP	Z,LEET2
(1)  292/    2D06 :                     
(1)  293/    2D06 : CB 69               	BIT	5,C	;DERECHA ARRIBA
(1)  294/    2D08 : 3E 06               	LD	A,ARR_DER
(1)  295/    2D0A : CA 2D 2D            	JP	Z,LEETFIN
(1)  296/    2D0D :                     
(1)  297/    2D0D : CB 71               	BIT	6,C	;DERECHA ABAJO
(1)  298/    2D0F : 3E 04               	LD	A,ABA_DER
(1)  299/    2D11 : CA 2D 2D            	JP	Z,LEETFIN
(1)  300/    2D14 :                     
(1)  301/    2D14 : 3E 00               	LD	A,DERECHA
(1)  302/    2D16 : C3 2D 2D            	JP	LEETFIN
(1)  303/    2D19 :                     
(1)  304/    2D19 :                     
(1)  305/    2D19 : CB 69               LEET2	BIT	5,C	;ARRIBA
(1)  306/    2D1B : C2 23 2D            	JP	NZ,LEET3
(1)  307/    2D1E : 3E 02               	LD	A,ARRIBA
(1)  308/    2D20 : C3 2D 2D            	JP	LEETFIN
(1)  309/    2D23 :                     
(1)  310/    2D23 :                     
(1)  311/    2D23 : CB 71               LEET3	BIT	6,C	;ABAJO
(1)  312/    2D25 : C2 2D 2D            	JP	NZ,LEETFIN
(1)  313/    2D28 : 3E 03               	LD	A,ABAJO
(1)  314/    2D2A : C3 2D 2D            	JP	LEETFIN
(1)  315/    2D2D :                     
(1)  316/    2D2D :                     
(1)  317/    2D2D :                     LEETFIN	
(1)  318/    2D2D : 47                  	LD	B,A
(1)  319/    2D2E : 32 37 2D            	LD	(LEETECLAV),A
(1)  320/    2D31 : C9                  	RET
(1)  321/    2D32 :                     
(1)  322/    2D32 :                     
(1)  323/    2D32 :                     
(1)  324/    2D32 : 00                  KEY_ROW1:	DB	0
(1)  325/    2D33 : 00                  KEY_ROW2:	DB	0		
(1)  326/    2D34 : 04                  KEY_TIME:	DB      4	; Este valor hay que inicializarlo
(1)  327/    2D35 : 00                  KEY_SPST:	DB	0
(1)  328/    2D36 : 00                  KEY_F1ST:	DB	0
(1)  329/    2D37 : 00                  LEETECLAV:	DB	0
(1)  330/    2D38 : 00                  LEETFUNC:	DB	0
(1)  331/    2D39 : 00                  MOV_DIG:	DB	0
(1)  332/    2D3A :                     
(1)  333/    2D3A :                     	
 AS V1.42 Beta [Bld 28] - source file game.asm(control.asm) - page 145 - 8/12/2011 20:51:50


(1)  334/    2D3A :                     	
(1)  335/    2D3A :                     	
(1)  336/    2D3A :                     	
(1)  337/    2D3A :                     ;NOMBRE: LEE_FILA_KB
(1)  338/    2D3A :                     ;OBJETIVO: ESTA FUNCION LEE EL ESTADO DE LA FILA DEL TECLADO
(1)  339/    2D3A :                     ;ENTRADA:  A-> FILA QUE SE LEE
(1)  340/    2D3A :                     ;SALIDA: A-> ESTADO DE LA FILA
(1)  341/    2D3A :                     ;MODIFICA: AF,B
(1)  342/    2D3A :                     
(1)  343/    2D3A : F3                  LEE_FILA_KB:	DI
(1)  344/    2D3B : 47                  	LD	B,A
(1)  345/    2D3C : DB AA               	IN	A,(0AAh)
(1)  346/    2D3E : E6 F0               	AND	0F0h
(1)  347/    2D40 : B0                  	OR	B
(1)  348/    2D41 : D3 AA               	OUT	(0AAh),A
(1)  349/    2D43 : DB A9               	IN	A,(0A9h)
(1)  350/    2D45 : FB                  	EI
(1)  351/    2D46 : C9                  	RET
(1)  352/    2D47 :                     
    3255/    2D47 :                     	include "obj.asm"
(1)    1/    2D47 :                     ;NOMBRE: PUT_OBJI
(1)    2/    2D47 :                     ;OBJETIVO: PINTAR UN OBJETO DEL INVENTARIO
(1)    3/    2D47 :                     ;ENTRADA: A -> NUMERO DE OBJETO
(1)    4/    2D47 :                     ;         C -> CODIGO DE OBJETO
(1)    5/    2D47 :                     
(1)    6/    2D47 :                     
(1)    7/    2D47 :                     PUT_OBJI:	
(1)    8/    2D47 : 21 E7 1C            	LD	HL,SHOWINVB
(1)    9/    2D4A :                     
(1)   10/    2D4A : 08                  	EX	AF,AF'
(1)   11/    2D4B : 79                  	LD	A,C
(1)   12/    2D4C : FE FF               	CP	-1
(1)   13/    2D4E : C8                  	RET	Z
(1)   14/    2D4F : 08                  	EX	AF,AF'
(1)   15/    2D50 :                     
(1)   16/    2D50 : 87                  	ADD	A,A
(1)   17/    2D51 : 5F                  	LD	E,A
(1)   18/    2D52 : 16 00               	LD	D,0
(1)   19/    2D54 : 19                  	ADD	HL,DE
(1)   20/    2D55 :                     
(1)   21/    2D55 : 7E                  	LD	A,(HL)
(1)   22/    2D56 : 32 A5 2D            	LD	(PUT_OBJIE+4),A
(1)   23/    2D59 : 23                  	INC	HL
(1)   24/    2D5A : 7E                  	LD	A,(HL)
(1)   25/    2D5B : 32 A7 2D            	LD	(PUT_OBJIE+6),A
(1)   26/    2D5E :                     
(1)   27/    2D5E :                     
(1)   28/    2D5E : CB 79               	BIT	7,C
(1)   29/    2D60 : 3E 10               	LD	A,16
(1)   30/    2D62 : 28 02               	JR	Z,PUT_OBJI1
(1)   31/    2D64 : 3E 08               	LD	A,8
(1)   32/    2D66 :                     
(1)   33/    2D66 : 32 A9 2D            PUT_OBJI1	LD	(PUT_OBJIE+8),A
(1)   34/    2D69 : 32 AB 2D            	LD	(PUT_OBJIE+10),A
(1)   35/    2D6C :                     
(1)   36/    2D6C :                     
(1)   37/    2D6C : 16 00               	LD	D,0
(1)   38/    2D6E : 59                  	LD	E,C
(1)   39/    2D6F : 21 34 00            	LD	HL,STRUCTOBJETO
(1)   40/    2D72 : CD 88 12            	CALL	MULTHLDE	;DIRECCIONAMOS EL OBJETO
 AS V1.42 Beta [Bld 28] - source file game.asm(obj.asm) - page 146 - 8/12/2011 20:51:50


(1)   41/    2D75 : 11 2F 66            	LD	DE,OBJ_VEC
(1)   42/    2D78 : 19                  	ADD	HL,DE
(1)   43/    2D79 : 11 2B 00            	LD	DE,STROBJ_GRAF
(1)   44/    2D7C : 19                  	ADD	HL,DE	;EL CAMPO GRAFICO
(1)   45/    2D7D :                     
(1)   46/    2D7D : 7E                  	LD	A,(HL)
(1)   47/    2D7E : CB 27               	SLA	A
(1)   48/    2D80 : 4F                  	LD	C,A
(1)   49/    2D81 : 21 32 15            	LD	HL,GRAF_OBJ
(1)   50/    2D84 : 06 00               	LD	B,0
(1)   51/    2D86 : 09                  	ADD	HL,BC
(1)   52/    2D87 : 7E                  	LD	A,(HL)
(1)   53/    2D88 : 23                  	INC	HL
(1)   54/    2D89 : 32 A1 2D            	LD	(PUT_OBJIE+0),A
(1)   55/    2D8C : 7E                  	LD	A,(HL)
(1)   56/    2D8D : 23                  	INC	HL
(1)   57/    2D8E : 32 A3 2D            	LD	(PUT_OBJIE+2),A
(1)   58/    2D91 :                     
(1)   59/    2D91 : 3A 8A 14            	LD	A,(PAG_NACT)
(1)   60/    2D94 : 32 A8 2D            	LD	(PUT_OBJIE+7),A
(1)   61/    2D97 :                     
(1)   62/    2D97 : CD 1B 36            	CALL	WAIT_COM
(1)   63/    2D9A : 21 A1 2D            	LD	HL,PUT_OBJIE
(1)   64/    2D9D : CD 46 33            	CALL	COPYVRAM
(1)   65/    2DA0 : C9                  	RET
(1)   66/    2DA1 :                     
(1)   67/    2DA1 :                     
(1)   68/    2DA1 :                     
(1)   69/    2DA1 : 00 00 00 02 00 00   PUT_OBJIE:	DB	0,0,0,PAG_OBJETOS,0,0,0,0,0,0,0,0,0,0,98h
                    00 00 00 00 00 00 
                    00 00 98 
(1)   70/    2DB0 :                     
(1)   71/    2DB0 :                     
(1)   72/    2DB0 :                     ;NOMBRE: GEST_INV
(1)   73/    2DB0 :                     ;OBJETIVO: ESTA FUNVION MUESTRA Y PERMITE MODIFICAR EL INVENTARIO DE UN
(1)   74/    2DB0 :                     ;          PERSONAJE
(1)   75/    2DB0 :                     ;ENTRADA: A -> NUMERO DEL PERSONAJE
(1)   76/    2DB0 :                     
(1)   77/    2DB0 :                     GEST_INV:	
(1)   78/    2DB0 : F5                  	PUSH	AF
(1)   79/    2DB1 : CD 56 1C            	CALL	MAKE_INV
(1)   80/    2DB4 : F1                  	POP	AF
(1)   81/    2DB5 : CD D4 1B            	CALL	SHOW_INV
(1)   82/    2DB8 :                     
(1)   83/    2DB8 : 11 1E 80            	LD	DE,128*256+30	;SE SUPONE
(1)   84/    2DBB : ED 53 70 04         	LD	(CRUZ_Y),DE
(1)   85/    2DBF : 3E 01               	LD	A,1
(1)   86/    2DC1 : 32 39 2D            	LD	(MOV_DIG),A
(1)   87/    2DC4 :                     
(1)   88/    2DC4 : AF                  GEST_INV1	XOR	A
(1)   89/    2DC5 : 32 52 37            	LD	(BUFFER_FUNC),A
(1)   90/    2DC8 : FB                  	EI
(1)   91/    2DC9 : 76                  	HALT
(1)   92/    2DCA : ED 5B 70 04         	LD	DE,(CRUZ_Y)
(1)   93/    2DCE : 0E 08               	LD	C,SPRITE_CRUZ
(1)   94/    2DD0 : 06 02               	LD	B,2
(1)   95/    2DD2 : CD C4 33            	CALL	GOTO_SPXY
(1)   96/    2DD5 : CD DF 35            	CALL	SPD_ON
(1)   97/    2DD8 : 21 70 04            	LD	HL,CRUZ_Y
(1)   98/    2DDB : CD 9D 04            	CALL	MOVE_XX
 AS V1.42 Beta [Bld 28] - source file game.asm(obj.asm) - page 147 - 8/12/2011 20:51:50


(1)   99/    2DDE : CD 9D 26            	CALL	ASK_OUT
(1)  100/    2DE1 :                     
(1)  101/    2DE1 : 3E 20               	LD	A,F1_KEY
(1)  102/    2DE3 : CD 8A 2C            	CALL	TEST_FUNC
(1)  103/    2DE6 : B7                  	OR	A
(1)  104/    2DE7 : 28 05               	JR	Z,GEST_INV0
(1)  105/    2DE9 : AF                  	XOR	A
(1)  106/    2DEA : 32 39 2D            	LD	(MOV_DIG),A
(1)  107/    2DED : C9                  	RET
(1)  108/    2DEE :                     
(1)  109/    2DEE : 3E 40               GEST_INV0	LD	A,SPC_KEY
(1)  110/    2DF0 : CD 8A 2C            	CALL	TEST_FUNC
(1)  111/    2DF3 : B7                  	OR	A
(1)  112/    2DF4 : 28 CE               	JR	Z,GEST_INV1
(1)  113/    2DF6 :                     
(1)  114/    2DF6 : 2A 70 04            	LD	HL,(CRUZ_Y)
(1)  115/    2DF9 : CD 72 04            	CALL	CHECK_CINV	;AHORA TENGO QUE COMPROBAR SI
(1)  116/    2DFC : 32 C9 2E            	LD	(CAS_ORI),A
(1)  117/    2DFF : B7                  	OR	A
(1)  118/    2E00 : 28 C2               	JR	Z,GEST_INV1
(1)  119/    2E02 : F5                  	PUSH	AF
(1)  120/    2E03 : D5                  	PUSH	DE
(1)  121/    2E04 : CD B6 35            	CALL	SPD_OFF
(1)  122/    2E07 : D1                  	POP	DE
(1)  123/    2E08 :                     
(1)  124/    2E08 : 06 02               	LD	B,2
(1)  125/    2E0A : 3A 89 14            	LD	A,(PAG_ACT)
(1)  126/    2E0D : C5                  GEST_INVB	PUSH	BC
(1)  127/    2E0E : 47                  	LD	B,A
(1)  128/    2E0F : EB                  	EX	DE,HL
(1)  129/    2E10 : E5                  	PUSH	HL
(1)  130/    2E11 : 56                  	LD	D,(HL)
(1)  131/    2E12 : 23                  	INC	HL
(1)  132/    2E13 : 5E                  	LD	E,(HL)
(1)  133/    2E14 : EB                  	EX	DE,HL
(1)  134/    2E15 : 1E 10               	LD	E,16
(1)  135/    2E17 : 53                  	LD	D,E
(1)  136/    2E18 : CD 35 1D            	CALL	PAINT_BALD
(1)  137/    2E1B : D1                  	POP	DE
(1)  138/    2E1C : C1                  	POP	BC
(1)  139/    2E1D : 3A 8A 14            	LD	A,(PAG_NACT)
(1)  140/    2E20 : 10 EB               	DJNZ	GEST_INVB
(1)  141/    2E22 :                     
(1)  142/    2E22 : 2A 70 04            	LD	HL,(CRUZ_Y)
(1)  143/    2E25 : 22 3E 04            	LD	(COOR_Y_NA),HL
(1)  144/    2E28 :                     
(1)  145/    2E28 : F1                  	POP	AF
(1)  146/    2E29 : CD 2E 2E            	CALL	MOVE_OBJ
(1)  147/    2E2C : 18 96               	JR	GEST_INV1
(1)  148/    2E2E :                     
(1)  149/    2E2E :                     
(1)  150/    2E2E :                     
(1)  151/    2E2E :                     
(1)  152/    2E2E :                     ;NOMBRE: MOVE_OBJ
(1)  153/    2E2E :                     ;OBJETIVO: MOVER UN OBJETO POR LA PANTALLA PARA COLOCARLO EN EL LUGAR DESEADO
(1)  154/    2E2E :                     ;ENTRADA: (EQUIPO_ACT) -> VARIABLE QUE INDICA EL EQUIPO DEL PERSONAJE ACTUAL
(1)  155/    2E2E :                     ;         (INV_ACT) -> VARIABLE QUE INDICA EL INVENTARIO DEL PERSONAJE ACTUAL
(1)  156/    2E2E :                     ;         A -> NUMERO DE LA CASILLA DONDE SE ENCUENTRA EL OBJETO QUE SE
(1)  157/    2E2E :                     ;              DESEA MOVER
(1)  158/    2E2E :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(obj.asm) - page 148 - 8/12/2011 20:51:50


(1)  159/    2E2E :                     
(1)  160/    2E2E :                     
(1)  161/    2E2E : 06 08               MOVE_OBJ:	LD	B,8
(1)  162/    2E30 : 2A 6C 04            	LD	HL,(INV_ACT)
(1)  163/    2E33 : B8                  	CP	B
(1)  164/    2E34 : 30 05               	JR	NC,MOVE_OBJ0
(1)  165/    2E36 : 2A 6E 04            	LD	HL,(EQUIPO_ACT)
(1)  166/    2E39 : 06 00               	LD	B,0
(1)  167/    2E3B :                     
(1)  168/    2E3B :                     
(1)  169/    2E3B :                     
(1)  170/    2E3B : 90                  MOVE_OBJ0:	SUB	B
(1)  171/    2E3C : 5F                  	LD	E,A
(1)  172/    2E3D : 16 00               	LD	D,0
(1)  173/    2E3F : 19                  	ADD	HL,DE	;YA TENGO EL OBJETO!!!!!
(1)  174/    2E40 :                     ;                                       ;Y AHORA A MOVERLO
(1)  175/    2E40 : 7E                  	LD	A,(HL)
(1)  176/    2E41 : FE FF               	CP	-1
(1)  177/    2E43 : C8                  	RET	Z
(1)  178/    2E44 :                     
(1)  179/    2E44 : 32 C8 2E            	LD	(NUM_OBJ),A
(1)  180/    2E47 :                     
(1)  181/    2E47 :                     
(1)  182/    2E47 : 6F                  	LD	L,A
(1)  183/    2E48 : 26 00               	LD	H,0
(1)  184/    2E4A : 11 34 00            	LD	DE,STRUCTOBJETO
(1)  185/    2E4D : CD 88 12            	CALL	MULTHLDE
(1)  186/    2E50 : 11 2F 66            	LD	DE,OBJ_VEC
(1)  187/    2E53 : 19                  	ADD	HL,DE
(1)  188/    2E54 : 11 2B 00            	LD	DE,STROBJ_GRAF
(1)  189/    2E57 : 19                  	ADD	HL,DE
(1)  190/    2E58 : 7E                  	LD	A,(HL)
(1)  191/    2E59 : CB 27               	SLA	A
(1)  192/    2E5B : 5F                  	LD	E,A
(1)  193/    2E5C : 16 00               	LD	D,0
(1)  194/    2E5E : 21 32 15            	LD	HL,GRAF_OBJ
(1)  195/    2E61 : 19                  	ADD	HL,DE
(1)  196/    2E62 : 7E                  	LD	A,(HL)
(1)  197/    2E63 :                     
(1)  198/    2E63 : 32 20 04            	LD	(GEST_DATAP),A
(1)  199/    2E66 : 23                  	INC	HL
(1)  200/    2E67 : 7E                  	LD	A,(HL)
(1)  201/    2E68 : 32 22 04            	LD	(GEST_DATAP+2),A
(1)  202/    2E6B :                     
(1)  203/    2E6B :                     
(1)  204/    2E6B : CD 99 03            	CALL	WRITE_PNA_C
(1)  205/    2E6E : CD 40 04            	CALL	SWAP_PAGE_C
(1)  206/    2E71 :                     
(1)  207/    2E71 :                     
(1)  208/    2E71 : AF                  MOVE_OBJ1	XOR	A
(1)  209/    2E72 : 32 52 37            	LD	(BUFFER_FUNC),A
(1)  210/    2E75 : CD 99 03            	CALL	WRITE_PNA_C
(1)  211/    2E78 : CD 40 04            	CALL	SWAP_PAGE_C
(1)  212/    2E7B : CD DD 03            	CALL	ERASE_PNA_C
(1)  213/    2E7E : CD 9D 26            	CALL	ASK_OUT
(1)  214/    2E81 :                     
(1)  215/    2E81 : 3E 40               	LD	A,SPC_KEY
(1)  216/    2E83 : CD 8A 2C            	CALL	TEST_FUNC
(1)  217/    2E86 : B7                  	OR	A
(1)  218/    2E87 : 28 E8               	JR	Z,MOVE_OBJ1
 AS V1.42 Beta [Bld 28] - source file game.asm(obj.asm) - page 149 - 8/12/2011 20:51:50


(1)  219/    2E89 :                     
(1)  220/    2E89 :                     
(1)  221/    2E89 : 2A 70 04            	LD	HL,(CRUZ_Y)
(1)  222/    2E8C : CD 72 04            	CALL	CHECK_CINV	;AHORA TENGO QUE COMPROBAR SI
(1)  223/    2E8F : B7                  	OR	A
(1)  224/    2E90 : 28 DF               	JR	Z,MOVE_OBJ1
(1)  225/    2E92 :                     
(1)  226/    2E92 :                     
(1)  227/    2E92 : 79                  	LD	A,C
(1)  228/    2E93 : 32 C7 2E            	LD	(NUM_CAS),A
(1)  229/    2E96 : 32 C6 2E            	LD	(CAS_RES),A
(1)  230/    2E99 : 21 C8 2E            	LD	HL,NUM_OBJ
(1)  231/    2E9C : 4E                  	LD	C,(HL)
(1)  232/    2E9D : CD CA 2E            	CALL	ASSIGN_OBJ
(1)  233/    2EA0 : 3E FF               	LD	A,-1
(1)  234/    2EA2 : B8                  	CP	B
(1)  235/    2EA3 : 20 06               	JR	NZ,GEST_INP
(1)  236/    2EA5 : 3A C9 2E            	LD	A,(CAS_ORI)
(1)  237/    2EA8 : 32 C6 2E            	LD	(CAS_RES),A
(1)  238/    2EAB :                     
(1)  239/    2EAB : 3A C8 2E            GEST_INP	LD	A,(NUM_OBJ)
(1)  240/    2EAE : 4F                  	LD	C,A
(1)  241/    2EAF : 3A C6 2E            	LD	A,(CAS_RES)
(1)  242/    2EB2 : CD 47 2D            	CALL	PUT_OBJI
(1)  243/    2EB5 :                     
(1)  244/    2EB5 : CD 40 04            	CALL	SWAP_PAGE_C
(1)  245/    2EB8 : CD DD 03            	CALL	ERASE_PNA_C
(1)  246/    2EBB :                     
(1)  247/    2EBB : 3A C8 2E            	LD	A,(NUM_OBJ)
(1)  248/    2EBE : 4F                  	LD	C,A
(1)  249/    2EBF : 3A C6 2E            	LD	A,(CAS_RES)
(1)  250/    2EC2 : CD 47 2D            	CALL	PUT_OBJI
(1)  251/    2EC5 : C9                  	RET
(1)  252/    2EC6 :                     
(1)  253/    2EC6 :                     
(1)  254/    2EC6 :                     
(1)  255/    2EC6 :                     
(1)  256/    2EC6 :                     
(1)  257/    2EC6 : 00                  CAS_RES:	DB	0
(1)  258/    2EC7 : 00                  NUM_CAS:	DB	0
(1)  259/    2EC8 : 00                  NUM_OBJ:	DB	0
(1)  260/    2EC9 : 00                  CAS_ORI:	DB	0
(1)  261/    2ECA :                     
(1)  262/    2ECA :                     
(1)  263/    2ECA :                     ;NOMBRE: ASSIGN_OBJ
(1)  264/    2ECA :                     ;OBJETIVO: ASIGNAR UN OBJETO A UN LUGAR DEL INVENTARIO O DEL EQUIPO
(1)  265/    2ECA :                     ;ENTRADA:  A  -> CASILLA
(1)  266/    2ECA :                     ;          C  -> OBJETO
(1)  267/    2ECA :                     ;         (EQUIPO_ACT) -> VARIABLE QUE INDICA EL EQUIPO DEL PERSONAJE ACTUAL
(1)  268/    2ECA :                     ;         (INV_ACT) -> VARIABLE QUE INDICA EL INVENTARIO DEL PERSONAJE ACTUAL
(1)  269/    2ECA :                     
(1)  270/    2ECA :                     
(1)  271/    2ECA : 06 08               ASSIGN_OBJ:	LD	B,8
(1)  272/    2ECC : 2A 6C 04            	LD	HL,(INV_ACT)
(1)  273/    2ECF : 16 01               	LD	D,1
(1)  274/    2ED1 : B8                  	CP	B
(1)  275/    2ED2 : 30 06               	JR	NC,ASSIGN_I0	;ASIGNACION AL EQUIPO
(1)  276/    2ED4 : 06 00               	LD	B,0
(1)  277/    2ED6 : 2A 6E 04            	LD	HL,(EQUIPO_ACT)
(1)  278/    2ED9 : 15                  	DEC	D
 AS V1.42 Beta [Bld 28] - source file game.asm(obj.asm) - page 150 - 8/12/2011 20:51:50


(1)  279/    2EDA :                     
(1)  280/    2EDA : 90                  ASSIGN_I0	SUB	B
(1)  281/    2EDB : 5F                  	LD	E,A
(1)  282/    2EDC : 7A                  	LD	A,D
(1)  283/    2EDD : 32 28 2F            	LD	(ASSIGN_FLG),A	;FLAG PARA VER DONDE SE PONE EL OBJETO
(1)  284/    2EE0 : 16 00               	LD	D,0
(1)  285/    2EE2 : 19                  	ADD	HL,DE
(1)  286/    2EE3 :                     
(1)  287/    2EE3 : 06 FF               	LD	B,-1
(1)  288/    2EE5 : 7E                  	LD	A,(HL)
(1)  289/    2EE6 : B8                  	CP	B
(1)  290/    2EE7 : C0                  	RET	NZ
(1)  291/    2EE8 :                     
(1)  292/    2EE8 : 3A 28 2F            	LD	A,(ASSIGN_FLG)
(1)  293/    2EEB : B7                  	OR	A
(1)  294/    2EEC : 20 0B               	JR	NZ,ASSIGN_I2
(1)  295/    2EEE :                     
(1)  296/    2EEE : E5                  	PUSH	HL
(1)  297/    2EEF : C5                  	PUSH	BC
(1)  298/    2EF0 : CD 29 2F            	CALL	CHK_ASG_OBJ
(1)  299/    2EF3 : C1                  	POP	BC
(1)  300/    2EF4 : E1                  	POP	HL
(1)  301/    2EF5 :                     
(1)  302/    2EF5 : 06 FF               	LD	B,-1
(1)  303/    2EF7 : B7                  	OR	A
(1)  304/    2EF8 : C0                  	RET	NZ
(1)  305/    2EF9 :                     
(1)  306/    2EF9 :                     
(1)  307/    2EF9 : 71                  ASSIGN_I2	LD	(HL),C
(1)  308/    2EFA : 2A 6C 04            	LD	HL,(INV_ACT)
(1)  309/    2EFD : AF                  	XOR	A
(1)  310/    2EFE : 32 28 2F            	LD	(ASSIGN_FLG),A
(1)  311/    2F01 : 3A C9 2E            	LD	A,(CAS_ORI)
(1)  312/    2F04 :                     
(1)  313/    2F04 :                     
(1)  314/    2F04 : 0E 08               	LD	C,8
(1)  315/    2F06 : B9                  	CP	C
(1)  316/    2F07 : 30 0C               	JR	NC,ASSIG_I1
(1)  317/    2F09 : 0E 00               	LD	C,0
(1)  318/    2F0B : 2A 6E 04            	LD	HL,(EQUIPO_ACT)
(1)  319/    2F0E : 08                  	EX	AF,AF'
(1)  320/    2F0F : 3E 01               	LD	A,1
(1)  321/    2F11 : 32 28 2F            	LD	(ASSIGN_FLG),A
(1)  322/    2F14 : 08                  	EX	AF,AF'
(1)  323/    2F15 :                     
(1)  324/    2F15 :                     
(1)  325/    2F15 : 91                  ASSIG_I1	SUB	C
(1)  326/    2F16 : 5F                  	LD	E,A
(1)  327/    2F17 : 16 00               	LD	D,0
(1)  328/    2F19 : 19                  	ADD	HL,DE
(1)  329/    2F1A : 4E                  	LD	C,(HL)
(1)  330/    2F1B : 70                  	LD	(HL),B
(1)  331/    2F1C :                     
(1)  332/    2F1C : 3A 28 2F            	LD	A,(ASSIGN_FLG)
(1)  333/    2F1F : B7                  	OR	A
(1)  334/    2F20 : 28 03               	JR	Z,ASSIG_RET
(1)  335/    2F22 : CD 7B 2F            	CALL	QUIT_OBJ
(1)  336/    2F25 :                     
(1)  337/    2F25 : 06 00               ASSIG_RET	LD	B,0
(1)  338/    2F27 : C9                  	RET
 AS V1.42 Beta [Bld 28] - source file game.asm(obj.asm) - page 151 - 8/12/2011 20:51:50


(1)  339/    2F28 :                     
(1)  340/    2F28 :                     
(1)  341/    2F28 : 00                  ASSIGN_FLG:	DB	0
(1)  342/    2F29 :                     
(1)  343/    2F29 :                     
(1)  344/    2F29 :                     
(1)  345/    2F29 :                     ;NOMBRE: CHK_ASG_OBJ
(1)  346/    2F29 :                     ;OBJETIVO: COMPROBAR LAS ASIGNACIONES DE OBJETOS AL EQUIPO
(1)  347/    2F29 :                     ;ENTRADA   CASILLA DE ASIGNACION
(1)  348/    2F29 :                     ;          C  -> OBJETO
(1)  349/    2F29 :                     ;         (EQUIPO_ACT) -> VARIABLE QUE INDICA EL EQUIPO DEL PERSONAJE ACTUAL
(1)  350/    2F29 :                     ;         (INV_ACT) -> VARIABLE QUE INDICA EL INVENTARIO DEL PERSONAJE ACTUAL
(1)  351/    2F29 :                     
(1)  352/    2F29 :                     
(1)  353/    2F29 :                     
(1)  354/    2F29 : 16 00               CHK_ASG_OBJ:	LD	D,0
(1)  355/    2F2B : 59                  	LD	E,C
(1)  356/    2F2C : 21 34 00            	LD	HL,STRUCTOBJETO
(1)  357/    2F2F : CD 88 12            	CALL	MULTHLDE
(1)  358/    2F32 : 11 2F 66            	LD	DE,OBJ_VEC
(1)  359/    2F35 : 19                  	ADD	HL,DE
(1)  360/    2F36 : 11 31 00            	LD	DE,STROBJ_LG
(1)  361/    2F39 : EB                  	EX	DE,HL
(1)  362/    2F3A : 19                  	ADD	HL,DE
(1)  363/    2F3B :                     
(1)  364/    2F3B : 3A C7 2E            	LD	A,(NUM_CAS)
(1)  365/    2F3E : 46                  	LD	B,(HL)
(1)  366/    2F3F :                     
(1)  367/    2F3F : 2E 01               	LD	L,1
(1)  368/    2F41 :                     
(1)  369/    2F41 : B7                  CHK_AO1	OR	A
(1)  370/    2F42 : 28 05               	JR	Z,CHK_A01
(1)  371/    2F44 : CB 25               	SLA	L
(1)  372/    2F46 : 3D                  	DEC	A
(1)  373/    2F47 : 18 F8               	JR	CHK_AO1
(1)  374/    2F49 :                     
(1)  375/    2F49 :                     
(1)  376/    2F49 : 78                  CHK_A01	LD	A,B
(1)  377/    2F4A : A5                  	AND	L
(1)  378/    2F4B : 3E FF               	LD	A,0FFh
(1)  379/    2F4D : C8                  	RET	Z	;A CONTINUACION VIENE LA COMPROBACION
(1)  380/    2F4E :                     
(1)  381/    2F4E : DD 2A 52 1C         	LD	IX,(INV_PERS)	;ESTO CREO QUE SOBRA
(1)  382/    2F52 : FD 2A 54 1C         	LD	IY,(INV_TIPO)
(1)  383/    2F56 : 21 2C 00            	LD	HL,STROBJ_AT
(1)  384/    2F59 : 19                  	ADD	HL,DE
(1)  385/    2F5A : 7E                  	LD	A,(HL)
(1)  386/    2F5B : DD 86 09            	ADD	A,(IX+STRPER_PVTQ)
(1)  387/    2F5E : DD 77 09            	LD	(IX+STRPER_PVTQ),A
(1)  388/    2F61 : 23                  	INC	HL
(1)  389/    2F62 : 7E                  	LD	A,(HL)
(1)  390/    2F63 : DD 86 0A            	ADD	A,(IX+STRPER_PAR)
(1)  391/    2F66 : DD 77 0A            	LD	(IX+STRPER_PAR),A
(1)  392/    2F69 : 23                  	INC	HL
(1)  393/    2F6A : 7E                  	LD	A,(HL)
(1)  394/    2F6B : DD 86 0B            	ADD	A,(IX+STRPER_PMV)
(1)  395/    2F6E : DD 77 0B            	LD	(IX+STRPER_PMV),A
(1)  396/    2F71 : 23                  	INC	HL
(1)  397/    2F72 : 7E                  	LD	A,(HL)
(1)  398/    2F73 : FD 86 0B            	ADD	A,(IY+STRTIPE_PV)
 AS V1.42 Beta [Bld 28] - source file game.asm(obj.asm) - page 152 - 8/12/2011 20:51:50


(1)  399/    2F76 : FD 77 0B            	LD	(IY+STRTIPE_PV),A
(1)  400/    2F79 :                     
(1)  401/    2F79 : AF                  	XOR	A
(1)  402/    2F7A : C9                  	RET
(1)  403/    2F7B :                     
(1)  404/    2F7B :                     
(1)  405/    2F7B :                     ;NOMBRE: QUIT_OBJ
(1)  406/    2F7B :                     ;OBJETIVO: ELIMINAR LOS BONIFICACIONES DE UN OBJETO AL QUITARLO DEL EQUIPO
(1)  407/    2F7B :                     ;ENTRADA C -> NUMERO DE OBJETO
(1)  408/    2F7B :                     ;         (EQUIPO_ACT) -> VARIABLE QUE INDICA EL EQUIPO DEL PERSONAJE ACTUAL
(1)  409/    2F7B :                     ;         (INV_ACT) -> VARIABLE QUE INDICA EL INVENTARIO DEL PERSONAJE ACTUAL
(1)  410/    2F7B :                     
(1)  411/    2F7B : 16 00               QUIT_OBJ:	LD	D,0
(1)  412/    2F7D : 59                  	LD	E,C
(1)  413/    2F7E : 21 34 00            	LD	HL,STRUCTOBJETO
(1)  414/    2F81 : CD 88 12            	CALL	MULTHLDE
(1)  415/    2F84 : 11 2F 66            	LD	DE,OBJ_VEC
(1)  416/    2F87 : 19                  	ADD	HL,DE
(1)  417/    2F88 : 11 31 00            	LD	DE,STROBJ_LG
(1)  418/    2F8B : EB                  	EX	DE,HL
(1)  419/    2F8C : 19                  	ADD	HL,DE
(1)  420/    2F8D :                     
(1)  421/    2F8D : DD 2A 52 1C         	LD	IX,(INV_PERS)
(1)  422/    2F91 : FD 2A 54 1C         	LD	IY,(INV_TIPO)
(1)  423/    2F95 : 21 2C 00            	LD	HL,STROBJ_AT
(1)  424/    2F98 : 19                  	ADD	HL,DE
(1)  425/    2F99 : 4E                  	LD	C,(HL)
(1)  426/    2F9A : DD 7E 09            	LD	A,(IX+STRPER_PVTQ)
(1)  427/    2F9D : 91                  	SUB	C
(1)  428/    2F9E : DD 77 09            	LD	(IX+STRPER_PVTQ),A
(1)  429/    2FA1 :                     
(1)  430/    2FA1 : 23                  	INC	HL
(1)  431/    2FA2 : 4E                  	LD	C,(HL)
(1)  432/    2FA3 : DD 7E 0A            	LD	A,(IX+STRPER_PAR)
(1)  433/    2FA6 : 91                  	SUB	C
(1)  434/    2FA7 : DD 77 0A            	LD	(IX+STRPER_PAR),A
(1)  435/    2FAA :                     
(1)  436/    2FAA : 23                  	INC	HL
(1)  437/    2FAB : 4E                  	LD	C,(HL)
(1)  438/    2FAC : DD 7E 0B            	LD	A,(IX+STRPER_PMV)
(1)  439/    2FAF : 91                  	SUB	C
(1)  440/    2FB0 : DD 77 0B            	LD	(IX+STRPER_PMV),A
(1)  441/    2FB3 :                     
(1)  442/    2FB3 :                     
(1)  443/    2FB3 : 23                  	INC	HL
(1)  444/    2FB4 : 46                  	LD	B,(HL)
(1)  445/    2FB5 : FD 7E 0B            	LD	A,(IY+STRTIPE_PV)
(1)  446/    2FB8 : 90                  	SUB	B
(1)  447/    2FB9 : FD 77 0B            	LD	(IY+STRTIPE_PV),A
(1)  448/    2FBC : DD 46 07            	LD	B,(IX+STRPER_PV)
(1)  449/    2FBF : B8                  	CP	B
(1)  450/    2FC0 : D0                  	RET	NC
(1)  451/    2FC1 : DD 77 07            	LD	(IX+STRPER_PV),A
(1)  452/    2FC4 : C9                  	RET
(1)  453/    2FC5 :                     
    3256/    2FC5 :                     	include "demo.asm"
(1)    1/    2FC5 :                     
(1)    2/    2FC5 :                     
(1)    3/    2FC5 :                     
(1)    4/    2FC5 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(demo.asm) - page 153 - 8/12/2011 20:51:50


(1)    5/    2FC5 :                     SAEBA:
(1)    6/    2FC5 : 3E 03               	LD	A,TIMEFADE
(1)    7/    2FC7 : 32 9D 14            	LD	(FADE_V),A
(1)    8/    2FCA : CD A9 38            	CALL	FADE_ON
(1)    9/    2FCD :                     
(1)   10/    2FCD :                     
(1)   11/    2FCD : 06 02               	LD	B,2
(1)   12/    2FCF : 11 17 30            	LD	DE,TMESG
(1)   13/    2FD2 : 1A                  SAEB0	LD	A,(DE)
(1)   14/    2FD3 : 6F                  	LD	L,A
(1)   15/    2FD4 : 13                  	INC	DE
(1)   16/    2FD5 : 1A                  	LD	A,(DE)
(1)   17/    2FD6 : 13                  	INC	DE
(1)   18/    2FD7 : 67                  	LD	H,A
(1)   19/    2FD8 : D5                  	PUSH	DE
(1)   20/    2FD9 : C5                  	PUSH	BC
(1)   21/    2FDA :                     
(1)   22/    2FDA : 3A 89 14            	LD	A,(PAG_ACT)
(1)   23/    2FDD : 47                  	LD	B,A
(1)   24/    2FDE : 16 14               	LD	D,20
(1)   25/    2FE0 : 1E 14               	LD	E,20
(1)   26/    2FE2 : CD F7 01            	CALL	PRINTF
(1)   27/    2FE5 :                     
(1)   28/    2FE5 :                     
(1)   29/    2FE5 : 0E 05               	LD	C,5
(1)   30/    2FE7 : 06 FF               SAEB2	LD	B,255
(1)   31/    2FE9 : FB                  SAEB1	EI
(1)   32/    2FEA : 76                  	HALT
(1)   33/    2FEB : 10 FC               	DJNZ	SAEB1
(1)   34/    2FED : 0D                  	DEC	C
(1)   35/    2FEE : 20 F7               	JR	NZ,SAEB2
(1)   36/    2FF0 :                     
(1)   37/    2FF0 : CD 1B 36            	CALL	WAIT_COM
(1)   38/    2FF3 : 3A 89 14            	LD	A,(PAG_ACT)
(1)   39/    2FF6 : 47                  	LD	B,A
(1)   40/    2FF7 : 3E DD               	LD	A,0DDh
(1)   41/    2FF9 : 21 8B 38            	LD	HL,LIMPIA_SCR
(1)   42/    2FFC : CD 23 38            	CALL	LIMPIA_PAN
(1)   43/    2FFF :                     
(1)   44/    2FFF :                     
(1)   45/    2FFF : C1                  	POP	BC
(1)   46/    3000 : D1                  	POP	DE
(1)   47/    3001 : 10 CF               	DJNZ	SAEB0
(1)   48/    3003 :                     
(1)   49/    3003 : 11 42 33            	LD	DE,FINDEMO
(1)   50/    3006 : 21 01 33            	LD	HL,DEMOBUFFER
(1)   51/    3009 : 3E 01               	LD	A,GET_DIR_BUFF
(1)   52/    300B : CD 48 2C            	CALL	ADD_EXCP
(1)   53/    300E :                     
(1)   54/    300E : 3E 03               	LD	A,TIMEFADE
(1)   55/    3010 : 32 9D 14            	LD	(FADE_V),A
(1)   56/    3013 : CD 96 38            	CALL	FADE_OFF
(1)   57/    3016 :                     
(1)   58/    3016 : C9                  	RET
(1)   59/    3017 :                     
(1)   60/    3017 : 1B 30               TMESG:	DW	MESSG
(1)   61/    3019 : A0 31               	DW	MESSG1
(1)   62/    301B :                     
(1)   63/    301B : 25 34 43 4F 4D 4F   MESSG:		DB "%4COMO TODO BUEN CUENTO%N"
                    20 54 4F 44 4F 20 
 AS V1.42 Beta [Bld 28] - source file game.asm(demo.asm) - page 154 - 8/12/2011 20:51:50


                    42 55 45 4E 20 43 
                    55 45 4E 54 4F 25 
                    4E 
(1)   64/    3034 : 53 49 45 4D 50 52   		DB "SIEMPRE SE DEBE EMPEZAR%n"
                    45 20 53 45 20 44 
                    45 42 45 20 45 4D 
                    50 45 5A 41 52 25 
                    6E 
(1)   65/    304D : 43 4F 4E 20 45 4C   		DB "CON EL TIPICO TOPICO;%n"
                    20 54 49 50 49 43 
                    4F 20 54 4F 50 49 
                    43 4F 3B 25 6E 
(1)   66/    3064 : 43 4F 4E 20 45 4C   		DB "CON EL "
                    20 
(1)   67/    306B : 27                  		DB 39
(1)   68/    306C : 48 41 43 45 20 4D   		DB "HACE MUCHO TIEMPO...%n%n"
                    55 43 48 4F 20 54 
                    49 45 4D 50 4F 2E 
                    2E 2E 25 6E 25 6E 
(1)   69/    3084 :                     
(1)   70/    3084 : 59 2C 20 53 49 47   		DB "Y, SIGUIENDO CON EL HILO...%n"
                    55 49 45 4E 44 4F 
                    20 43 4F 4E 20 45 
                    4C 20 48 49 4C 4F 
                    2E 2E 2E 25 6E 
(1)   71/    30A1 : 27                  		DB 39
(1)   72/    30A2 : 2E 2E 2E 45 58 49   		DB "...EXISTIA UN PAIS DESOLADO,%n"
                    53 54 49 41 20 55 
                    4E 20 50 41 49 53 
                    20 44 45 53 4F 4C 
                    41 44 4F 2C 25 6E 
(1)   73/    30C0 : 44 4F 4E 44 45 20   		DB "DONDE SOLO HABITABA EL HOMBRE,%n"
                    53 4F 4C 4F 20 48 
                    41 42 49 54 41 42 
                    41 20 45 4C 20 48 
                    4F 4D 42 52 45 2C 
                    25 6E 
(1)   74/    30E0 : 4A 55 4E 54 4F 20   		DB "JUNTO A LOS PASTOS..., Y EL GANADO%n%n"
                    41 20 4C 4F 53 20 
                    50 41 53 54 4F 53 
                    2E 2E 2E 2C 20 59 
                    20 45 4C 20 47 41 
                    4E 41 44 4F 25 6E 
                    25 6E 
(1)   75/    3106 :                     
(1)   76/    3106 : 27                  		DB 39
(1)   77/    3107 : 45 4C 20 4C 49 44   		DB "EL LIDER DE LA TRIBU, PREOCUPADO%n"
                    45 52 20 44 45 20 
                    4C 41 20 54 52 49 
                    42 55 2C 20 50 52 
                    45 4F 43 55 50 41 
                    44 4F 25 6E 
(1)   78/    3129 : 4D 41 4E 44 4F 20   		DB "MANDO AL REUNIR A SUS MAS BRAVOS CABALLEROS%n"
                    41 4C 20 52 45 55 
                    4E 49 52 20 41 20 
                    53 55 53 20 4D 41 
                    53 20 42 52 41 56 
                    4F 53 20 43 41 42 
                    41 4C 4C 45 52 4F 
                    53 25 6E 
 AS V1.42 Beta [Bld 28] - source file game.asm(demo.asm) - page 155 - 8/12/2011 20:51:50


(1)   79/    3156 : 43 4F 4E 20 45 4C   		DB "CON EL PROPOSITO DE ENCONTRAR%n"
                    20 50 52 4F 50 4F 
                    53 49 54 4F 20 44 
                    45 20 45 4E 43 4F 
                    4E 54 52 41 52 25 
                    6E 
(1)   80/    3175 : 4C 41 20 46 55 45   		DB "LA FUENTE CON LA QUE DAR VIDA AL POBLADO%n"
                    4E 54 45 20 43 4F 
                    4E 20 4C 41 20 51 
                    55 45 20 44 41 52 
                    20 56 49 44 41 20 
                    41 4C 20 50 4F 42 
                    4C 41 44 4F 25 6E 
(1)   81/    319F : 00                  		DB 0
(1)   82/    31A0 :                     
(1)   83/    31A0 :                     
(1)   84/    31A0 : 27                  MESSG1:		DB 39
(1)   85/    31A1 : 4E 49 4E 47 55 4E   		DB "NINGUN PALADIN SE OFRECIO VOLUNTARIO%n"
                    20 50 41 4C 41 44 
                    49 4E 20 53 45 20 
                    4F 46 52 45 43 49 
                    4F 20 56 4F 4C 55 
                    4E 54 41 52 49 4F 
                    25 6E 
(1)   86/    31C7 : 59 41 20 51 55 45   		DB "YA QUE ESTABAN ATERRORIZADOS POR%n"
                    20 45 53 54 41 42 
                    41 4E 20 41 54 45 
                    52 52 4F 52 49 5A 
                    41 44 4F 53 20 50 
                    4F 52 25 6E 
(1)   87/    31E9 : 45 4C 20 50 4F 44   		DB "EL PODEROSO %bSAEBA%l%n"
                    45 52 4F 53 4F 20 
                    25 62 53 41 45 42 
                    41 25 6C 25 6E 
(1)   88/    3200 : 51 55 49 45 4E 2C   		DB "QUIEN, ESPADA EN MANO,%n"
                    20 45 53 50 41 44 
                    41 20 45 4E 20 4D 
                    41 4E 4F 2C 25 6E 
(1)   89/    3218 : 52 45 44 55 43 49   		DB "REDUCIA LA VOLUNTAD DE SUS HOMBRES%n"
                    41 20 4C 41 20 56 
                    4F 4C 55 4E 54 41 
                    44 20 44 45 20 53 
                    55 53 20 48 4F 4D 
                    42 52 45 53 25 6E 
(1)   90/    323C : 43 4F 4E 56 49 52   		DB "CONVIRTIENDOLES EN ESCLAVOS%n%n"
                    54 49 45 4E 44 4F 
                    4C 45 53 20 45 4E 
                    20 45 53 43 4C 41 
                    56 4F 53 25 6E 25 
                    6E 
(1)   91/    325B :                     
(1)   92/    325B : 27                  		DB 39
(1)   93/    325C : 45 4C 20 47 52 41   		DB "EL GRAN LIDER SE ENFRENTA ANTE UN GRAN DILEMA:%n"
                    4E 20 4C 49 44 45 
                    52 20 53 45 20 45 
                    4E 46 52 45 4E 54 
                    41 20 41 4E 54 45 
                    20 55 4E 20 47 52 
                    41 4E 20 44 49 4C 
                    45 4D 41 3A 25 6E 
 AS V1.42 Beta [Bld 28] - source file game.asm(demo.asm) - page 156 - 8/12/2011 20:51:50


(1)   94/    328C : 53 41 4C 45 20 45   		DB "SALE EN BUSCA DE LA FUENTE, SALVANDO ASI A SU PUEBLO?%n"
                    4E 20 42 55 53 43 
                    41 20 44 45 20 4C 
                    41 20 46 55 45 4E 
                    54 45 2C 20 53 41 
                    4C 56 41 4E 44 4F 
                    20 41 53 49 20 41 
                    20 53 55 20 50 55 
                    45 42 4C 4F 3F 25 
                    6E 
(1)   95/    32C3 : 4F 20 53 45 20 45   		DB "O SE ENFRENTA A %bSAEBA%l,CON SU INFINITA HAMBRE DE MUERTE?%n"
                    4E 46 52 45 4E 54 
                    41 20 41 20 25 62 
                    53 41 45 42 41 25 
                    6C 2C 43 4F 4E 20 
                    53 55 20 49 4E 46 
                    49 4E 49 54 41 20 
                    48 41 4D 42 52 45 
                    20 44 45 20 4D 55 
                    45 52 54 45 3F 25 
                    6E 
(1)   96/    3300 : 00                  		DB 0
(1)   97/    3301 :                     
(1)   98/    3301 :                     
(1)   99/    3301 :                     
(1)  100/    3301 :                     
(1)  101/    3301 :                     
(1)  102/    3301 :                     
(1)  103/    3301 : 80                  DEMOBUFFER:	DB	80h
(1)  104/    3302 : 00 00 00 00 00      	DB	DERECHA,DERECHA,DERECHA,DERECHA,DERECHA
(1)  105/    3307 : 00 00 00 00 00      	DB	DERECHA,DERECHA,DERECHA,DERECHA,DERECHA
(1)  106/    330C : 00 00 00 00 00      	DB	DERECHA,DERECHA,DERECHA,DERECHA,DERECHA
(1)  107/    3311 : 00 00 00 00 00      	DB	DERECHA,DERECHA,DERECHA,DERECHA,DERECHA
(1)  108/    3316 : 00 00 00 00 00      	DB	DERECHA,DERECHA,DERECHA,DERECHA,DERECHA
(1)  109/    331B : 00 00 00            	DB	DERECHA,DERECHA,DERECHA
(1)  110/    331E :                     
(1)  111/    331E : 03 03 03 03 03      	DB	ABAJO,ABAJO,ABAJO,ABAJO,ABAJO
(1)  112/    3323 : 03 03 03 03 03      	DB	ABAJO,ABAJO,ABAJO,ABAJO,ABAJO
(1)  113/    3328 : 03 03 03 03 03      	DB	ABAJO,ABAJO,ABAJO,ABAJO,ABAJO
(1)  114/    332D : 03 03 80 80         	DB	ABAJO,ABAJO,80h,80h
(1)  115/    3331 :                     
(1)  116/    3331 : 00 00 00 00 00      	DB	DERECHA,DERECHA,DERECHA,DERECHA,DERECHA
(1)  117/    3336 : 00 00 00 00         	DB	DERECHA,DERECHA,DERECHA,DERECHA
(1)  118/    333A : 02 02 02 02 02      	DB	ARRIBA,ARRIBA,ARRIBA,ARRIBA,ARRIBA
(1)  119/    333F : 80 80 FF            	DB	80h,80h,0FFh
(1)  120/    3342 :                     
(1)  121/    3342 :                     
(1)  122/    3342 :                     
(1)  123/    3342 : CD 74 2C            FINDEMO	CALL	UP_EXCP
(1)  124/    3345 : C9                  	RET
(1)  125/    3346 :                     
    3257/    3346 :                     	include "video.asm"
(1)    1/    3346 : =FH                 RG0SAV	equ	0F3DFh
(1)    2/    3346 : =FH                 RG1SAV	equ	0F3E0h
(1)    3/    3346 : =FH                 RG8SAV	equ	0FFE7h
(1)    4/    3346 :                     
(1)    5/    3346 :                     
(1)    6/    3346 :                     ;DEFINICION DE MACROS QUE SIRVEN PARA EL MANEJO DE SPRITES
(1)    7/    3346 :                     
(1)    8/    3346 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(video.asm) - page 157 - 8/12/2011 20:51:50


(1)    9/    3346 : =1H                 PAG_DATASP	equ	1
(1)   10/    3346 : =7H                 SPRITECOLOR	equ	7400h
(1)   11/    3346 : =7H                 SPRITEATTRIB	equ	7600h
(1)   12/    3346 : =7H                 SPRITEGENERA	equ	7800h
(1)   13/    3346 :                     
(1)   14/    3346 : =1H                 MAXNUMSP	equ	16
(1)   15/    3346 :                     
(1)   16/    3346 :                     
(1)   17/    3346 : =0H                 SPY		equ	0
(1)   18/    3346 : =1H                 SPX		equ	1
(1)   19/    3346 : =2H                 SPP		equ	2
(1)   20/    3346 :                     
(1)   21/    3346 :                     
(1)   22/    3346 : =8H                 SPRITE_CRUZ	equ	8
(1)   23/    3346 : =2H                 PATTERN_CRUZ	equ	32
(1)   24/    3346 : =0H                 SPRITE_CUAD	equ	0
(1)   25/    3346 : =0H                 PATTERN_CUAD	equ	0
(1)   26/    3346 :                     
(1)   27/    3346 :                     
(1)   28/    3346 :                     
(1)   29/    3346 :                     
(1)   30/    3346 :                     
(1)   31/    3346 :                     ;NOMBRE: COPYVRAM
(1)   32/    3346 :                     ;OBJETIVO: COPIAR UN BLOQUE DE VRAM A VRAM
(1)   33/    3346 :                     ;	     Tambien es usada para otros comandos con igual
(1)   34/    3346 :                     ;	     numero de parametros.
(1)   35/    3346 :                     ;ENTRADA: HL -> PUNTERO A LOS DATOS DEL COPY.
(1)   36/    3346 :                     
(1)   37/    3346 :                     
(1)   38/    3346 : F3                  COPYVRAM:	DI
(1)   39/    3347 : 3E 20               	LD	A,32
(1)   40/    3349 : D3 99               	OUT	(99h),A
(1)   41/    334B : 3E 91               	LD	A,128+17
(1)   42/    334D : D3 99               	OUT	(99h),A
(1)   43/    334F :                     
(1)   44/    334F : 0E 9B               	LD	C,9Bh
(1)   45/    3351 : 06 0F               	LD	B,15
(1)   46/    3353 : ED B3               	OTIR
(1)   47/    3355 : FB                  	EI
(1)   48/    3356 : C9                  	RET
(1)   49/    3357 :                     
(1)   50/    3357 :                     
(1)   51/    3357 :                     
(1)   52/    3357 :                     ;NOMBRE: LINE
(1)   53/    3357 :                     ;OBJETIVO: DIBUJAR UNA LINEA
(1)   54/    3357 :                     ;ENTRADA: H -> COORDENADA X ORIGEN
(1)   55/    3357 :                     ;         L -> COORDENADA Y ORIGEN
(1)   56/    3357 :                     ;         D -> COORDENADA X DESTINO
(1)   57/    3357 :                     ;         E -> COORDENADA Y DESTINO
(1)   58/    3357 :                     ;         A -> PAGINA
(1)   59/    3357 :                     ;         B -> OPERACION LOGICA
(1)   60/    3357 :                     ;         C -> COLOR
(1)   61/    3357 :                     
(1)   62/    3357 :                     
(1)   63/    3357 :                     
(1)   64/    3357 : 32 B4 33            LINE:	LD	(LINED+3),A
(1)   65/    335A : 79                  	LD	A,C
(1)   66/    335B : 32 B9 33            	LD	(LINED+8),A
(1)   67/    335E : 7C                  	LD	A,H
(1)   68/    335F : 32 B1 33            	LD	(LINED+0),A
 AS V1.42 Beta [Bld 28] - source file game.asm(video.asm) - page 158 - 8/12/2011 20:51:50


(1)   69/    3362 : 7D                  	LD	A,L
(1)   70/    3363 : 32 B3 33            	LD	(LINED+2),A
(1)   71/    3366 :                     
(1)   72/    3366 :                     
(1)   73/    3366 : 7C                  	LD	A,H
(1)   74/    3367 : 92                  	SUB	D
(1)   75/    3368 : 57                  	LD	D,A
(1)   76/    3369 : 26 04               	LD	H,00000100b
(1)   77/    336B : 30 05               	JR	NC,LINE1
(1)   78/    336D : 26 00               	LD	H,0
(1)   79/    336F : ED 44               	NEG
(1)   80/    3371 : 57                  	LD	D,A
(1)   81/    3372 :                     
(1)   82/    3372 :                     
(1)   83/    3372 : 7D                  LINE1	LD	A,L
(1)   84/    3373 : 93                  	SUB	E
(1)   85/    3374 : 5F                  	LD	E,A
(1)   86/    3375 : 2E 08               	LD	L,00001000b
(1)   87/    3377 : 30 04               	JR	NC,LINE2
(1)   88/    3379 : 2E 00               	LD	L,0
(1)   89/    337B : ED 44               	NEG
(1)   90/    337D :                     
(1)   91/    337D : BA                  LINE2	CP	D
(1)   92/    337E : 1E 01               	LD	E,1
(1)   93/    3380 : 30 05               	JR	NC,LINE3
(1)   94/    3382 : 1E 00               	LD	E,0
(1)   95/    3384 : 4F                  	LD	C,A
(1)   96/    3385 : 7A                  	LD	A,D
(1)   97/    3386 : 51                  	LD	D,C
(1)   98/    3387 :                     
(1)   99/    3387 :                     
(1)  100/    3387 : 32 B5 33            LINE3	LD	(LINED+4),A
(1)  101/    338A : 7A                  	LD	A,D
(1)  102/    338B : 32 B7 33            	LD	(LINED+6),A
(1)  103/    338E :                     
(1)  104/    338E : 7B                  	LD	A,E
(1)  105/    338F : B4                  	OR	H
(1)  106/    3390 : B5                  	OR	L
(1)  107/    3391 : 32 BA 33            	LD	(LINED+9),A
(1)  108/    3394 : 3E 70               	LD	A,70h
(1)  109/    3396 : B0                  	OR	B
(1)  110/    3397 : 32 BB 33            	LD	(LINED+10),A
(1)  111/    339A :                     
(1)  112/    339A : CD 1B 36            	CALL	WAIT_COM
(1)  113/    339D : 21 B1 33            	LD	HL,LINED
(1)  114/    33A0 : F3                  	DI
(1)  115/    33A1 : 3E 24               	LD	A,24h
(1)  116/    33A3 : D3 99               	OUT	(99h),A
(1)  117/    33A5 : 3E 91               	LD	A,91h
(1)  118/    33A7 : D3 99               	OUT	(99h),A
(1)  119/    33A9 : 0E 9B               	LD	C,9Bh
(1)  120/    33AB : 06 0B               	LD	B,0Bh
(1)  121/    33AD : ED B3               	OTIR
(1)  122/    33AF : FB                  	EI
(1)  123/    33B0 : C9                  	RET
(1)  124/    33B1 :                     
(1)  125/    33B1 :                     
(1)  126/    33B1 :                     
(1)  127/    33B1 : 00 00 00 00 00 00   LINED:	DB	0,0,0,0,0,0,0,0,0,0,0
                    00 00 00 00 00 
 AS V1.42 Beta [Bld 28] - source file game.asm(video.asm) - page 159 - 8/12/2011 20:51:50


(1)  128/    33BC :                     
(1)  129/    33BC :                     
(1)  130/    33BC :                     
(1)  131/    33BC :                     
(1)  132/    33BC :                     
(1)  133/    33BC :                     ;NOMBRE: GOTO_SPXYG
(1)  134/    33BC :                     ;OBJETIVO: COLOCAR UN SPRITE EN UN LUGAR DETERMINADO, ENTRE LOS LIMITES DEL
(1)  135/    33BC :                     ;          MARCADOR.
(1)  136/    33BC :                     ;ENTRADA:   C  -> NUMERO DE SPRITE
(1)  137/    33BC :                     ;           B  -> NUMERO DE SPRITES
(1)  138/    33BC :                     ;           D  -> COORDENADA X
(1)  139/    33BC :                     ;           E  -> COORDENADA Y
(1)  140/    33BC :                     
(1)  141/    33BC :                     
(1)  142/    33BC :                     GOTO_SPXYG:
(1)  143/    33BC : 3E 18               	LD	A,OFF_PANTX+8
(1)  144/    33BE : 82                  	ADD	A,D
(1)  145/    33BF : 57                  	LD	D,A
(1)  146/    33C0 : 3E 1C               	LD	A,OFF_PANTY+8
(1)  147/    33C2 : 83                  	ADD	A,E
(1)  148/    33C3 : 5F                  	LD	E,A
(1)  149/    33C4 :                     
(1)  150/    33C4 :                     
(1)  151/    33C4 :                     ;NOMBRE: GOTO_SPXY
(1)  152/    33C4 :                     ;OBJETIVO: COLOCAR UN SPRITE EN UN LUGAR DETERMINADO.
(1)  153/    33C4 :                     ;ENTRADA:   C  -> NUMERO DE SPRITE
(1)  154/    33C4 :                     ;           B  -> NUMERO DE SPRITES
(1)  155/    33C4 :                     ;           D  -> COORDENADA X
(1)  156/    33C4 :                     ;           E  -> COORDENADA Y
(1)  157/    33C4 :                     
(1)  158/    33C4 :                     
(1)  159/    33C4 : 78                  GOTO_SPXY:	LD	A,B
(1)  160/    33C5 :                     
(1)  161/    33C5 : 26 00               	LD	H,0
(1)  162/    33C7 : 69                  	LD	L,C
(1)  163/    33C8 : 01 40 38            	LD	BC,SPRITE_TBL
(1)  164/    33CB :                     
(1)  165/    33CB : 29                  	ADD	HL,HL
(1)  166/    33CC : 29                  	ADD	HL,HL
(1)  167/    33CD : 09                  	ADD	HL,BC
(1)  168/    33CE :                     
(1)  169/    33CE : 47                  	LD	B,A
(1)  170/    33CF :                     G_SPXY1
(1)  171/    33CF : 7B                  	LD	A,E
(1)  172/    33D0 : 77                  	LD	(HL),A
(1)  173/    33D1 : 23                  	INC	HL
(1)  174/    33D2 : 7A                  	LD	A,D
(1)  175/    33D3 : 77                  	LD	(HL),A
(1)  176/    33D4 : 23                  	INC	HL
(1)  177/    33D5 : 23                  	INC	HL
(1)  178/    33D6 : 23                  	INC	HL
(1)  179/    33D7 : 10 F6               	DJNZ	G_SPXY1
(1)  180/    33D9 : C9                  	RET
(1)  181/    33DA :                     
(1)  182/    33DA :                     
(1)  183/    33DA :                     
(1)  184/    33DA :                     
(1)  185/    33DA :                     INIT_CRUZ:
(1)  186/    33DA : 21 1F 3B            	LD	HL,CRUZSP1
(1)  187/    33DD : 11 BF 3B            	LD	DE,CRUZSPC1
 AS V1.42 Beta [Bld 28] - source file game.asm(video.asm) - page 160 - 8/12/2011 20:51:50


(1)  188/    33E0 : 3E 08               	LD	A,SPRITE_CRUZ
(1)  189/    33E2 : 0E 20               	LD	C,PATTERN_CRUZ
(1)  190/    33E4 : 06 02               	LD	B,2
(1)  191/    33E6 : CD F7 33            	CALL	INITP16x16
(1)  192/    33E9 : C9                  	RET
(1)  193/    33EA :                     
(1)  194/    33EA :                     
(1)  195/    33EA :                     
(1)  196/    33EA :                     
(1)  197/    33EA :                     
(1)  198/    33EA : 0E 08               HIDE_CRUZ:	LD	C,SPRITE_CRUZ
(1)  199/    33EC : 06 02               	LD	B,2
(1)  200/    33EE : 16 FF               	LD	D,255
(1)  201/    33F0 : 1E FF               	LD	E,255
(1)  202/    33F2 : CD C4 33            	CALL	GOTO_SPXY
(1)  203/    33F5 : C9                  	RET
(1)  204/    33F6 :                     
(1)  205/    33F6 :                     
(1)  206/    33F6 :                     ;NOMBRE: INIT_SPTBL
(1)  207/    33F6 :                     ;OBJETIVO: INICIALIZA LA TABLA DE SPRITES (TANTO RAM COMO VRAM) A 255
(1)  208/    33F6 :                     
(1)  209/    33F6 :                     
(1)  210/    33F6 :                     
(1)  211/    33F6 : C9                  INIT_SPTBL:	RET
(1)  212/    33F7 :                     
(1)  213/    33F7 :                     
(1)  214/    33F7 :                     
(1)  215/    33F7 :                     
(1)  216/    33F7 :                     ;NOMBRE: INITP16x16
(1)  217/    33F7 :                     ;OBJETIVO: INICIALIZAR LOS PATRONES QUE CONFORMAN UN PERSONAJE DE 16x16
(1)  218/    33F7 :                     ;HL->PUNTERO A LOS PATRONES
(1)  219/    33F7 :                     ;DE->PUNTERO A LA TABLA DE COLORES
(1)  220/    33F7 :                     ;A-> NUMERO DEL SPRITE DE INICIO
(1)  221/    33F7 :                     ;C-> NUMERO DE PATRON DEL PRIMER SPRITE
(1)  222/    33F7 :                     ;B-> NUMERO DE SPRITES
(1)  223/    33F7 :                     
(1)  224/    33F7 :                     ;ERRORRES DETECTADOS: PARA SPRITES DISTINTOS DE 0 NO COLOCA BIEN LOS COLORES.
(1)  225/    33F7 :                     ;                     NO ACTUALIZA EL VALOR DE LA TABLA DE SPRITES RAM.
(1)  226/    33F7 :                     ;                     ME PARECE QUE TAMPOCO COLOCA BIEN LOS PATRONES.
(1)  227/    33F7 :                     ;ESTA FUNCION ES NECESARIO PASARLA POR UN DEBUGGER Y PROBAR MUCHOS CASOS DISTINTOS
(1)  228/    33F7 :                     
(1)  229/    33F7 :                     
(1)  230/    33F7 :                     
(1)  231/    33F7 : D5                  INITP16x16:	PUSH	DE
(1)  232/    33F8 : 32 40 34            	LD	(INITP16x16A),A
(1)  233/    33FB :                     
(1)  234/    33FB : 78                  	LD	A,B
(1)  235/    33FC : 32 41 34            	LD	(INITP16x16A2),A
(1)  236/    33FF :                     
(1)  237/    33FF : 79                  	LD	A,C
(1)  238/    3400 : 32 42 34            	LD	(INITP16x16A3),A
(1)  239/    3403 :                     
(1)  240/    3403 : AF                  	XOR	A
(1)  241/    3404 : C6 04               INITP16x16B1	ADD	A,4	;PARA HALLAR EL NUMERO TOTAL DE PATRONES
(1)  242/    3406 : 10 FC               	DJNZ	INITP16x16B1
(1)  243/    3408 :                     
(1)  244/    3408 :                     
(1)  245/    3408 : 41                  	LD	B,C
(1)  246/    3409 : 4F                  	LD	C,A
(1)  247/    340A : CD F0 34            	CALL	PUTSPPATERN
 AS V1.42 Beta [Bld 28] - source file game.asm(video.asm) - page 161 - 8/12/2011 20:51:50


(1)  248/    340D :                     
(1)  249/    340D : E1                  	POP	HL
(1)  250/    340E : 3A 41 34            	LD	A,(INITP16x16A2)
(1)  251/    3411 : 4F                  	LD	C,A
(1)  252/    3412 : 3A 40 34            	LD	A,(INITP16x16A)
(1)  253/    3415 : 47                  	LD	B,A
(1)  254/    3416 : CD 17 35            	CALL	PUTSPCOLOR
(1)  255/    3419 :                     
(1)  256/    3419 : 21 40 38            	LD	HL,SPRITE_TBL
(1)  257/    341C : 3A 40 34            	LD	A,(INITP16x16A)
(1)  258/    341F : 16 00               	LD	D,0
(1)  259/    3421 : 5F                  	LD	E,A
(1)  260/    3422 : CB 23               	SLA	E
(1)  261/    3424 : CB 23               	SLA	E
(1)  262/    3426 : 19                  	ADD	HL,DE
(1)  263/    3427 :                     
(1)  264/    3427 : 3A 42 34            	LD	A,(INITP16x16A3)
(1)  265/    342A : 5F                  	LD	E,A
(1)  266/    342B : 3A 41 34            	LD	A,(INITP16x16A2)
(1)  267/    342E : 57                  	LD	D,A
(1)  268/    342F :                     
(1)  269/    342F : 3E 32               INITP16x16B2	LD	A,50
(1)  270/    3431 : 77                  	LD	(HL),A
(1)  271/    3432 : 23                  	INC	HL
(1)  272/    3433 : 77                  	LD	(HL),A
(1)  273/    3434 : 23                  	INC	HL
(1)  274/    3435 : 73                  	LD	(HL),E
(1)  275/    3436 : 23                  	INC	HL
(1)  276/    3437 : 23                  	INC	HL
(1)  277/    3438 : 7B                  	LD	A,E
(1)  278/    3439 : C6 04               	ADD	A,4
(1)  279/    343B : 5F                  	LD	E,A
(1)  280/    343C : 15                  	DEC	D
(1)  281/    343D : 20 F0               	JR	NZ,INITP16x16B2
(1)  282/    343F :                     
(1)  283/    343F : C9                  	RET
(1)  284/    3440 :                     
(1)  285/    3440 :                     
(1)  286/    3440 : 00                  INITP16x16A	DB	0
(1)  287/    3441 : 00                  INITP16x16A2	DB	0
(1)  288/    3442 : 00                  INITP16x16A3	DB	0
(1)  289/    3443 :                     
(1)  290/    3443 :                     
(1)  291/    3443 :                     
(1)  292/    3443 :                     ;NOMBRE: PUT_SPRITE
(1)  293/    3443 :                     ;OBJETIVO: ACTUALIZAR  DATOS DE LOS SPRITES
(1)  294/    3443 :                     
(1)  295/    3443 :                     
(1)  296/    3443 :                     PUT_SPRITE:
(1)  297/    3443 : 3E 01               	LD A,PAG_DATASP
(1)  298/    3445 : 21 00 76            	LD HL,SPRITEATTRIB
(1)  299/    3448 : F3                  	DI
(1)  300/    3449 : CD 5D 35            	CALL SET_VRAM_AD
(1)  301/    344C : 21 40 38            	LD HL,SPRITE_TBL
(1)  302/    344F : 0E 98               	LD C,98h
(1)  303/    3451 :                     
(1)  304/    3451 :                     	REPT MAXNUMSP*4
(1)  305/    3451 :                     	OUTI
(1)  306/    3451 :                     	ENDM
(1)  305/    3451 : ED A3               	OUTI
 AS V1.42 Beta [Bld 28] - source file game.asm(video.asm) - page 162 - 8/12/2011 20:51:50


(1)  305/    3453 : ED A3               	OUTI
(1)  305/    3455 : ED A3               	OUTI
(1)  305/    3457 : ED A3               	OUTI
(1)  305/    3459 : ED A3               	OUTI
(1)  305/    345B : ED A3               	OUTI
(1)  305/    345D : ED A3               	OUTI
(1)  305/    345F : ED A3               	OUTI
(1)  305/    3461 : ED A3               	OUTI
(1)  305/    3463 : ED A3               	OUTI
(1)  305/    3465 : ED A3               	OUTI
(1)  305/    3467 : ED A3               	OUTI
(1)  305/    3469 : ED A3               	OUTI
(1)  305/    346B : ED A3               	OUTI
(1)  305/    346D : ED A3               	OUTI
(1)  305/    346F : ED A3               	OUTI
(1)  305/    3471 : ED A3               	OUTI
(1)  305/    3473 : ED A3               	OUTI
(1)  305/    3475 : ED A3               	OUTI
(1)  305/    3477 : ED A3               	OUTI
(1)  305/    3479 : ED A3               	OUTI
(1)  305/    347B : ED A3               	OUTI
(1)  305/    347D : ED A3               	OUTI
(1)  305/    347F : ED A3               	OUTI
(1)  305/    3481 : ED A3               	OUTI
(1)  305/    3483 : ED A3               	OUTI
(1)  305/    3485 : ED A3               	OUTI
(1)  305/    3487 : ED A3               	OUTI
(1)  305/    3489 : ED A3               	OUTI
(1)  305/    348B : ED A3               	OUTI
(1)  305/    348D : ED A3               	OUTI
(1)  305/    348F : ED A3               	OUTI
(1)  305/    3491 : ED A3               	OUTI
(1)  305/    3493 : ED A3               	OUTI
(1)  305/    3495 : ED A3               	OUTI
(1)  305/    3497 : ED A3               	OUTI
(1)  305/    3499 : ED A3               	OUTI
(1)  305/    349B : ED A3               	OUTI
(1)  305/    349D : ED A3               	OUTI
(1)  305/    349F : ED A3               	OUTI
(1)  305/    34A1 : ED A3               	OUTI
(1)  305/    34A3 : ED A3               	OUTI
(1)  305/    34A5 : ED A3               	OUTI
(1)  305/    34A7 : ED A3               	OUTI
(1)  305/    34A9 : ED A3               	OUTI
(1)  305/    34AB : ED A3               	OUTI
(1)  305/    34AD : ED A3               	OUTI
(1)  305/    34AF : ED A3               	OUTI
(1)  305/    34B1 : ED A3               	OUTI
(1)  305/    34B3 : ED A3               	OUTI
(1)  305/    34B5 : ED A3               	OUTI
(1)  305/    34B7 : ED A3               	OUTI
(1)  305/    34B9 : ED A3               	OUTI
(1)  305/    34BB : ED A3               	OUTI
(1)  305/    34BD : ED A3               	OUTI
(1)  305/    34BF : ED A3               	OUTI
(1)  305/    34C1 : ED A3               	OUTI
(1)  305/    34C3 : ED A3               	OUTI
(1)  305/    34C5 : ED A3               	OUTI
(1)  305/    34C7 : ED A3               	OUTI
(1)  305/    34C9 : ED A3               	OUTI
 AS V1.42 Beta [Bld 28] - source file game.asm(video.asm) - page 163 - 8/12/2011 20:51:50


(1)  305/    34CB : ED A3               	OUTI
(1)  305/    34CD : ED A3               	OUTI
(1)  305/    34CF : ED A3               	OUTI
(1)  307/    34D1 : FB                  	EI
(1)  308/    34D2 : C9                  	RET
(1)  309/    34D3 :                     
(1)  310/    34D3 :                     
(1)  311/    34D3 :                     ;NOMBRE: INCXY_SP
(1)  312/    34D3 :                     ;OBJETIVO: INCREMENTAR LA X E Y DE UNOS SPRITES.
(1)  313/    34D3 :                     ;ENTRADA: B -> NUMERO DE SPRITES
(1)  314/    34D3 :                     ;         C -> NUMERO DE SPRITE
(1)  315/    34D3 :                     ;         D -> INCREMENTO EN X
(1)  316/    34D3 :                     ;         E -> INCRMENTO  EN Y
(1)  317/    34D3 :                     
(1)  318/    34D3 :                     
(1)  319/    34D3 : 21 40 38            INCXY_SP:	LD	HL,SPRITE_TBL
(1)  320/    34D6 : 78                  	LD	A,B
(1)  321/    34D7 : 06 00               	LD	B,0
(1)  322/    34D9 : CB 21               	SLA	C
(1)  323/    34DB : CB 10               	RL	B
(1)  324/    34DD : CB 21               	SLA	C
(1)  325/    34DF : CB 10               	RL	B
(1)  326/    34E1 : 09                  	ADD	HL,BC
(1)  327/    34E2 :                     
(1)  328/    34E2 : 47                  	LD	B,A
(1)  329/    34E3 : 7E                  INCXY_SP1	LD	A,(HL)
(1)  330/    34E4 : 83                  	ADD	A,E
(1)  331/    34E5 : 77                  	LD	(HL),A
(1)  332/    34E6 : 23                  	INC	HL
(1)  333/    34E7 : 7E                  	LD	A,(HL)
(1)  334/    34E8 : 82                  	ADD	A,D
(1)  335/    34E9 : 77                  	LD	(HL),A
(1)  336/    34EA : 23                  	INC	HL
(1)  337/    34EB : 23                  	INC	HL
(1)  338/    34EC : 23                  	INC	HL
(1)  339/    34ED : 10 F4               	DJNZ	INCXY_SP1
(1)  340/    34EF : C9                  	RET
(1)  341/    34F0 :                     
(1)  342/    34F0 :                     
(1)  343/    34F0 :                     
(1)  344/    34F0 :                     
(1)  345/    34F0 :                     
(1)  346/    34F0 :                     
(1)  347/    34F0 :                     ;NOMBRE: PUTSPPATERN
(1)  348/    34F0 :                     ;OBJETIVO: COLOCAR UN NUMERO DE PATRONES DE SPRITES
(1)  349/    34F0 :                     ;ENTRADA: B:NUMERO DEL PATRON DE INICIO
(1)  350/    34F0 :                     ;         C:NUMERO DE PATRONES A ESCRIBIR
(1)  351/    34F0 :                     ;         HL: BUFFER DONDE SE ENCUENTRAN LOS PATRONES
(1)  352/    34F0 :                     ;MODIFICA: HL,DE,BC,AF
(1)  353/    34F0 :                     
(1)  354/    34F0 :                     
(1)  355/    34F0 : E5                  PUTSPPATERN:	PUSH	HL
(1)  356/    34F1 : 58                  	LD	E,B
(1)  357/    34F2 : 16 00               	LD	D,0
(1)  358/    34F4 : CB 23               	SLA	E	;DIRECCIONO EL PATRON HALLANDO EL OFFSET
(1)  359/    34F6 : CB 12               	RL	D	;MULTIPLICANDO EL NUMERO DE PATRON
(1)  360/    34F8 : CB 23               	SLA	E	;POR 8, ES DECIR DESPLAZO TRES LUGARES
(1)  361/    34FA : CB 12               	RL	D	;A LA IZQUIERDA
(1)  362/    34FC : CB 23               	SLA	E
(1)  363/    34FE : CB 12               	RL	D
 AS V1.42 Beta [Bld 28] - source file game.asm(video.asm) - page 164 - 8/12/2011 20:51:50


(1)  364/    3500 :                     
(1)  365/    3500 : 21 00 78            	LD	HL,SPRITEGENERA	;PARA HALLAR ASI LA DIRECCION BASE
(1)  366/    3503 : 19                  	ADD	HL,DE
(1)  367/    3504 :                     
(1)  368/    3504 : 3E 01               	LD	A,PAG_DATASP
(1)  369/    3506 : CD 5D 35            	CALL	SET_VRAM_AD
(1)  370/    3509 :                     
(1)  371/    3509 : 41                  	LD	B,C	;VAMOS AHORA CON EL BUCLE DE CARGA DE
(1)  372/    350A : 0E 98               	LD	C,98h	;LOS PATRONES DETERMINADOS EN C, Y
(1)  373/    350C : E1                  	POP	HL	;APUNTADOS POR EL VALOR EN HL AL
(1)  374/    350D : C5                  PUTSP_PL	PUSH	BC	;ENTRAR EN LA FUNCION
(1)  375/    350E : 06 08               	LD	B,8
(1)  376/    3510 : ED B3               	OTIR
(1)  377/    3512 : C1                  	POP	BC
(1)  378/    3513 : 10 F8               	DJNZ	PUTSP_PL
(1)  379/    3515 : FB                  	EI
(1)  380/    3516 : C9                  	RET
(1)  381/    3517 :                     
(1)  382/    3517 :                     
(1)  383/    3517 :                     ;NOMBRE: PUTSPCOLOR
(1)  384/    3517 :                     ;OBJETIVO: COLOCAR UN NUMERO DE COLORES DE SPRITES
(1)  385/    3517 :                     ;ENTRADA: B:NUMERO DEL SPRITE DE INICIO
(1)  386/    3517 :                     ;         C:NUMERO DE SPRITES A ESCRIBIR
(1)  387/    3517 :                     ;         HL: BUFFER DONDE SE ENCUENTRAN LOS COLORES
(1)  388/    3517 :                     ;MODIFICA: HL,DE,BC,AF
(1)  389/    3517 :                     
(1)  390/    3517 :                     
(1)  391/    3517 : E5                  PUTSPCOLOR:	PUSH	HL
(1)  392/    3518 : 68                  	LD	L,B
(1)  393/    3519 : 26 00               	LD	H,0
(1)  394/    351B :                     
(1)  395/    351B : 06 04               	LD	B,4
(1)  396/    351D : CB 25               PUTSP_CL1	SLA	L
(1)  397/    351F : CB 14               	RL	H
(1)  398/    3521 : 10 FA               	DJNZ	PUTSP_CL1
(1)  399/    3523 :                     
(1)  400/    3523 : 11 00 74            	LD	DE,SPRITECOLOR	;PARA HALLAR ASI LA DIRECCION BASE
(1)  401/    3526 : 19                  	ADD	HL,DE
(1)  402/    3527 :                     
(1)  403/    3527 : 3E 01               	LD	A,PAG_DATASP
(1)  404/    3529 : CD 5D 35            	CALL	SET_VRAM_AD
(1)  405/    352C :                     
(1)  406/    352C : 41                  	LD	B,C	;VAMOS AHORA CON EL BUCLE DE CARGA DE
(1)  407/    352D : 0E 98               	LD	C,98h	;LOS PATRONES DETERMINADOS EN C, Y
(1)  408/    352F : E1                  	POP	HL	;APUNTADOS POR EL VALOR EN HL AL
(1)  409/    3530 : C5                  PUTSP_CL2	PUSH	BC	;ENTRAR EN LA FUNCION
(1)  410/    3531 : 06 10               	LD	B,16
(1)  411/    3533 : ED B3               	OTIR
(1)  412/    3535 : C1                  	POP	BC
(1)  413/    3536 : 10 F8               	DJNZ	PUTSP_CL2
(1)  414/    3538 : FB                  	EI
(1)  415/    3539 : C9                  	RET
(1)  416/    353A :                     
(1)  417/    353A :                     
(1)  418/    353A :                     ;NOMBRE: PUTSPPATTRIB
(1)  419/    353A :                     ;OBJETIVO: MODIFICA LOS ATRIBUTOS DE UN SPRITE
(1)  420/    353A :                     ;ENTRADA: B:NUMERO DEL SPRITE DE INICIO
(1)  421/    353A :                     ;         C:NUMERO DE SPRITES
(1)  422/    353A :                     ;MODIFICA: HL,DE,BC,AF
(1)  423/    353A :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(video.asm) - page 165 - 8/12/2011 20:51:50


(1)  424/    353A :                     
(1)  425/    353A : 58                  PUTSPATTRIB:	LD	E,B
(1)  426/    353B : 16 00               	LD	D,0
(1)  427/    353D : CB 23               	SLA	E	;DIRECCIONO EL PATRON HALLANDO EL OFFSET
(1)  428/    353F : CB 12               	RL	D	;MULTIPLICANDO EL NUMERO DE SPRITE
(1)  429/    3541 : CB 23               	SLA	E	;POR 4, ES DECIR DESPLAZO DOS LUGARES
(1)  430/    3543 : CB 12               	RL	D	;A LA IZQUIERDA
(1)  431/    3545 :                     
(1)  432/    3545 : 21 00 76            	LD	HL,SPRITEATTRIB	;PARA HALLAR ASI LA DIRECCION BASE
(1)  433/    3548 : 19                  	ADD	HL,DE
(1)  434/    3549 :                     
(1)  435/    3549 : 3E 01               	LD	A,PAG_DATASP
(1)  436/    354B : CD 5D 35            	CALL	SET_VRAM_AD
(1)  437/    354E :                     
(1)  438/    354E : 21 40 38            	LD	HL,SPRITE_TBL
(1)  439/    3551 : 19                  	ADD	HL,DE
(1)  440/    3552 :                     
(1)  441/    3552 : 41                  	LD	B,C
(1)  442/    3553 : CB 20               	SLA	B
(1)  443/    3555 : CB 20               	SLA	B	;MULTIPLICAMOS POR 4 EL NUMERO DE
(1)  444/    3557 :                     
(1)  445/    3557 : 0E 98               	LD	C,98h
(1)  446/    3559 : ED B3               	OTIR
(1)  447/    355B : FB                  	EI
(1)  448/    355C : C9                  	RET
(1)  449/    355D :                     
(1)  450/    355D :                     
(1)  451/    355D :                     ;NOMBRE: SET_VRAM_AD
(1)  452/    355D :                     ;OBJETIVO: COLOCA EL PUNTERO DE VRAM A UN VALOR
(1)  453/    355D :                     ;ENTRADA: HL -> DIRECCION DE VRAM
(1)  454/    355D :                     ;         A  -> PAGINA DE VRAM
(1)  455/    355D :                     ;MODIFICAA: AF
(1)  456/    355D :                     
(1)  457/    355D :                     
(1)  458/    355D :                     SET_VRAM_AD:
(1)  459/    355D : F3                  	DI
(1)  460/    355E : F5                  	PUSH	AF
(1)  461/    355F : 7D                  	LD	A,L	;Y ENVIRLA COMO PUNTERO RAM
(1)  462/    3560 : D3 99               	OUT	(99h),A	;AL VDP
(1)  463/    3562 : 7C                  	LD	A,H
(1)  464/    3563 : E6 3F               	AND	3Fh
(1)  465/    3565 : F6 40               	OR	40h
(1)  466/    3567 : D3 99               	OUT	(99h),A
(1)  467/    3569 :                     
(1)  468/    3569 :                     
(1)  469/    3569 : F1                  	POP	AF		; AHORA ESCRIBO LA PAGINA
(1)  470/    356A : D3 99               	OUT	(99h),A
(1)  471/    356C : 3E 8E               	LD	A,128+14
(1)  472/    356E : D3 99               	OUT	(99h),A
(1)  473/    3570 : FB                  	EI
(1)  474/    3571 : C9                  	RET
(1)  475/    3572 :                     
(1)  476/    3572 :                     
(1)  477/    3572 :                     
(1)  478/    3572 :                     
(1)  479/    3572 :                     
(1)  480/    3572 :                     
(1)  481/    3572 :                     ;NOMBRE: LIMPIA_VRAM
(1)  482/    3572 :                     ;OBJETIVO: PONE TODA LA MEMORIA DE VIDEO AL COLOR QUE SE LE PASA COMO PARAMETRO
(1)  483/    3572 :                     ;PARAMETROS DE ENTRADA: A -> COLOR
 AS V1.42 Beta [Bld 28] - source file game.asm(video.asm) - page 166 - 8/12/2011 20:51:50


(1)  484/    3572 :                     
(1)  485/    3572 :                     
(1)  486/    3572 : 06 04               LIMPIA_VRAM:	LD	B,4
(1)  487/    3574 : 16 03               	LD	D,3
(1)  488/    3576 : C5                  LIMPVRAM1	PUSH	BC
(1)  489/    3577 : F5                  	PUSH	AF
(1)  490/    3578 : 42                  	LD	B,D
(1)  491/    3579 : 15                  	DEC	D
(1)  492/    357A : 21 80 38            	LD	HL,LIMPIA_PAND
(1)  493/    357D : CD 23 38            	CALL	LIMPIA_PAN
(1)  494/    3580 : CD 1B 36            	CALL	WAIT_COM
(1)  495/    3583 :                     
(1)  496/    3583 : F1                  	POP	AF
(1)  497/    3584 : C1                  	POP	BC
(1)  498/    3585 : 10 EF               	DJNZ	LIMPVRAM1
(1)  499/    3587 : C9                  	RET
(1)  500/    3588 :                     
(1)  501/    3588 :                     
(1)  502/    3588 :                     
(1)  503/    3588 :                     ;NOMBRE: INITSCR
(1)  504/    3588 :                     ;OBJETIVO: INICIALIZAR UN MODO GRAFICO
(1)  505/    3588 :                     ;ENTRADA: A -> MODO DE VIDEO
(1)  506/    3588 :                     
(1)  507/    3588 :                     
(1)  508/    3588 : FD 2A C0 FC         INITSCR:	LD	IY,(EXBRSA-1)
(1)  509/    358C : DD 21 5F 00         	LD	IX,CHGMOD
(1)  510/    3590 : CD 1C 00            	CALL	CALSLT
(1)  511/    3593 : C9                  	RET
(1)  512/    3594 :                     
(1)  513/    3594 :                     
(1)  514/    3594 :                     
(1)  515/    3594 :                     ;NOMBRE: VIS_ON
(1)  516/    3594 :                     ;AUTOR: ROBERTO VARGAS CABALLERO
(1)  517/    3594 :                     ;OBJETIVO: ESTA FUNCION HABILITA LA VISUALIZACION DE LA PANTALLA ADEMAS
(1)  518/    3594 :                     ;          DE COLOCAR EL TAMAGNO DE SPRITES A 16x16
(1)  519/    3594 :                     ;MODIFICA: A
(1)  520/    3594 :                     
(1)  521/    3594 :                     
(1)  522/    3594 :                     
(1)  523/    3594 : F3                  VIS_ON:	DI
(1)  524/    3595 : 3A E0 F3            	LD	A,(RG1SAV)
(1)  525/    3598 : CB F7               	SET	6,A
(1)  526/    359A : 32 E0 F3            	LD	(RG1SAV),A
(1)  527/    359D : D3 99               	OUT	(99h),A
(1)  528/    359F : 3E 81               	LD	A,128+1
(1)  529/    35A1 : D3 99               	OUT	(99h),A
(1)  530/    35A3 : FB                  	EI
(1)  531/    35A4 : C9                  	RET
(1)  532/    35A5 :                     
(1)  533/    35A5 :                     ;NOMBRE: VIS_OFF
(1)  534/    35A5 :                     ;AUTOR: ROBERTO VARGAS CABALLERO
(1)  535/    35A5 :                     ;OBJETIVO: ESTA FUNCION DESHABILITA LA VISUALIZACION DE LA PANTALLA
(1)  536/    35A5 :                     ;          ADEMAS DE COLOCAR EL TAMAGNO DE LOS SPRITES A 16x16
(1)  537/    35A5 :                     ;MODIFICA: A
(1)  538/    35A5 :                     
(1)  539/    35A5 :                     
(1)  540/    35A5 : F3                  VIS_OFF:	DI
(1)  541/    35A6 : 3A E0 F3            	LD	A,(RG1SAV)
(1)  542/    35A9 : CB B7               	RES	6,A
(1)  543/    35AB : 32 E0 F3            	LD	(RG1SAV),A
 AS V1.42 Beta [Bld 28] - source file game.asm(video.asm) - page 167 - 8/12/2011 20:51:50


(1)  544/    35AE : D3 99               	OUT	(99h),A
(1)  545/    35B0 : 3E 81               	LD	A,128+1
(1)  546/    35B2 : D3 99               	OUT	(99h),A
(1)  547/    35B4 : FB                  	EI
(1)  548/    35B5 : C9                  	RET
(1)  549/    35B6 :                     
(1)  550/    35B6 :                     
(1)  551/    35B6 :                     ;NOMBRE: SPD_OFF
(1)  552/    35B6 :                     ;OBJETIVO: ESTA FUNCION DESHABILITA LOS SPRITES
(1)  553/    35B6 :                     ;MODIFICA: A
(1)  554/    35B6 :                     
(1)  555/    35B6 :                     
(1)  556/    35B6 : F3                  SPD_OFF:	DI
(1)  557/    35B7 : 3A E7 FF            	LD	A,(RG8SAV)
(1)  558/    35BA : CB CF               	SET	1,A
(1)  559/    35BC : 32 E7 FF            	LD	(RG8SAV),A
(1)  560/    35BF : D3 99               	OUT	(99h),A
(1)  561/    35C1 : 3E 88               	LD	A,88H
(1)  562/    35C3 : D3 99               	OUT	(99h),A
(1)  563/    35C5 : FB                  	EI
(1)  564/    35C6 : C9                  	RET
(1)  565/    35C7 :                     
(1)  566/    35C7 :                     
(1)  567/    35C7 :                     ;NOMBRE: COLOR0_OFF
(1)  568/    35C7 :                     ;OBJETIVO: DESHABILITAR LA FUNCION DE COLOR 0 TRANSPARENTE.
(1)  569/    35C7 :                     ;MODIFICA: AF
(1)  570/    35C7 :                     
(1)  571/    35C7 :                     
(1)  572/    35C7 : F3                  COLOR0_OFF:	DI
(1)  573/    35C8 : 3A E7 FF            	LD	A,(RG8SAV)
(1)  574/    35CB : CB EF               	SET	5,A
(1)  575/    35CD : 32 E7 FF            	LD	(RG8SAV),A
(1)  576/    35D0 : D3 99               	OUT	(99h),A
(1)  577/    35D2 : 3E 88               	LD	A,128+8
(1)  578/    35D4 : D3 99               	OUT	(99h),A
(1)  579/    35D6 : FB                  	EI
(1)  580/    35D7 : C9                  	RET
(1)  581/    35D8 :                     
(1)  582/    35D8 :                     
(1)  583/    35D8 :                     
(1)  584/    35D8 :                     ;NOMBRE: SET_CFONDO
(1)  585/    35D8 :                     ;OBJETIVO: COLOCAR UN COLOR DE FONDO.
(1)  586/    35D8 :                     ;ENTRADA: A -> COLOR
(1)  587/    35D8 :                     ;MODIFICA: A
(1)  588/    35D8 :                     
(1)  589/    35D8 :                     
(1)  590/    35D8 :                     SET_CFONDO:
(1)  591/    35D8 :                     ;;; DI
(1)  592/    35D8 : D3 99               	OUT	(99h),A
(1)  593/    35DA : 3E 87               	LD	A,128+7
(1)  594/    35DC : D3 99               	OUT	(99h),A
(1)  595/    35DE :                     ;;; EI
(1)  596/    35DE : C9                  	RET
(1)  597/    35DF :                     
(1)  598/    35DF :                     
(1)  599/    35DF :                     ;NOMBRE: SPD_ON
(1)  600/    35DF :                     ;OBJETIVO: ESTA FUNCION HABILITA LOS SPRITES
(1)  601/    35DF :                     ;MODIFICA: A
(1)  602/    35DF :                     
(1)  603/    35DF :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(video.asm) - page 168 - 8/12/2011 20:51:50


(1)  604/    35DF : F3                  SPD_ON:	DI
(1)  605/    35E0 : 3A E7 FF            	LD	A,(RG8SAV)
(1)  606/    35E3 : CB 8F               	RES	1,A
(1)  607/    35E5 : 32 E7 FF            	LD	(RG8SAV),A
(1)  608/    35E8 : D3 99               	OUT	(99h),A
(1)  609/    35EA : 3E 88               	LD	A,128+8
(1)  610/    35EC : D3 99               	OUT	(99h),A
(1)  611/    35EE : FB                  	EI
(1)  612/    35EF : C9                  	RET
(1)  613/    35F0 :                     
(1)  614/    35F0 :                     
(1)  615/    35F0 :                     
(1)  616/    35F0 :                     
(1)  617/    35F0 :                     ;NOMBRE: SET_SPD16
(1)  618/    35F0 :                     ;OBJETIVO: PONER LOS SPRITES EN 16X16
(1)  619/    35F0 :                     
(1)  620/    35F0 :                     
(1)  621/    35F0 : F3                  SET_SPD16:	DI
(1)  622/    35F1 : 3A E0 F3            	LD	A,(RG1SAV)
(1)  623/    35F4 : CB CF               	SET	1,A
(1)  624/    35F6 : 32 E0 F3            	LD	(RG1SAV),A
(1)  625/    35F9 : D3 99               	OUT	(99h),A
(1)  626/    35FB : 3E 81               	LD	A,128+1
(1)  627/    35FD : D3 99               	OUT	(99h),A
(1)  628/    35FF : FB                  	EI
(1)  629/    3600 : C9                  	RET
(1)  630/    3601 :                     
(1)  631/    3601 :                     
(1)  632/    3601 :                     
(1)  633/    3601 :                     
(1)  634/    3601 :                     ;NOMBRE: TESTCOM
(1)  635/    3601 :                     ;AUTOR: ROBERTO VARGAS CABALLERO
(1)  636/    3601 :                     ;OBJETIVO: ESTA FUNCIOM COMPRUEBA SI  SE ESTA EJECUTANDO UN COMANDO DEL VDP
(1)  637/    3601 :                     ;SALIDA: Z: SI SE HA ACABADO EL COMANDO Z VALDAR 0, EN CASO CONTRARIO VALDRA 1
(1)  638/    3601 :                     ;MODIFICA: AF,AF',C
(1)  639/    3601 :                     
(1)  640/    3601 :                     
(1)  641/    3601 : 0E 99               TESTCOM:	LD	C,99h
(1)  642/    3603 : 3E 02               	LD	A,2
(1)  643/    3605 : F3                  	DI
(1)  644/    3606 : ED 79               	OUT	(C),A
(1)  645/    3608 : 3E 8F               	LD	A,128+15
(1)  646/    360A : ED 79               	OUT	(C),A
(1)  647/    360C : ED 78               	IN	A,(C)
(1)  648/    360E : 08                  	EX	AF,AF'
(1)  649/    360F : AF                  	XOR	A
(1)  650/    3610 : ED 79               	OUT	(C),A
(1)  651/    3612 : 3E 8F               	LD	A,128+15
(1)  652/    3614 : ED 79               	OUT	(C),A
(1)  653/    3616 : FB                  	EI
(1)  654/    3617 : 08                  	EX	AF,AF'
(1)  655/    3618 : CB 47               	BIT	0,A
(1)  656/    361A : C9                  	RET
(1)  657/    361B :                     
(1)  658/    361B :                     
(1)  659/    361B :                     
(1)  660/    361B :                     
(1)  661/    361B :                     ;NOMBRE: WAIT_COM
(1)  662/    361B :                     ;OBJETIVO: ESPERAR HASTA QUE SE PRODUZCA EL FINAL DE UN COMANDO DEL VDP
(1)  663/    361B :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(video.asm) - page 169 - 8/12/2011 20:51:50


(1)  664/    361B :                     
(1)  665/    361B : CD 01 36            WAIT_COM:	CALL	TESTCOM
(1)  666/    361E : 20 FB               	JR	NZ,WAIT_COM
(1)  667/    3620 : C9                  	RET
(1)  668/    3621 :                     
(1)  669/    3621 :                     
(1)  670/    3621 :                     
(1)  671/    3621 :                     
(1)  672/    3621 :                     
(1)  673/    3621 :                     ;NOMBRE: VER_PAGE
(1)  674/    3621 :                     ;OBJETIVO: MUESTRA LA PAGINA QUE SE LE PASA COMO PARAMETRO.
(1)  675/    3621 :                     ;ENTRADA: A: PAGINA QUE SE QUIERE VISUALIZAR
(1)  676/    3621 :                     ;MODIFICA: AF,B
(1)  677/    3621 :                     
(1)  678/    3621 :                     VER_PAGE:
(1)  679/    3621 : 21 30 36            	LD HL,PAGE0
(1)  680/    3624 : 4F                  	LD C,A
(1)  681/    3625 : 06 00               	LD B,0
(1)  682/    3627 : 09                  	ADD HL,BC
(1)  683/    3628 : 7E                  	LD A,(HL)
(1)  684/    3629 :                     
(1)  685/    3629 : D3 99               	OUT	(99h),A
(1)  686/    362B : 3E 82               	LD	A,128+2
(1)  687/    362D : D3 99               	OUT	(99h),A
(1)  688/    362F : C9                  	RET
(1)  689/    3630 :                     
(1)  690/    3630 :                     
(1)  691/    3630 : 1F                  PAGE0:		DB 00011111B
(1)  692/    3631 : 3F                  PAGE1:		DB 00111111B
(1)  693/    3632 : 5F                  PAGE2:		DB 01011111B
(1)  694/    3633 : 7F                  PAGE3:		DB 01111111B
(1)  695/    3634 :                     
(1)  696/    3634 :                     
(1)  697/    3634 :                     
(1)  698/    3634 :                     
(1)  699/    3634 :                     
(1)  700/    3634 :                     ;NOMBRE: PUT_PAL
(1)  701/    3634 :                     ;OBJETIVO: CAMBIAR LA PALETA
(1)  702/    3634 :                     ;ENTRADA: HL -> PUNTERO A LA PALETA
(1)  703/    3634 :                     
(1)  704/    3634 :                     
(1)  705/    3634 :                     
(1)  706/    3634 :                     PUT_PAL:
(1)  707/    3634 : F3                  	DI
(1)  708/    3635 : AF                  	XOR	A
(1)  709/    3636 : D3 99               	OUT	(99h),A
(1)  710/    3638 : 3E 90               	LD	A,128+16
(1)  711/    363A : D3 99               	OUT	(99h),A
(1)  712/    363C : 06 20               	LD	B,32
(1)  713/    363E : 0E 9A               	LD	C,9Ah
(1)  714/    3640 :                     	REPT    32
(1)  715/    3640 :                     	OUTI
(1)  716/    3640 :                     	ENDM
(1)  715/    3640 : ED A3               	OUTI
(1)  715/    3642 : ED A3               	OUTI
(1)  715/    3644 : ED A3               	OUTI
(1)  715/    3646 : ED A3               	OUTI
(1)  715/    3648 : ED A3               	OUTI
(1)  715/    364A : ED A3               	OUTI
(1)  715/    364C : ED A3               	OUTI
 AS V1.42 Beta [Bld 28] - source file game.asm(video.asm) - page 170 - 8/12/2011 20:51:50


(1)  715/    364E : ED A3               	OUTI
(1)  715/    3650 : ED A3               	OUTI
(1)  715/    3652 : ED A3               	OUTI
(1)  715/    3654 : ED A3               	OUTI
(1)  715/    3656 : ED A3               	OUTI
(1)  715/    3658 : ED A3               	OUTI
(1)  715/    365A : ED A3               	OUTI
(1)  715/    365C : ED A3               	OUTI
(1)  715/    365E : ED A3               	OUTI
(1)  715/    3660 : ED A3               	OUTI
(1)  715/    3662 : ED A3               	OUTI
(1)  715/    3664 : ED A3               	OUTI
(1)  715/    3666 : ED A3               	OUTI
(1)  715/    3668 : ED A3               	OUTI
(1)  715/    366A : ED A3               	OUTI
(1)  715/    366C : ED A3               	OUTI
(1)  715/    366E : ED A3               	OUTI
(1)  715/    3670 : ED A3               	OUTI
(1)  715/    3672 : ED A3               	OUTI
(1)  715/    3674 : ED A3               	OUTI
(1)  715/    3676 : ED A3               	OUTI
(1)  715/    3678 : ED A3               	OUTI
(1)  715/    367A : ED A3               	OUTI
(1)  715/    367C : ED A3               	OUTI
(1)  715/    367E : ED A3               	OUTI
(1)  717/    3680 : FB                  	EI
(1)  718/    3681 : C9                  	RET
(1)  719/    3682 :                     
(1)  720/    3682 :                     
(1)  721/    3682 : 00                  CHANGE_PAL:	DB 0
(1)  722/    3683 :                     
(1)  723/    3683 :                     
(1)  724/    3683 :                     
(1)  725/    3683 :                     ;NOMBRE: PAINT
(1)  726/    3683 :                     ;OBJETIVO: PINTA UN MATRIZ EN LA DIRECCION DE VRAM ESPECIFICADA POR PAINTPTR
(1)  727/    3683 :                     ;          INDEXANDO SEGUN LAS COORDENADAS PASADAS A LA FUNCION
(1)  728/    3683 :                     ;ENTRADA:  BC: FILAS
(1)  729/    3683 :                     ;          DE: COLUMNAS
(1)  730/    3683 :                     ;          IX: COORDENADA XINICIAL
(1)  731/    3683 :                     ;          IYL: COORDENADA YINICIAL
(1)  732/    3683 :                     ;          IYH : PAGINA
(1)  733/    3683 :                     ;          HL: MATRIZ
(1)  734/    3683 :                     ;MODIFICA: AF,BC,DE,HL
(1)  735/    3683 :                     
(1)  736/    3683 :                     
(1)  737/    3683 : 7E                  PAINT:	LD	A,(HL)
(1)  738/    3684 : 32 E3 36            	LD	(PAINTDATO),A
(1)  739/    3687 : 23                  	INC	HL
(1)  740/    3688 : E5                  	PUSH	HL
(1)  741/    3689 : DD E5               	PUSH	IX
(1)  742/    368B : E1                  	POP	HL
(1)  743/    368C : 22 DB 36            	LD	(PAINTDATAX),HL
(1)  744/    368F : FD E5               	PUSH	IY
(1)  745/    3691 : E1                  	POP	HL
(1)  746/    3692 : 22 DD 36            	LD	(PAINTDATAY),HL
(1)  747/    3695 : ED 53 DF 36         	LD	(PAINTANCHO),DE
(1)  748/    3699 : ED 43 E1 36         	LD	(PAINTALTO),BC
(1)  749/    369D :                     
(1)  750/    369D : F3                  	DI
(1)  751/    369E : 3E 24               	LD	A,36	;PREPARAMOS LOS REGISTROS CON LOS
 AS V1.42 Beta [Bld 28] - source file game.asm(video.asm) - page 171 - 8/12/2011 20:51:50


(1)  752/    36A0 : D3 99               	OUT	(99h),A	;VALORES DE ENTRADA PARA LA OPERACION
(1)  753/    36A2 : 3E 91               	LD	A,128+17	;UTILIZANDO PARA ELLO EL DIRECCIONAMIENTO
(1)  754/    36A4 : D3 99               	OUT	(99h),A	;INDIRECTO CON INCREMENTO
(1)  755/    36A6 :                     
(1)  756/    36A6 : 0E 9B               	LD	C,9Bh
(1)  757/    36A8 : 06 0B               	LD	B,11
(1)  758/    36AA : 21 DB 36            	LD	HL,PAINTDATAX
(1)  759/    36AD : ED B3               	OTIR
(1)  760/    36AF :                     
(1)  761/    36AF : E1                  	POP	HL
(1)  762/    36B0 :                     
(1)  763/    36B0 : 0E 99               	LD	C,99h
(1)  764/    36B2 : 3E AC               	LD	A,128+44	;COLOCO EL REGISTRO 44 COMO DESTINO
(1)  765/    36B4 : ED 79               	OUT	(C),A	;DE LA CARGA SIN AUTOINCREMENTO
(1)  766/    36B6 : 3E 91               	LD	A,128+17	;USANDO PARA ELLO EL REGISTRO 17
(1)  767/    36B8 : ED 79               	OUT	(C),A
(1)  768/    36BA :                     
(1)  769/    36BA : 3E 02               	LD	A,2	;COLOCO EL REGISTRO 2 DE LECTURA
(1)  770/    36BC : ED 79               	OUT	(C),A	;PARA LOS ACCESOS PARA IN ($99),A
(1)  771/    36BE : 3E 8F               	LD	A,128+15	;Y PODER COMPROBAR ASI EL ESTADO
(1)  772/    36C0 : ED 79               	OUT	(C),A	;DEL COMANDO
(1)  773/    36C2 :                     
(1)  774/    36C2 : ED 78               PAINTBUCLE	IN	A,(C)
(1)  775/    36C4 : CB 47               	BIT	0,A
(1)  776/    36C6 : 28 0A               	JR	Z,PAINTFINAL
(1)  777/    36C8 : CB 7F               	BIT	7,A
(1)  778/    36CA : 28 F6               	JR	Z,PAINTBUCLE
(1)  779/    36CC : 7E                  	LD	A,(HL)
(1)  780/    36CD : D3 9B               	OUT	(9Bh),A
(1)  781/    36CF : 23                  	INC	HL
(1)  782/    36D0 : 18 F0               	JR	PAINTBUCLE
(1)  783/    36D2 :                     
(1)  784/    36D2 : AF                  PAINTFINAL	XOR	A
(1)  785/    36D3 : ED 79               	OUT	(C),A
(1)  786/    36D5 : 3E 8F               	LD	A,128+15
(1)  787/    36D7 : ED 79               	OUT	(C),A
(1)  788/    36D9 : FB                  	EI
(1)  789/    36DA :                     
(1)  790/    36DA : C9                  	RET
(1)  791/    36DB :                     
(1)  792/    36DB : 00 00               PAINTDATAX	DW	0
(1)  793/    36DD : 00 00               PAINTDATAY	DW	0
(1)  794/    36DF : 00 00               PAINTANCHO	DW	0
(1)  795/    36E1 : 00 00               PAINTALTO	DW	0
(1)  796/    36E3 : 00 00               PAINTDATO	DW	0
(1)  797/    36E5 : F0                  		DB	0F0h
(1)  798/    36E6 :                     
(1)  799/    36E6 :                     
(1)  800/    36E6 :                     
(1)  801/    36E6 :                     
(1)  802/    36E6 :                     
(1)  803/    36E6 :                     
(1)  804/    36E6 :                     
(1)  805/    36E6 :                     ;NOMBRE: INTERRUPT
(1)  806/    36E6 :                     ;OBJETIVO: SERVIR COMO VECTOR DE INTERRUPCION
(1)  807/    36E6 :                     
(1)  808/    36E6 : F5                  INTERRUPT:	PUSH	AF
(1)  809/    36E7 :                     
(1)  810/    36E7 : DB 99               	IN	A,(99h)
(1)  811/    36E9 : 87                  	ADD	A,A
 AS V1.42 Beta [Bld 28] - source file game.asm(video.asm) - page 172 - 8/12/2011 20:51:50


(1)  812/    36EA : D2 53 37            	JP	NC,NOTVR
(1)  813/    36ED :                     
(1)  814/    36ED : 08                  	EX	AF,AF'
(1)  815/    36EE : F5                  	PUSH	AF
(1)  816/    36EF : C5                  	PUSH	BC
(1)  817/    36F0 : D5                  	PUSH	DE
(1)  818/    36F1 : E5                  	PUSH	HL
(1)  819/    36F2 : DD E5               	PUSH	IX
(1)  820/    36F4 : FD E5               	PUSH	IY
(1)  821/    36F6 :                     
(1)  822/    36F6 : 3A 89 14            	LD	A,(PAG_ACT)
(1)  823/    36F9 : CD 21 36            	CALL	VER_PAGE	; Tambien activa las interrupciones,Tambien se puede acelerar
(1)  824/    36FC :                     
(1)  825/    36FC : 3A 82 36            	LD	A,(CHANGE_PAL)
(1)  826/    36FF : B7                  	OR	A
(1)  827/    3700 : 2A 79 37            	LD	HL,(PAL_GMP)	; Llamar a la funcion solo si es necesario el cambio de paleta
(1)  828/    3703 : CD 34 36            	CALL	PUT_PAL	; que normalmente no lo es
(1)  829/    3706 : AF                  	XOR	A
(1)  830/    3707 : 32 82 36            	LD	(CHANGE_PAL),A
(1)  831/    370A :                     
(1)  832/    370A : 3A 56 2B            	LD	A,(TIME_)
(1)  833/    370D : B7                  	OR	A
(1)  834/    370E : CA 18 37            	JP	Z,ENDTIME
(1)  835/    3711 : 3D                  	DEC	A
(1)  836/    3712 : 32 56 2B            	LD	(TIME_),A
(1)  837/    3715 : C3 25 37            	JP	N_ENDTIME
(1)  838/    3718 :                     
(1)  839/    3718 : 3A A8 14            ENDTIME	LD	A,(SOL_CHGP)	;LLEGAMOS AL FINAL DEL TIEMPO DE SINCRO
(1)  840/    371B : B7                  	OR	A
(1)  841/    371C : 20 07               	JR	NZ,N_ENDTIME
(1)  842/    371E : AF                  	XOR	A
(1)  843/    371F : 32 A7 14            	LD	(SINCRO),A
(1)  844/    3722 : 32 A8 14            	LD	(SOL_CHGP),A	; y esta variable para que servia????
(1)  845/    3725 :                     
(1)  846/    3725 :                     
(1)  847/    3725 :                     N_ENDTIME
(1)  848/    3725 :                     ;;; LD	A,(MODO_GAME)		;esto no sirve para nada ahora mismo
(1)  849/    3725 : CD 43 34            	CALL	PUT_SPRITE	;hay que llamarla solo cuando esten acrivados los sprites
(1)  850/    3728 : CD 94 2C            	CALL	LEETECLA
(1)  851/    372B : 3A 37 2D            	LD	A,(LEETECLAV)
(1)  852/    372E : FE 80               	CP	80h
(1)  853/    3730 : 28 03               	JR	Z,N_ENDFUNC
(1)  854/    3732 : 32 9B 37            	LD	(BUFFER_INT),A
(1)  855/    3735 :                     
(1)  856/    3735 :                     N_ENDFUNC
(1)  857/    3735 : 3A 38 2D            	LD	A,(LEETFUNC)
(1)  858/    3738 : B7                  	OR	A
(1)  859/    3739 : 28 03               	JR	Z,N_ENDTIME1
(1)  860/    373B : 32 52 37            	LD	(BUFFER_FUNC),A
(1)  861/    373E :                     
(1)  862/    373E :                     N_ENDTIME1
(1)  863/    373E : 3E 01               	LD A,1
(1)  864/    3740 :                     	;; CALL SET_CFONDO
(1)  865/    3740 :                     
(1)  866/    3740 : CD FA 3A            	CALL	PLAY
(1)  867/    3743 : FB                  	EI
(1)  868/    3744 :                     
(1)  869/    3744 : 3E 08               	LD A,8
(1)  870/    3746 :                     	;; CALL SET_CFONDO
(1)  871/    3746 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(video.asm) - page 173 - 8/12/2011 20:51:50


(1)  872/    3746 : FD E1               	POP	IY
(1)  873/    3748 : DD E1               	POP	IX
(1)  874/    374A : E1                  	POP	HL
(1)  875/    374B : D1                  	POP	DE
(1)  876/    374C : C1                  	POP	BC
(1)  877/    374D : F1                  	POP	AF
(1)  878/    374E : 08                  	EX	AF,AF'
(1)  879/    374F :                     
(1)  880/    374F : F1                  RETINT	POP	AF
(1)  881/    3750 : FB                  	EI
(1)  882/    3751 : C9                  	RET
(1)  883/    3752 :                     
(1)  884/    3752 :                     
(1)  885/    3752 : 00                  BUFFER_FUNC:	DB	0
(1)  886/    3753 :                     
(1)  887/    3753 :                     
(1)  888/    3753 :                     ;FUNCION QUE SE ENCARGA DE GESTIONAR EL SCREEN SPLIT
(1)  889/    3753 :                     
(1)  890/    3753 :                     
(1)  891/    3753 :                     
(1)  892/    3753 : 3E 01               NOTVR:	LD	A,1	;PONEMOS EL REGISTRO DE ESTADO 1  ;ESTO SE PODRIA OBVIAR
(1)  893/    3755 : D3 99               	OUT	(99h),A	;PARA COMPROBAR EL VALOR DEL FLAG
(1)  894/    3757 : 3E 8F               	LD	A,128+15	;INTERRUPCION HORIZONTAL
(1)  895/    3759 : D3 99               	OUT	(99h),A
(1)  896/    375B :                     
(1)  897/    375B : DB 99               	IN	A,(99h)
(1)  898/    375D : 0F                  	RRCA
(1)  899/    375E : D2 6E 37            	JP	NC,NOTVR_RI
(1)  900/    3761 :                     
(1)  901/    3761 : E5                  	PUSH	HL
(1)  902/    3762 : C5                  	PUSH    BC
(1)  903/    3763 :                     ;                                       ;SCREENSPLIT DE ABAJO
(1)  904/    3763 : 0E 99               NOTVRAB	LD	C,99h
(1)  905/    3765 : 21 1F 82            	LD	HL,((128+2)*256)+1Fh
(1)  906/    3768 :                     
(1)  907/    3768 : ED 69               	OUT	(C),L
(1)  908/    376A : ED 61               	OUT	(C),H
(1)  909/    376C : C1                  	POP	BC
(1)  910/    376D : E1                  	POP     HL
(1)  911/    376E :                     
(1)  912/    376E :                     NOTVR_RI
(1)  913/    376E : AF                  	XOR	A
(1)  914/    376F : D3 99               	OUT	(99h),A
(1)  915/    3771 : 3E 8F               	LD	A,128+15
(1)  916/    3773 : D3 99               	OUT	(99h),A
(1)  917/    3775 :                     
(1)  918/    3775 : F1                  	POP	AF
(1)  919/    3776 : FB                  	EI
(1)  920/    3777 : ED 4D               	RETI
(1)  921/    3779 :                     
(1)  922/    3779 : 7B 37               PAL_GMP:	DW	PAL_GM
(1)  923/    377B :                     PAL_GM:		DS 	32
(1)  924/    379B :                     
(1)  925/    379B :                     
(1)  926/    379B : 00                  BUFFER_INT:	DB	0
(1)  927/    379C : 00                  FUNCT_INT:	DB	0
(1)  928/    379D :                     
(1)  929/    379D :                     
(1)  930/    379D :                     
(1)  931/    379D :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(video.asm) - page 174 - 8/12/2011 20:51:50


(1)  932/    379D : 00 00 00 00 00 00   PAL_NEGRO:	DB	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                    00 00 00 00 00 00 
                    00 00 00 00 
(1)  933/    37AD : 00 00 00 00 00 00   		DB	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                    00 00 00 00 00 00 
                    00 00 00 00 00 00 
(1)  934/    37BF :                     
(1)  935/    37BF :                     PAL_ODDYSEA:
(1)  936/    37BF : 40 03 21 05 20 03   		DB	40h,3,21h,5,20h,3,47h,5,62h,4,31h,2,15h,3
                    47 05 62 04 31 02 
                    15 03 
(1)  937/    37CD : 63 03 74 05 53 04   		DB	63h,3,74h,5,53h,4,41h,1,65h,6,77h,7,0,0,32h,3,43h,4
                    41 01 65 06 77 07 
                    00 00 32 03 43 04 
(1)  938/    37DF :                     
(1)  939/    37DF : 40 03 70 05 20 04   PAL_MARK:	DB	40h,3,70h,5,20h,4,31h,6,60h,2,31h,2,63h,4,47h,5,74h,5
                    31 06 60 02 31 02 
                    63 04 47 05 74 05 
(1)  940/    37F1 : 15 03 50 01 65 06   		DB	15h,3,50h,1,65h,6,77h,7,0,0,32h,3,43h,4
                    77 07 00 00 32 03 
                    43 04 
(1)  941/    37FF :                     
(1)  942/    37FF :                     
(1)  943/    37FF :                     
(1)  944/    37FF :                     
(1)  945/    37FF :                     
(1)  946/    37FF :                     
(1)  947/    37FF :                     ;NOMBRE: SETVDP_LI
(1)  948/    37FF :                     ;OBJETIVO: ACTIVAR LAS INTERRUPCIONES HORIZONTALES, ADEMAS DE COLOCAR LA LINEA
(1)  949/    37FF :                     
(1)  950/    37FF :                     
(1)  951/    37FF : F3                  SETVDP_LI:	DI
(1)  952/    3800 : 3E 90               	LD	A,SCR_SPLIT
(1)  953/    3802 : D3 99               	OUT	(99h),A
(1)  954/    3804 : 3E 93               	LD	A,128+19
(1)  955/    3806 : D3 99               	OUT	(99h),A
(1)  956/    3808 :                     
(1)  957/    3808 : 3A DF F3            	LD	A,(RG0SAV)
(1)  958/    380B : CB E7               	SET	4,A
(1)  959/    380D : D3 99               	OUT	(99h),A
(1)  960/    380F : 3E 80               	LD	A,128+0
(1)  961/    3811 : D3 99               	OUT	(99h),A
(1)  962/    3813 : FB                  	EI
(1)  963/    3814 : C9                  	RET
(1)  964/    3815 :                     
(1)  965/    3815 :                     
(1)  966/    3815 :                     ;NOMBRE: RESVDP_LI
(1)  967/    3815 :                     ;OBJETIVO: DESACTIVAR LAS INTERRUPCIONES HORIZONTALES
(1)  968/    3815 :                     
(1)  969/    3815 :                     
(1)  970/    3815 : F3                  RESVDP_LI:	DI
(1)  971/    3816 : 3A DF F3            	LD	A,(RG0SAV)
(1)  972/    3819 : CB A7               	RES	4,A
(1)  973/    381B : D3 99               	OUT	(99h),A
(1)  974/    381D : 3E 80               	LD	A,128+0
(1)  975/    381F : D3 99               	OUT	(99h),A
(1)  976/    3821 : FB                  	EI
(1)  977/    3822 : C9                  	RET
(1)  978/    3823 :                     
(1)  979/    3823 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(video.asm) - page 175 - 8/12/2011 20:51:50


(1)  980/    3823 :                     
(1)  981/    3823 :                     
(1)  982/    3823 :                     
(1)  983/    3823 :                     
(1)  984/    3823 :                     ;NOMBRE: LIMPIA_PAN
(1)  985/    3823 :                     ;OBJETIVO: RELLENA UNA PAGINA CON UN COLOR ESPECIFICO.
(1)  986/    3823 :                     ;ENTRADA: A  -> COLOR
(1)  987/    3823 :                     ;         B  -> NUMERO DE PAGINA
(1)  988/    3823 :                     ;         HL -> PUNTERO A LOS DATOS
(1)  989/    3823 :                     
(1)  990/    3823 :                     LIMPIA_PAN:
(1)  991/    3823 : EB                  	EX	DE,HL
(1)  992/    3824 : 21 08 00            	LD	HL,8
(1)  993/    3827 : 19                  	ADD	HL,DE
(1)  994/    3828 : 77                  	LD	(HL),A
(1)  995/    3829 : 21 03 00            	LD	HL,3
(1)  996/    382C : 19                  	ADD	HL,DE
(1)  997/    382D : 70                  	LD	(HL),B
(1)  998/    382E : EB                  	EX	DE,HL
(1)  999/    382F :                     
(1) 1000/    382F : F3                  	DI
(1) 1001/    3830 : 3E 24               	LD	A,24h
(1) 1002/    3832 : D3 99               	OUT	(99h),A
(1) 1003/    3834 : 3E 91               	LD	A,91h
(1) 1004/    3836 : D3 99               	OUT	(99h),A
(1) 1005/    3838 : 0E 9B               	LD	C,9Bh
(1) 1006/    383A : 06 0B               	LD	B,0Bh
(1) 1007/    383C : ED B3               	OTIR
(1) 1008/    383E : FB                  	EI
(1) 1009/    383F : C9                  	RET
(1) 1010/    3840 :                     
(1) 1011/    3840 :                     
(1) 1012/    3840 :                     SPRITE_TBL:	DS 4*MAXNUMSP
(1) 1013/    3880 : 00 00 00 00 00 01   LIMPIA_PAND:	DB 0,0,0,0,0,1,0,1,0FFh,0,0C0h
                    00 01 FF 00 C0 
(1) 1014/    388B : 10 00 14 00 E0 00   LIMPIA_SCR:	DB OFF_PANTX,0,OFF_PANTY,0,NUMPATX*8,0,NUMPATY*8,0,0FFh,0,0C0h
                    78 00 FF 00 C0 
(1) 1015/    3896 :                     
(1) 1016/    3896 :                     
(1) 1017/    3896 :                     
(1) 1018/    3896 :                     
(1) 1019/    3896 :                     
(1) 1020/    3896 :                     ;NOMBRE: FADE_OFF
(1) 1021/    3896 :                     ;OBJETIVO: HACER UN FADE A NEGRO DE LA PALETA ACTUAL
(1) 1022/    3896 :                     
(1) 1023/    3896 :                     
(1) 1024/    3896 :                     FADE_OFF:
(1) 1025/    3896 : 21 BF 37            	LD	HL,PAL_ODDYSEA
(1) 1026/    3899 : 11 EE 38            	LD	DE,PALETAW
(1) 1027/    389C : 01 20 00            	LD	BC,32
(1) 1028/    389F : ED B0               	LDIR
(1) 1029/    38A1 : 21 9D 37            	LD	HL,PAL_NEGRO
(1) 1030/    38A4 : 22 EC 38            	LD	(PALETAD),HL
(1) 1031/    38A7 : 18 11               	JR	PUT_FADET
(1) 1032/    38A9 :                     
(1) 1033/    38A9 :                     
(1) 1034/    38A9 :                     
(1) 1035/    38A9 :                     ;NOMBRE: FADE_ON
(1) 1036/    38A9 :                     ;OBJETIVO: HACER UN FADE DE NEGRO A LA PALETA ACTUAL
(1) 1037/    38A9 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(video.asm) - page 176 - 8/12/2011 20:51:50


(1) 1038/    38A9 :                     
(1) 1039/    38A9 :                     FADE_ON:
(1) 1040/    38A9 : 21 9D 37            	LD	HL,PAL_NEGRO
(1) 1041/    38AC : 11 EE 38            	LD	DE,PALETAW
(1) 1042/    38AF : 01 20 00            	LD	BC,32
(1) 1043/    38B2 : ED B0               	LDIR
(1) 1044/    38B4 : 21 BF 37            	LD	HL,PAL_ODDYSEA
(1) 1045/    38B7 : 22 EC 38            	LD	(PALETAD),HL
(1) 1046/    38BA :                     
(1) 1047/    38BA :                     
(1) 1048/    38BA :                     PUT_FADET:
(1) 1049/    38BA : 06 10               	LD	B,16	;ESTA LA QUE REALMENTE SE ENCARGA DE
(1) 1050/    38BC :                     ;                                       ;HACER LOS FADES
(1) 1051/    38BC : C5                  PFADE_OFFB	PUSH	BC
(1) 1052/    38BD : 3A 56 2B            PFADE_OFFW	LD	A,(TIME_)
(1) 1053/    38C0 : B7                  	OR	A
(1) 1054/    38C1 : 20 FA               	JR	NZ,PFADE_OFFW
(1) 1055/    38C3 :                     
(1) 1056/    38C3 : ED 5B EC 38         	LD	DE,(PALETAD)
(1) 1057/    38C7 : DD 21 EE 38         	LD	IX,PALETAW
(1) 1058/    38CB : 21 EE 38            	LD	HL,PALETAW
(1) 1059/    38CE : CD 0E 39            	CALL	DOFADE
(1) 1060/    38D1 :                     
(1) 1061/    38D1 :                     
(1) 1062/    38D1 : 21 EE 38            	LD	HL,PALETAW
(1) 1063/    38D4 : 11 7B 37            	LD	DE,PAL_GM
(1) 1064/    38D7 : 01 20 00            	LD	BC,32
(1) 1065/    38DA : ED B0               	LDIR
(1) 1066/    38DC :                     
(1) 1067/    38DC : F3                  	DI
(1) 1068/    38DD : 3E 01               	LD	A,1
(1) 1069/    38DF : 32 82 36            	LD	(CHANGE_PAL),A
(1) 1070/    38E2 : 3E 03               	LD	A,TIMEFADE
(1) 1071/    38E4 : 32 56 2B            	LD	(TIME_),A
(1) 1072/    38E7 : FB                  	EI
(1) 1073/    38E8 :                     
(1) 1074/    38E8 : C1                  	POP	BC
(1) 1075/    38E9 : 10 D1               	DJNZ	PFADE_OFFB
(1) 1076/    38EB :                     
(1) 1077/    38EB : C9                  	RET
(1) 1078/    38EC :                     
(1) 1079/    38EC : 00 00               PALETAD:	DW	0
(1) 1080/    38EE :                     PALETAW:	DS	32
(1) 1081/    390E :                     
(1) 1082/    390E :                     
(1) 1083/    390E :                     
(1) 1084/    390E :                     
(1) 1085/    390E :                     
(1) 1086/    390E :                     ;NOMBRE: DOFADE
(1) 1087/    390E :                     ;OBJETIVO: REALIZA UN PASO DE FADE ENTRE DOS PALETAS
(1) 1088/    390E :                     ;ENTRADA: HL -> PALETA INICIAL
(1) 1089/    390E :                     ;         DE -> PALETA DESTINO
(1) 1090/    390E :                     ;SALIDA: (IX)-> RESULTADO DEL FADE
(1) 1091/    390E :                     
(1) 1092/    390E :                     
(1) 1093/    390E :                     
(1) 1094/    390E :                     
(1) 1095/    390E : 06 20               DOFADE:	LD	B,32
(1) 1096/    3910 :                     
(1) 1097/    3910 : C5                  DOFADE1	PUSH	BC
 AS V1.42 Beta [Bld 28] - source file game.asm(video.asm) - page 177 - 8/12/2011 20:51:50


(1) 1098/    3911 : 7E                  	LD	A,(HL)
(1) 1099/    3912 : E6 07               	AND	7
(1) 1100/    3914 : 4F                  	LD	C,A
(1) 1101/    3915 : 1A                  	LD	A,(DE)
(1) 1102/    3916 : E6 07               	AND	7
(1) 1103/    3918 : B9                  	CP	C
(1) 1104/    3919 : 28 06               	JR	Z,DOFADEIG
(1) 1105/    391B : 38 03               	JR	C,DOFADEMAY
(1) 1106/    391D : 0C                  	INC	C
(1) 1107/    391E : 18 01               	JR	DOFADEIG
(1) 1108/    3920 : 0D                  DOFADEMAY	DEC	C
(1) 1109/    3921 :                     
(1) 1110/    3921 : 7E                  DOFADEIG	LD	A,(HL)
(1) 1111/    3922 : E6 70               	AND	70h
(1) 1112/    3924 : 47                  	LD	B,A
(1) 1113/    3925 : 1A                  	LD	A,(DE)
(1) 1114/    3926 : E6 70               	AND	70h
(1) 1115/    3928 : B8                  	CP	B
(1) 1116/    3929 : 28 0C               	JR	Z,DOFADEIG2
(1) 1117/    392B : 38 06               	JR	C,DOFADEMAY2
(1) 1118/    392D : 78                  	LD	A,B
(1) 1119/    392E : C6 10               	ADD	A,16
(1) 1120/    3930 : 47                  	LD	B,A
(1) 1121/    3931 : 18 04               	JR	DOFADEIG2
(1) 1122/    3933 : 78                  DOFADEMAY2	LD	A,B
(1) 1123/    3934 : D6 10               	SUB	16
(1) 1124/    3936 : 47                  	LD	B,A
(1) 1125/    3937 : 79                  DOFADEIG2	LD	A,C
(1) 1126/    3938 : 80                  	ADD	A,B
(1) 1127/    3939 : DD 77 00            	LD	(IX),A
(1) 1128/    393C : DD 23               	INC	IX
(1) 1129/    393E : 23                  	INC	HL
(1) 1130/    393F : 13                  	INC	DE
(1) 1131/    3940 : C1                  	POP	BC
(1) 1132/    3941 : 10 CD               	DJNZ	DOFADE1
(1) 1133/    3943 :                     
(1) 1134/    3943 : C9                  	RET
(1) 1135/    3944 :                     
(1) 1136/    3944 :                     
(1) 1137/    3944 :                     
(1) 1138/    3944 :                     
(1) 1139/    3944 :                     
(1) 1140/    3944 :                     
    3258/    3944 :                     	include "file.asm"
(1)    1/    3944 :                     	
(1)    2/    3944 :                     ;NOMBRE:   FILEOPEN
(1)    3/    3944 :                     ;OBJETIVO: ABRIR UN FICHERO
(1)    4/    3944 :                     ;ENTRADA: HL -> PUNTERO AL NOMBRE DEL FICHERO.
(1)    5/    3944 :                     
(1)    6/    3944 :                     
(1)    7/    3944 :                     FILEOPEN:	
(1)    8/    3944 : 11 5C 00            	ld	de,FCBLOAD
(1)    9/    3947 : 01 0C 00            	ld	BC,12
(1)   10/    394A : ED B0               	LDIR
(1)   11/    394C :                     
(1)   12/    394C : 0E 0F               	LD	C,FOPEN
(1)   13/    394E : 11 5C 00            	LD	DE,FCBLOAD
(1)   14/    3951 : CD 05 00            	CALL	BDOS
(1)   15/    3954 :                     
(1)   16/    3954 : 21 01 00            	LD	HL,1
 AS V1.42 Beta [Bld 28] - source file game.asm(file.asm) - page 178 - 8/12/2011 20:51:50


(1)   17/    3957 : 22 6A 00            	LD	(FCBLOAD+14),HL
(1)   18/    395A : 21 00 00            	LD	HL,0
(1)   19/    395D : 22 7D 00            	LD	(FCBLOAD+33),HL
(1)   20/    3960 : 22 7F 00            	LD	(FCBLOAD+35),HL
(1)   21/    3963 : C9                  	RET
(1)   22/    3964 :                     
(1)   23/    3964 :                     
(1)   24/    3964 :                     ;NOMBRE: READFILE
(1)   25/    3964 :                     ;OBJETIVO: LEER PARTE DE UN FICHERO
(1)   26/    3964 :                     ;ENTRADA: HL -> NUMERO DE BYTES
(1)   27/    3964 :                     ;         DE -> DESTINO
(1)   28/    3964 :                     
(1)   29/    3964 : E5                  READFILE:	PUSH	HL
(1)   30/    3965 : 0E 1A               	LD	C,SETDMA
(1)   31/    3967 : CD 05 00            	CALL	BDOS
(1)   32/    396A : E1                  	POP	HL
(1)   33/    396B : 0E 27               	LD	C,RDBLK
(1)   34/    396D : 11 5C 00            	LD	DE,FCBLOAD
(1)   35/    3970 : CD 05 00            	CALL	BDOS
(1)   36/    3973 : C9                  	RET
(1)   37/    3974 :                     
(1)   38/    3974 :                     ;NOMBRE: CLOSEFILE
(1)   39/    3974 :                     ;OBJETIVO: CERRAR EL FICHERO
(1)   40/    3974 :                     
(1)   41/    3974 :                     
(1)   42/    3974 : 11 5C 00            CLOSEFILE:	LD	DE,FCBLOAD
(1)   43/    3977 : 0E 10               	LD	C,FCLOSE
(1)   44/    3979 : CD 05 00            	CALL	BDOS
(1)   45/    397C : C9                  	RET
(1)   46/    397D :                     
    3259/    397D :                     	include "song.asm"
(1)    1/    397D :                     
(1)    2/    397D :                     	
(1)    3/    397D :                     
(1)    4/    397D :                     MusicC:
(1)    5/    397D : (MACRO)             	assert "Pila= %p Comando de musica %d\n",(sp),a
(1)    5/    397D : =>DEFINED                   ifdef DEBUG
(1)    5/    397D :                             
(1)    5/    397D : =>TRUE                        if "Pila= %p Comando de musica %d\n" <> ""
(1)    5/    397D : C3 A5 39                        jp next          
(1)    5/    3980 : 50 69 6C 61 3D 20   cad:        db "Pila= %p Comando de musica %d\n",0
                    25 70 20 43 6F 6D 
                    61 6E 64 6F 20 64 
                    65 20 6D 75 73 69 
                    63 61 20 25 64 0A 
                    00 
(1)    5/    399F : 00 00               r_sp:       dw 0                
(1)    5/    39A1 : 00 00               old_sp:     dw 0
(1)    5/    39A3 : 00 00               pushls:     dw 0
(1)    5/    39A5 :                     
(1)    5/    39A5 :                                             
(1)    5/    39A5 :                     next:               
(1)    5/    39A5 : E5                              push hl    
(1)    5/    39A6 : 21 FA FF                        ld hl,-6
(1)    5/    39A9 : 39                              add hl,sp
(1)    5/    39AA : 22 9F 39                        ld (r_sp),hl
(1)    5/    39AD : 21 02 00                        ld hl,2
(1)    5/    39B0 : 39                              add hl,sp
(1)    5/    39B1 : 22 A1 39                        ld (old_sp),hl
(1)    5/    39B4 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(song.asm) - page 179 - 8/12/2011 20:51:50


(1)    5/    39B4 : F5                              push af
(1)    5/    39B5 : ED 5F                           ld a,r              ; Salvar el estado de las interrupciones
(1)    5/    39B7 : F5                              push af
(1)    5/    39B8 : E1                              pop hl
(1)    5/    39B9 : 7D                              ld a,l
(1)    5/    39BA : 32 DD 18                        ld (prt_di),a           
(1)    5/    39BD : F1                              pop af
(1)    5/    39BE : E1                              pop hl
(1)    5/    39BF : F3                              di
(1)    5/    39C0 :                                      
(1)    5/    39C0 : E5                              push hl
(1)    5/    39C1 : D5                              push de
(1)    5/    39C2 : C5                              push bc
(1)    5/    39C3 : F5                              push af
(1)    5/    39C4 : 22 A3 39                        ld (pushls),hl
(1)    5/    39C7 :                                 shift
(1)    5/    39C7 : (MACRO)                         pushlist (SP),A
(1)    5/    39C7 : =>TRUE                     if "(SP)" <> ""
(1)    5/    39C7 : (MACRO)                       pushlist A
(1)    5/    39C7 : =>TRUE                     if "A" <> ""
(1)    5/    39C7 : (MACRO)                       pushlist 
(1)    5/    39C7 : =>FALSE                    if "" <> ""
(1)    5/    39C7 :                               pushlist 
(1)    5/    39C7 :                               pusht 
(1)    5/    39C7 : [5]                        endif
(1)    5/    39C7 : (MACRO)                       pusht A
(1)    5/    39C7 : =>FALSE                   if  (upstring("A")=="AF") || (upstring("A")=="BC") 
(1)    5/    39C7 :                             push A
(1)    5/    39C7 : =>FALSE                   elseif (upstring("A")=="DE") || (upstring("A")=="HL") 
(1)    5/    39C7 :                             push A
(1)    5/    39C7 : =>FALSE                   elseif (upstring("A")=="IX") || (upstring("A")=="IY")
(1)    5/    39C7 :                             push A
(1)    5/    39C7 : =>FALSE                   elseif (upstring("A")=="SP")
(1)    5/    39C7 :                             ld hl,(old_sp)
(1)    5/    39C7 :                             push hl
(1)    5/    39C7 :                             ld hl,(pushls)
(1)    5/    39C7 : =>FALSE                   elseif strstr("A","(") <> -1
(1)    5/    39C7 :                             if strstr(upstring("A"),"(SP)") <> -1
(1)    5/    39C7 :                                ld hl,(old_sp)
(1)    5/    39C7 :                                push af
(1)    5/    39C7 :                                ld a,(hl)
(1)    5/    39C7 :                                inc hl
(1)    5/    39C7 :                                ld h,(hl)
(1)    5/    39C7 :                                ld l,a
(1)    5/    39C7 :                                pop af
(1)    5/    39C7 :                                push hl
(1)    5/    39C7 :                                ld hl,(pushls)          
(1)    5/    39C7 :                             else
(1)    5/    39C7 :                                push8b A
(1)    5/    39C7 : [5]                         endif
(1)    5/    39C7 : =>TRUE                    elseif (upstring("A")=="A") 
(1)    5/    39C7 : (MACRO)                     push8b A
(1)    5/    39C7 : F5                          push af
(1)    5/    39C8 : 7F                          ld a,A  
(1)    5/    39C9 : 6F                          ld l,a
(1)    5/    39CA : F1                          pop af
(1)    5/    39CB : 26 00                       ld h,0
(1)    5/    39CD : E5                          push hl
(1)    5/    39CE : 2A A3 39                    ld hl,(pushls)
(1)    5/    39D1 : =>FALSE                   elseif (upstring("A")=="B")   || (upstring("A")=="C") 
 AS V1.42 Beta [Bld 28] - source file game.asm(song.asm) - page 180 - 8/12/2011 20:51:50


(1)    5/    39D1 :                             push8b A
(1)    5/    39D1 : =>FALSE                   elseif (upstring("A")=="D")   || (upstring("A")=="E") 
(1)    5/    39D1 :                             push8b A
(1)    5/    39D1 : =>FALSE                   elseif (upstring("A")=="H")   || (upstring("A")=="L") 
(1)    5/    39D1 :                             push8b A
(1)    5/    39D1 : =>FALSE                   elseif (upstring("A")=="IYH") || (upstring("A")=="IHL")
(1)    5/    39D1 :                             push8b A
(1)    5/    39D1 : =>FALSE                   elseif (upstring("A")=="IYH") || (upstring("A")=="IHL") 
(1)    5/    39D1 :                             push8b A
(1)    5/    39D1 : =>FALSE                   else              
(1)    5/    39D1 :                             ld hl,A
(1)    5/    39D1 :                             push hl
(1)    5/    39D1 :                             ld hl,(pushls)
(1)    5/    39D1 : [5]                       endif
(1)    5/    39D1 : [5]                        endif
(1)    5/    39D1 : (MACRO)                       pusht (SP)
(1)    5/    39D1 : =>FALSE                   if  (upstring("(SP)")=="AF") || (upstring("(SP)")=="BC") 
(1)    5/    39D1 :                             push (SP)
(1)    5/    39D1 : =>FALSE                   elseif (upstring("(SP)")=="DE") || (upstring("(SP)")=="HL") 
(1)    5/    39D1 :                             push (SP)
(1)    5/    39D1 : =>FALSE                   elseif (upstring("(SP)")=="IX") || (upstring("(SP)")=="IY")
(1)    5/    39D1 :                             push (SP)
(1)    5/    39D1 : =>FALSE                   elseif (upstring("(SP)")=="SP")
(1)    5/    39D1 :                             ld hl,(old_sp)
(1)    5/    39D1 :                             push hl
(1)    5/    39D1 :                             ld hl,(pushls)
(1)    5/    39D1 : =>TRUE                    elseif strstr("(SP)","(") <> -1
(1)    5/    39D1 : =>TRUE                      if strstr(upstring("(SP)"),"(SP)") <> -1
(1)    5/    39D1 : 2A A1 39                       ld hl,(old_sp)
(1)    5/    39D4 : F5                             push af
(1)    5/    39D5 : 7E                             ld a,(hl)
(1)    5/    39D6 : 23                             inc hl
(1)    5/    39D7 : 66                             ld h,(hl)
(1)    5/    39D8 : 6F                             ld l,a
(1)    5/    39D9 : F1                             pop af
(1)    5/    39DA : E5                             push hl
(1)    5/    39DB : 2A A3 39                       ld hl,(pushls)          
(1)    5/    39DE : =>FALSE                     else
(1)    5/    39DE :                                push8b (SP)
(1)    5/    39DE : [5]                         endif
(1)    5/    39DE : =>FALSE                   elseif (upstring("(SP)")=="A") 
(1)    5/    39DE :                             push8b (SP)
(1)    5/    39DE : =>FALSE                   elseif (upstring("(SP)")=="B")   || (upstring("(SP)")=="C") 
(1)    5/    39DE :                             push8b (SP)
(1)    5/    39DE : =>FALSE                   elseif (upstring("(SP)")=="D")   || (upstring("(SP)")=="E") 
(1)    5/    39DE :                             push8b (SP)
(1)    5/    39DE : =>FALSE                   elseif (upstring("(SP)")=="H")   || (upstring("(SP)")=="L") 
(1)    5/    39DE :                             push8b (SP)
(1)    5/    39DE : =>FALSE                   elseif (upstring("(SP)")=="IYH") || (upstring("(SP)")=="IHL")
(1)    5/    39DE :                             push8b (SP)
(1)    5/    39DE : =>FALSE                   elseif (upstring("(SP)")=="IYH") || (upstring("(SP)")=="IHL") 
(1)    5/    39DE :                             push8b (SP)
(1)    5/    39DE : =>FALSE                   else              
(1)    5/    39DE :                             ld hl,(SP)
(1)    5/    39DE :                             push hl
(1)    5/    39DE :                             ld hl,(pushls)
(1)    5/    39DE : [5]                       endif
(1)    5/    39DE : [5]                        endif
(1)    5/    39DE : 21 80 39                        ld hl,cad
(1)    5/    39E1 : CD DE 18                        call prt_d
 AS V1.42 Beta [Bld 28] - source file game.asm(song.asm) - page 181 - 8/12/2011 20:51:50


(1)    5/    39E4 :                     
(1)    5/    39E4 : 2A 9F 39                        ld hl,(r_sp)
(1)    5/    39E7 : F9                              ld sp,hl    
(1)    5/    39E8 :                     
(1)    5/    39E8 : 3A DD 18                        ld a,(prt_di) 
(1)    5/    39EB : CB 57                           bit 2,a
(1)    5/    39ED : 28 01                           jr z,+
(1)    5/    39EF : FB                              ei          ; Restauramos estado de las interrupciones
(1)    5/    39F0 :                     
(1)    5/    39F0 : F1                  +           pop af
(1)    5/    39F1 : C1                              pop bc
(1)    5/    39F2 : D1                              pop de
(1)    5/    39F3 : E1                              pop hl      
(1)    5/    39F4 : [5]                           endif
(1)    5/    39F4 : [5]                         endif
(1)    6/    39F4 : F3                  	di
(1)    7/    39F5 : F5                  	push af		
(1)    8/    39F6 : CD 0D 23            	call PutPageD
(1)    9/    39F9 : 3A F9 3A            	ld a,(PagMusAct)
(1)   10/    39FC : CD 23 23            	call PutPageM
(1)   11/    39FF : F1                  	pop af	
(1)   12/    3A00 : CD 03 80            	call mcdrvC
(1)   13/    3A03 : CD 16 23            	call PutPageP1
(1)   14/    3A06 : CD 1F 23            	call PutPageP2
(1)   15/    3A09 : FB                  	ei
(1)   16/    3A0A : (MACRO)             	assert "Fin de comando de musica\n"
(1)   16/    3A0A : =>DEFINED                   ifdef DEBUG
(1)   16/    3A0A :                             
(1)   16/    3A0A : =>TRUE                        if "Fin de comando de musica\n" <> ""
(1)   16/    3A0A : C3 2D 3A                        jp next          
(1)   16/    3A0D : 46 69 6E 20 64 65   cad:        db "Fin de comando de musica\n",0
                    20 63 6F 6D 61 6E 
                    64 6F 20 64 65 20 
                    6D 75 73 69 63 61 
                    0A 00 
(1)   16/    3A27 : 00 00               r_sp:       dw 0                
(1)   16/    3A29 : 00 00               old_sp:     dw 0
(1)   16/    3A2B : 00 00               pushls:     dw 0
(1)   16/    3A2D :                     
(1)   16/    3A2D :                                             
(1)   16/    3A2D :                     next:               
(1)   16/    3A2D : E5                              push hl    
(1)   16/    3A2E : 21 FA FF                        ld hl,-6
(1)   16/    3A31 : 39                              add hl,sp
(1)   16/    3A32 : 22 27 3A                        ld (r_sp),hl
(1)   16/    3A35 : 21 02 00                        ld hl,2
(1)   16/    3A38 : 39                              add hl,sp
(1)   16/    3A39 : 22 29 3A                        ld (old_sp),hl
(1)   16/    3A3C :                     
(1)   16/    3A3C : F5                              push af
(1)   16/    3A3D : ED 5F                           ld a,r              ; Salvar el estado de las interrupciones
(1)   16/    3A3F : F5                              push af
(1)   16/    3A40 : E1                              pop hl
(1)   16/    3A41 : 7D                              ld a,l
(1)   16/    3A42 : 32 DD 18                        ld (prt_di),a           
(1)   16/    3A45 : F1                              pop af
(1)   16/    3A46 : E1                              pop hl
(1)   16/    3A47 : F3                              di
(1)   16/    3A48 :                                      
(1)   16/    3A48 : E5                              push hl
 AS V1.42 Beta [Bld 28] - source file game.asm(song.asm) - page 182 - 8/12/2011 20:51:50


(1)   16/    3A49 : D5                              push de
(1)   16/    3A4A : C5                              push bc
(1)   16/    3A4B : F5                              push af
(1)   16/    3A4C : 22 2B 3A                        ld (pushls),hl
(1)   16/    3A4F :                                 shift
(1)   16/    3A4F : (MACRO)                         pushlist 
(1)   16/    3A4F : =>FALSE                    if "" <> ""
(1)   16/    3A4F :                               pushlist 
(1)   16/    3A4F :                               pusht 
(1)   16/    3A4F : [16]                       endif
(1)   16/    3A4F : 21 0D 3A                        ld hl,cad
(1)   16/    3A52 : CD DE 18                        call prt_d
(1)   16/    3A55 :                     
(1)   16/    3A55 : 2A 27 3A                        ld hl,(r_sp)
(1)   16/    3A58 : F9                              ld sp,hl    
(1)   16/    3A59 :                     
(1)   16/    3A59 : 3A DD 18                        ld a,(prt_di) 
(1)   16/    3A5C : CB 57                           bit 2,a
(1)   16/    3A5E : 28 01                           jr z,+
(1)   16/    3A60 : FB                              ei          ; Restauramos estado de las interrupciones
(1)   16/    3A61 :                     
(1)   16/    3A61 : F1                  +           pop af
(1)   16/    3A62 : C1                              pop bc
(1)   16/    3A63 : D1                              pop de
(1)   16/    3A64 : E1                              pop hl      
(1)   16/    3A65 : [16]                          endif
(1)   16/    3A65 : [16]                        endif
(1)   17/    3A65 : C9                  	ret
(1)   18/    3A66 :                     
(1)   19/    3A66 :                     	
(1)   20/    3A66 :                     	
(1)   21/    3A66 :                     ;Nombre: PUTSNG
(1)   22/    3A66 :                     ;Objetivo: Cargar y poner como cancion activa (no necesariamente hace 
(1)   23/    3A66 :                     ;	   que se toque (depende del estado del fade).
(1)   24/    3A66 :                     ;Entrada: A -> Numero de cancion a tocar (de 1 en adelante)
(1)   25/    3A66 :                     ;Modifica: Todos los registros.
(1)   26/    3A66 :                     					
(1)   27/    3A66 :                     
(1)   28/    3A66 :                     			
(1)   29/    3A66 :                     PutSng:	
(1)   30/    3A66 :                     
(1)   31/    3A66 : 21 F3 3A            	ld hl,MusicTbl-3
(1)   32/    3A69 : 47                  	ld b,a
(1)   33/    3A6A : 11 03 00            	ld de,3
(1)   34/    3A6D : 19                  -	add hl,de
(1)   35/    3A6E : 10 FD               	djnz -
(1)   36/    3A70 :                     	
(1)   37/    3A70 : (MACRO)             	assert "Cancion %d -> Pagina  %d\n",a,(hl)
(1)   37/    3A70 : =>DEFINED                   ifdef DEBUG
(1)   37/    3A70 :                             
(1)   37/    3A70 : =>TRUE                        if "Cancion %d -> Pagina  %d\n" <> ""
(1)   37/    3A70 : C3 93 3A                        jp next          
(1)   37/    3A73 : 43 61 6E 63 69 6F   cad:        db "Cancion %d -> Pagina  %d\n",0
                    6E 20 25 64 20 2D 
                    3E 20 50 61 67 69 
                    6E 61 20 20 25 64 
                    0A 00 
(1)   37/    3A8D : 00 00               r_sp:       dw 0                
(1)   37/    3A8F : 00 00               old_sp:     dw 0
(1)   37/    3A91 : 00 00               pushls:     dw 0
 AS V1.42 Beta [Bld 28] - source file game.asm(song.asm) - page 183 - 8/12/2011 20:51:50


(1)   37/    3A93 :                     
(1)   37/    3A93 :                                             
(1)   37/    3A93 :                     next:               
(1)   37/    3A93 : E5                              push hl    
(1)   37/    3A94 : 21 FA FF                        ld hl,-6
(1)   37/    3A97 : 39                              add hl,sp
(1)   37/    3A98 : 22 8D 3A                        ld (r_sp),hl
(1)   37/    3A9B : 21 02 00                        ld hl,2
(1)   37/    3A9E : 39                              add hl,sp
(1)   37/    3A9F : 22 8F 3A                        ld (old_sp),hl
(1)   37/    3AA2 :                     
(1)   37/    3AA2 : F5                              push af
(1)   37/    3AA3 : ED 5F                           ld a,r              ; Salvar el estado de las interrupciones
(1)   37/    3AA5 : F5                              push af
(1)   37/    3AA6 : E1                              pop hl
(1)   37/    3AA7 : 7D                              ld a,l
(1)   37/    3AA8 : 32 DD 18                        ld (prt_di),a           
(1)   37/    3AAB : F1                              pop af
(1)   37/    3AAC : E1                              pop hl
(1)   37/    3AAD : F3                              di
(1)   37/    3AAE :                                      
(1)   37/    3AAE : E5                              push hl
(1)   37/    3AAF : D5                              push de
(1)   37/    3AB0 : C5                              push bc
(1)   37/    3AB1 : F5                              push af
(1)   37/    3AB2 : 22 91 3A                        ld (pushls),hl
(1)   37/    3AB5 :                                 shift
(1)   37/    3AB5 : (MACRO)                         pushlist A,(HL)
(1)   37/    3AB5 : =>TRUE                     if "A" <> ""
(1)   37/    3AB5 : (MACRO)                       pushlist (HL)
(1)   37/    3AB5 : =>TRUE                     if "(HL)" <> ""
(1)   37/    3AB5 : (MACRO)                       pushlist 
(1)   37/    3AB5 : =>FALSE                    if "" <> ""
(1)   37/    3AB5 :                               pushlist 
(1)   37/    3AB5 :                               pusht 
(1)   37/    3AB5 : [37]                       endif
(1)   37/    3AB5 : (MACRO)                       pusht (HL)
(1)   37/    3AB5 : =>FALSE                   if  (upstring("(HL)")=="AF") || (upstring("(HL)")=="BC") 
(1)   37/    3AB5 :                             push (HL)
(1)   37/    3AB5 : =>FALSE                   elseif (upstring("(HL)")=="DE") || (upstring("(HL)")=="HL") 
(1)   37/    3AB5 :                             push (HL)
(1)   37/    3AB5 : =>FALSE                   elseif (upstring("(HL)")=="IX") || (upstring("(HL)")=="IY")
(1)   37/    3AB5 :                             push (HL)
(1)   37/    3AB5 : =>FALSE                   elseif (upstring("(HL)")=="SP")
(1)   37/    3AB5 :                             ld hl,(old_sp)
(1)   37/    3AB5 :                             push hl
(1)   37/    3AB5 :                             ld hl,(pushls)
(1)   37/    3AB5 : =>TRUE                    elseif strstr("(HL)","(") <> -1
(1)   37/    3AB5 : =>FALSE                     if strstr(upstring("(HL)"),"(SP)") <> -1
(1)   37/    3AB5 :                                ld hl,(old_sp)
(1)   37/    3AB5 :                                push af
(1)   37/    3AB5 :                                ld a,(hl)
(1)   37/    3AB5 :                                inc hl
(1)   37/    3AB5 :                                ld h,(hl)
(1)   37/    3AB5 :                                ld l,a
(1)   37/    3AB5 :                                pop af
(1)   37/    3AB5 :                                push hl
(1)   37/    3AB5 :                                ld hl,(pushls)          
(1)   37/    3AB5 : =>TRUE                      else
(1)   37/    3AB5 : (MACRO)                        push8b (HL)
 AS V1.42 Beta [Bld 28] - source file game.asm(song.asm) - page 184 - 8/12/2011 20:51:50


(1)   37/    3AB5 : F5                          push af
(1)   37/    3AB6 : 7E                          ld a,(HL)  
(1)   37/    3AB7 : 6F                          ld l,a
(1)   37/    3AB8 : F1                          pop af
(1)   37/    3AB9 : 26 00                       ld h,0
(1)   37/    3ABB : E5                          push hl
(1)   37/    3ABC : 2A 91 3A                    ld hl,(pushls)
(1)   37/    3ABF : [37]                        endif
(1)   37/    3ABF : =>FALSE                   elseif (upstring("(HL)")=="A") 
(1)   37/    3ABF :                             push8b (HL)
(1)   37/    3ABF : =>FALSE                   elseif (upstring("(HL)")=="B")   || (upstring("(HL)")=="C") 
(1)   37/    3ABF :                             push8b (HL)
(1)   37/    3ABF : =>FALSE                   elseif (upstring("(HL)")=="D")   || (upstring("(HL)")=="E") 
(1)   37/    3ABF :                             push8b (HL)
(1)   37/    3ABF : =>FALSE                   elseif (upstring("(HL)")=="H")   || (upstring("(HL)")=="L") 
(1)   37/    3ABF :                             push8b (HL)
(1)   37/    3ABF : =>FALSE                   elseif (upstring("(HL)")=="IYH") || (upstring("(HL)")=="IHL")
(1)   37/    3ABF :                             push8b (HL)
(1)   37/    3ABF : =>FALSE                   elseif (upstring("(HL)")=="IYH") || (upstring("(HL)")=="IHL") 
(1)   37/    3ABF :                             push8b (HL)
(1)   37/    3ABF : =>FALSE                   else              
(1)   37/    3ABF :                             ld hl,(HL)
(1)   37/    3ABF :                             push hl
(1)   37/    3ABF :                             ld hl,(pushls)
(1)   37/    3ABF : [37]                      endif
(1)   37/    3ABF : [37]                       endif
(1)   37/    3ABF : (MACRO)                       pusht A
(1)   37/    3ABF : =>FALSE                   if  (upstring("A")=="AF") || (upstring("A")=="BC") 
(1)   37/    3ABF :                             push A
(1)   37/    3ABF : =>FALSE                   elseif (upstring("A")=="DE") || (upstring("A")=="HL") 
(1)   37/    3ABF :                             push A
(1)   37/    3ABF : =>FALSE                   elseif (upstring("A")=="IX") || (upstring("A")=="IY")
(1)   37/    3ABF :                             push A
(1)   37/    3ABF : =>FALSE                   elseif (upstring("A")=="SP")
(1)   37/    3ABF :                             ld hl,(old_sp)
(1)   37/    3ABF :                             push hl
(1)   37/    3ABF :                             ld hl,(pushls)
(1)   37/    3ABF : =>FALSE                   elseif strstr("A","(") <> -1
(1)   37/    3ABF :                             if strstr(upstring("A"),"(SP)") <> -1
(1)   37/    3ABF :                                ld hl,(old_sp)
(1)   37/    3ABF :                                push af
(1)   37/    3ABF :                                ld a,(hl)
(1)   37/    3ABF :                                inc hl
(1)   37/    3ABF :                                ld h,(hl)
(1)   37/    3ABF :                                ld l,a
(1)   37/    3ABF :                                pop af
(1)   37/    3ABF :                                push hl
(1)   37/    3ABF :                                ld hl,(pushls)          
(1)   37/    3ABF :                             else
(1)   37/    3ABF :                                push8b A
(1)   37/    3ABF : [37]                        endif
(1)   37/    3ABF : =>TRUE                    elseif (upstring("A")=="A") 
(1)   37/    3ABF : (MACRO)                     push8b A
(1)   37/    3ABF : F5                          push af
(1)   37/    3AC0 : 7F                          ld a,A  
(1)   37/    3AC1 : 6F                          ld l,a
(1)   37/    3AC2 : F1                          pop af
(1)   37/    3AC3 : 26 00                       ld h,0
(1)   37/    3AC5 : E5                          push hl
(1)   37/    3AC6 : 2A 91 3A                    ld hl,(pushls)
 AS V1.42 Beta [Bld 28] - source file game.asm(song.asm) - page 185 - 8/12/2011 20:51:50


(1)   37/    3AC9 : =>FALSE                   elseif (upstring("A")=="B")   || (upstring("A")=="C") 
(1)   37/    3AC9 :                             push8b A
(1)   37/    3AC9 : =>FALSE                   elseif (upstring("A")=="D")   || (upstring("A")=="E") 
(1)   37/    3AC9 :                             push8b A
(1)   37/    3AC9 : =>FALSE                   elseif (upstring("A")=="H")   || (upstring("A")=="L") 
(1)   37/    3AC9 :                             push8b A
(1)   37/    3AC9 : =>FALSE                   elseif (upstring("A")=="IYH") || (upstring("A")=="IHL")
(1)   37/    3AC9 :                             push8b A
(1)   37/    3AC9 : =>FALSE                   elseif (upstring("A")=="IYH") || (upstring("A")=="IHL") 
(1)   37/    3AC9 :                             push8b A
(1)   37/    3AC9 : =>FALSE                   else              
(1)   37/    3AC9 :                             ld hl,A
(1)   37/    3AC9 :                             push hl
(1)   37/    3AC9 :                             ld hl,(pushls)
(1)   37/    3AC9 : [37]                      endif
(1)   37/    3AC9 : [37]                       endif
(1)   37/    3AC9 : 21 73 3A                        ld hl,cad
(1)   37/    3ACC : CD DE 18                        call prt_d
(1)   37/    3ACF :                     
(1)   37/    3ACF : 2A 8D 3A                        ld hl,(r_sp)
(1)   37/    3AD2 : F9                              ld sp,hl    
(1)   37/    3AD3 :                     
(1)   37/    3AD3 : 3A DD 18                        ld a,(prt_di) 
(1)   37/    3AD6 : CB 57                           bit 2,a
(1)   37/    3AD8 : 28 01                           jr z,+
(1)   37/    3ADA : FB                              ei          ; Restauramos estado de las interrupciones
(1)   37/    3ADB :                     
(1)   37/    3ADB : F1                  +           pop af
(1)   37/    3ADC : C1                              pop bc
(1)   37/    3ADD : D1                              pop de
(1)   37/    3ADE : E1                              pop hl      
(1)   37/    3ADF : [37]                          endif
(1)   37/    3ADF : [37]                        endif
(1)   38/    3ADF : E5                  	push hl
(1)   39/    3AE0 : 7E                  	ld a,(hl)
(1)   40/    3AE1 : 32 F9 3A            	ld (PagMusAct),a
(1)   41/    3AE4 : CD 23 23            	call PutPageM
(1)   42/    3AE7 : E1                  	pop hl 
(1)   43/    3AE8 : 23                  	inc hl
(1)   44/    3AE9 : 7E                  	ld a,(hl)
(1)   45/    3AEA : 23                  	inc hl
(1)   46/    3AEB : 66                  	ld h,(hl)
(1)   47/    3AEC : 6F                  	ld l,a
(1)   48/    3AED :                     								
(1)   49/    3AED : 3E 09               	ld a,MC_MUSICON
(1)   50/    3AEF : 21 00 A0            	ld hl,SongAct
(1)   51/    3AF2 : CD 7D 39            	call MusicC
(1)   52/    3AF5 :                     
(1)   53/    3AF5 : C9                  	ret
(1)   54/    3AF6 :                     
(1)   55/    3AF6 :                     
(1)   56/    3AF6 : 01                  MusicTbl:	db 1
(1)   57/    3AF7 : 00 A0               		dw SongAct		
(1)   58/    3AF9 : 00                  PagMusAct:	db 0		; Este valor coincide con el del emulador para que en las primeras
(1)   59/    3AFA :                     				; Llamadas no se intente cargar nada				
(1)   60/    3AFA :                     
(1)   61/    3AFA :                     	
(1)   62/    3AFA :                     	
(1)   63/    3AFA :                     	
(1)   64/    3AFA :                     Play:	
 AS V1.42 Beta [Bld 28] - source file game.asm(song.asm) - page 186 - 8/12/2011 20:51:50


(1)   65/    3AFA : F3                  	di	
(1)   66/    3AFB : 21 1E 3B            	ld hl,PlayOnD		; Semaforo de acceso a la musica
(1)   67/    3AFE : AF                  	xor a
(1)   68/    3AFF : B6                  	or (hl)
(1)   69/    3B00 : C0                  	ret nz
(1)   70/    3B01 :                     	
(1)   71/    3B01 : 3C                  	inc a
(1)   72/    3B02 : 77                  	ld (hl),a
(1)   73/    3B03 : FB                  	ei
(1)   74/    3B04 :                     	
(1)   75/    3B04 : CD 0D 23            	call PutPageD
(1)   76/    3B07 : 3A F9 3A            	ld a,(PagMusAct)
(1)   77/    3B0A : CD 23 23                    call PutPageM	
(1)   78/    3B0D : CD 00 80            	call mcdrv
(1)   79/    3B10 : CD 16 23            	call PutPageP1
(1)   80/    3B13 : CD 1F 23            	call PutPageP2
(1)   81/    3B16 :                     
(1)   82/    3B16 : F3                  	di
(1)   83/    3B17 : 21 1E 3B            	ld hl,playOnD
(1)   84/    3B1A : AF                  	xor a
(1)   85/    3B1B : 77                  	ld (hl),a
(1)   86/    3B1C : FB                  	ei
(1)   87/    3B1D : C9                  	ret
(1)   88/    3B1E :                     
(1)   89/    3B1E : 00                  PlayOnD:	 db 0		; Esto habria que inicializarlo en init_game
(1)   90/    3B1F :                     
(1)   91/    3B1F :                     
(1)   92/    3B1F :                     
(1)   93/    3B1F :                     
    3260/    3B1F :                      
    3261/    3B1F :                     final:
    3262/    3B1F :                     MusicDrv:		
    3263/    8000 :                     	phase AdrMusic
    3264/    8000 :                     Imcdrv:		
    3265/    8000 :                     	include "mcdrv.asm"
(1)    1/    8000 :                     	
(1)    2/    8000 :                     MCDRV:				; ...
(1)    3/    8000 : C3 0B 83            		jp	IntFunct
(1)    4/    8003 :                     
(1)    5/    8003 :                     			
(1)    6/    8003 :                     ;****************************************************************************
(1)    7/    8003 :                     MCDRVC:	
(1)    8/    8003 :                     Commands:				; ...
(1)    9/    8003 : F3                  		di			; Input	point for driver commands
(1)   10/    8004 : DD E5               		push	ix
(1)   11/    8006 : E5                  		push	hl
(1)   12/    8007 : D5                  		push	de
(1)   13/    8008 : C5                  		push	bc
(1)   14/    8009 : FE 0D               		cp	13
(1)   15/    800B : 30 18               		jr	nc, EndCommand
(1)   16/    800D : 87                  		add	a, a
(1)   17/    800E : 16 00               		ld 	d,0
(1)   18/    8010 : 5F                  		ld 	e,a
(1)   19/    8011 : D5                  		push 	de
(1)   20/    8012 : DD E1               		pop 	ix
(1)   21/    8014 : 11 2D 80            		ld	de, Table_CMD
(1)   22/    8017 : DD 19               		add	ix, de
(1)   23/    8019 : DD 5E 00            		ld	e, (ix+0)
(1)   24/    801C : DD 56 01            		ld	d, (ix+1)
(1)   25/    801F : D5                  		push 	de
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 187 - 8/12/2011 20:51:50


(1)   26/    8020 : DD E1               		pop 	ix
(1)   27/    8022 : CD 2B 80            		call	JumpCommand
(1)   28/    8025 :                     
(1)   29/    8025 :                     EndCommand:				; ...
(1)   30/    8025 : C1                  		pop	bc
(1)   31/    8026 : D1                  		pop	de
(1)   32/    8027 : E1                  		pop	hl
(1)   33/    8028 : DD E1               		pop	ix		
(1)   34/    802A : C9                  		ret	
(1)   35/    802B :                     ;****************************************************************************
(1)   36/    802B :                     
(1)   37/    802B :                     JumpCommand:				; ...
(1)   38/    802B : DD E9               		jp	(ix)
(1)   39/    802D :                     ;****************************************************************************
(1)   40/    802D : 47 80               Table_CMD:	dw CMD_inivar		; ...
(1)   41/    802F : 47 80               		dw CMD_inivar
(1)   42/    8031 : 4A 80               		dw CMD_putSFX
(1)   43/    8033 : C2 80               		dw CMD_inichips
(1)   44/    8035 : C9 80               		dw CMD_fadeout
(1)   45/    8037 : D7 80               		dw CMD_fadein
(1)   46/    8039 : EC 80               		dw CMD_chkmus
(1)   47/    803B : F5 80               		dw CMD_sfx
(1)   48/    803D : 26 81               		dw CMD_chksfx
(1)   49/    803F : 52 80               		dw CMD_musicon
(1)   50/    8041 : 04 81               		dw CMD_incmus
(1)   51/    8043 : 59 80               		dw CMD_musicoff
(1)   52/    8045 : 4E 80               		dw CMD_putMinc
(1)   53/    8047 :                     	
(1)   54/    8047 :                     ;****************************************************************************
(1)   55/    8047 :                     
(1)   56/    8047 :                     CMD_inivar:				; ...
(1)   57/    8047 : C3 6E 81            		jp	inivars
(1)   58/    804A :                     ;****************************************************************************
(1)   59/    804A :                     
(1)   60/    804A :                     CMD_putSFX:	
(1)   61/    804A : 22 1C 93            		ld (Table_SFX),hl
(1)   62/    804D : C9                  		ret	
(1)   63/    804E :                     
(1)   64/    804E :                     	
(1)   65/    804E :                     ;********************************************************************
(1)   66/    804E :                     CMD_putMinc:
(1)   67/    804E : 22 1E 93            		ld (TableMinc),hl
(1)   68/    8051 : C9                  		ret
(1)   69/    8052 :                     	
(1)   70/    8052 :                     			
(1)   71/    8052 :                     	
(1)   72/    8052 :                     ;****************************************************************************
(1)   73/    8052 :                     
(1)   74/    8052 :                     CMD_musicon:				; ...
(1)   75/    8052 : DB E6               		in	a, (0E6h)
(1)   76/    8054 : 32 6D 81            		ld	(Tlast_FM), a
(1)   77/    8057 : 18 08               		jr	PutSong
(1)   78/    8059 :                     ;****************************************************************************
(1)   79/    8059 :                     
(1)   80/    8059 :                     CMD_musicoff:				; ...
(1)   81/    8059 : DB E6               		in	a, (0E6h)
(1)   82/    805B : 32 6D 81            		ld	(Tlast_FM), a
(1)   83/    805E : 21 6A 80            		ld	hl,EmptySong		
(1)   84/    8061 :                     
(1)   85/    8061 :                     PutSong:				; ...
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 188 - 8/12/2011 20:51:50


(1)   86/    8061 : E5                  		push	hl		; Init all variables for playing a song
(1)   87/    8062 : CD 6E 81            		call	inivars
(1)   88/    8065 : E1                  		pop	hl
(1)   89/    8066 : CD 9D 81            		call	IniTblSng
(1)   90/    8069 : C9                  		ret
(1)   91/    806A :                     
(1)   92/    806A : 0C 00 09 00 A1 62   EmptySong:	db 0Ch, 0, 9, 0, 0A1h, 62h, 25h, 72h, 0     
                    25 72 00 
(1)   93/    8073 : 10 00 A1 62 25 72   		db 10h, 0, 0A1h, 62h, 25h, 72h, 0, 17h    
                    00 17 
(1)   94/    807B : 00 A1 62 25 72 00   		db 0, 0A1h, 62h, 25h, 72h, 0, 1Eh, 0, 0A1h  
                    1E 00 A1 
(1)   95/    8084 : 62 25 72 00 25 00   		db 62h, 25h, 72h, 0, 25h, 0, 0A1h, 62h	
                    A1 62 
(1)   96/    808C : 25 72 00 2C 00 A1   		db 25h, 72h, 0, 2Ch, 0, 0A1h, 62h, 25h     	
                    62 25 
(1)   97/    8094 : 72 00 33 00 A1 62   		db 72h, 0, 33h, 0, 0A1h, 62h, 25h, 72h	
                    25 72 
(1)   98/    809C : 00 3A 00 A1 62 25   		db 0, 3Ah, 0, 0A1h, 62h, 25h, 72h, 0, 41h   		
                    72 00 41 
(1)   99/    80A5 : 00 A1 62 25 72 00   		db 0, 0A1h, 62h, 25h, 72h, 0, 48h, 0, 0A1h
                    48 00 A1 
(1)  100/    80AE : 62 25 72 00 4F 00   		db 62h, 25h, 72h, 0, 4Fh, 0, 0A1h, 62h   
                    A1 62 
(1)  101/    80B6 : 25 72 00 56 00 A1   		db 25h, 72h, 0, 56h, 0, 0A1h, 62h, 25h
                    62 25 
(1)  102/    80BE : 72 00 00 00         		db 72h, 0, 0, 0
(1)  103/    80C2 :                     
(1)  104/    80C2 :                     	
(1)  105/    80C2 :                     	
(1)  106/    80C2 :                     	
(1)  107/    80C2 :                     	 
(1)  108/    80C2 :                     		
(1)  109/    80C2 :                     	
(1)  110/    80C2 :                     ;****************************************************************************
(1)  111/    80C2 :                     
(1)  112/    80C2 :                     CMD_inichips:				; ... 
(1)  113/    80C2 : CD 6E 81            		call	inivars
(1)  114/    80C5 : CD 4A 82            		call	inichips
(1)  115/    80C8 : C9                  		ret	
(1)  116/    80C9 :                     ;****************************************************************************
(1)  117/    80C9 :                     
(1)  118/    80C9 :                     	
(1)  119/    80C9 :                     CMD_fadeout:				; ...
(1)  120/    80C9 : 41                  		ld	b, c
(1)  121/    80CA : 3E 80               		ld	a, 80h
(1)  122/    80CC : B1                  		or	c
(1)  123/    80CD : 32 F9 8B            		ld	(FadeCtl), a
(1)  124/    80D0 : 78                  		ld	a, b
(1)  125/    80D1 : E6 80               		and	80h
(1)  126/    80D3 : 32 F2 8B            		ld	(FadeOutRest), a
(1)  127/    80D6 : C9                  		ret	
(1)  128/    80D7 :                     ;****************************************************************************
(1)  129/    80D7 :                     
(1)  130/    80D7 :                     CMD_fadein:				; ...
(1)  131/    80D7 : 3A F3 8B            		ld	a, (SilenceFlag)
(1)  132/    80DA : B7                  		or	a
(1)  133/    80DB : C8                  		ret	z
(1)  134/    80DC : 3E C0               		ld	a, 0C0h
(1)  135/    80DE : B1                  		or	c
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 189 - 8/12/2011 20:51:50


(1)  136/    80DF : 32 F9 8B            		ld	(FadeCtl), a
(1)  137/    80E2 : 3E 0F               		ld	a, 0Fh
(1)  138/    80E4 : 32 F8 8B            		ld	(FadeNumPass), a
(1)  139/    80E7 : AF                  		xor	a
(1)  140/    80E8 : 32 F3 8B            		ld	(SilenceFlag), a
(1)  141/    80EB : C9                  		ret	
(1)  142/    80EC :                     ;****************************************************************************
(1)  143/    80EC :                     
(1)  144/    80EC :                     CMD_chkmus:				; ...
(1)  145/    80EC : 3A F0 8B            		ld	a, (ChannelOFF)
(1)  146/    80EF : 47                  		ld	b, a
(1)  147/    80F0 : 3A F9 8B            		ld	a, (FadeCtl)
(1)  148/    80F3 : B0                  		or	b
(1)  149/    80F4 : C9                  		ret	
(1)  150/    80F5 :                     ;****************************************************************************
(1)  151/    80F5 :                     
(1)  152/    80F5 :                     CMD_sfx:				; ...
(1)  153/    80F5 : 2A 1C 93            		ld	hl, (Table_SFX)	; Definicion de	los SFX
(1)  154/    80F8 : 7C                  		ld	a,h
(1)  155/    80F9 : B5                  		or	l
(1)  156/    80FA : C8                  		ret	z	
(1)  157/    80FB : CD 13 81            		call	SearchSong
(1)  158/    80FE : D0                  		ret	nc
(1)  159/    80FF : CD CE 81            		call	PutSFX
(1)  160/    8102 : AF                  		xor	a
(1)  161/    8103 : C9                  		ret	
(1)  162/    8104 :                     ;****************************************************************************
(1)  163/    8104 :                     
(1)  164/    8104 :                     CMD_incmus:				; ...
(1)  165/    8104 : 2A 1E 93            		ld	hl, (TableMinc)
(1)  166/    8107 : 7C                  		ld	a,h
(1)  167/    8108 : B5                  		or	l
(1)  168/    8109 : C8                  		ret	z
(1)  169/    810A : CD 13 81            		call	SearchSong
(1)  170/    810D : D0                  		ret	nc
(1)  171/    810E : CD 07 82            		call	PutMusInc
(1)  172/    8111 : AF                  		xor	a
(1)  173/    8112 : C9                  		ret	
(1)  174/    8113 :                     ;****************************************************************************
(1)  175/    8113 :                     ;Search	for a song in a	song list
(1)  176/    8113 :                     ;hl -> Address of song list
(1)  177/    8113 :                     
(1)  178/    8113 :                     SearchSong:				; ...
(1)  179/    8113 : 54                  		ld	d, h		; Input: HL -> SFX Table base
(1)  180/    8114 : 5D                  		ld	e, l
(1)  181/    8115 : 79                  		ld	a, c
(1)  182/    8116 : 3D                  		dec	a
(1)  183/    8117 : BE                  		cp	(hl)
(1)  184/    8118 : 3E FF               		ld	a, 0FFh
(1)  185/    811A : D0                  		ret	nc
(1)  186/    811B : 06 00               		ld	b, 0
(1)  187/    811D : 09                  		add	hl, bc
(1)  188/    811E : 09                  		add	hl, bc
(1)  189/    811F : 4E                  		ld	c, (hl)
(1)  190/    8120 : 23                  		inc	hl
(1)  191/    8121 : 46                  		ld	b, (hl)
(1)  192/    8122 : EB                  		ex	de, hl
(1)  193/    8123 : 09                  		add	hl, bc
(1)  194/    8124 : 37                  		scf	
(1)  195/    8125 : C9                  		ret	
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 190 - 8/12/2011 20:51:50


(1)  196/    8126 :                     ;****************************************************************************
(1)  197/    8126 :                     
(1)  198/    8126 :                     CMD_chksfx:				; ...
(1)  199/    8126 : 3A F5 8B            		ld	a, (SFX_ON)
(1)  200/    8129 : B7                  		or	a
(1)  201/    812A : C9                  		ret	
(1)  202/    812B :                     ;****************************************************************************
(1)  203/    812B :                     
(1)  204/    812B :                     WritePSG:				; ...
(1)  205/    812B : F5                  		push	af
(1)  206/    812C :                     ;b -> PSG channel
(1)  207/    812C : 78                  		ld	a, b
(1)  208/    812D : D3 A0               		out	(0A0h),	a
(1)  209/    812F : F1                  		pop	af
(1)  210/    8130 : D3 A1               		out	(0A1h),	a
(1)  211/    8132 : C9                  		ret	
(1)  212/    8133 :                     ;****************************************************************************
(1)  213/    8133 :                     
(1)  214/    8133 :                     ReadPSG:				; ...
(1)  215/    8133 : 78                  		ld	a, b
(1)  216/    8134 : D3 A0               		out	(0A0h),	a
(1)  217/    8136 : DB A2               		in	a, (0A2h)
(1)  218/    8138 : C9                  		ret	
(1)  219/    8139 :                     ;****************************************************************************
(1)  220/    8139 :                     
(1)  221/    8139 :                     		 
(1)  222/    8139 : C5                  WriteFM:	push bc
(1)  223/    813A : 4F                  		ld c,a
(1)  224/    813B : 3A 74 82            		ld a,(Tmsx)
(1)  225/    813E : B7                  		or a
(1)  226/    813F : 28 08               		jr z,WriteFMt
(1)  227/    8141 : 78                  		ld a,b
(1)  228/    8142 : D3 7C               		out (7ch),a
(1)  229/    8144 : 79                  		ld a,c
(1)  230/    8145 : D3 7D               		out (7dh),a
(1)  231/    8147 : C1                  		pop bc		
(1)  232/    8148 : C9                  		ret		
(1)  233/    8149 :                     
(1)  234/    8149 :                     	
(1)  235/    8149 : 79                  WriteFMt:	ld a,c
(1)  236/    814A : F5                  		push	af
(1)  237/    814B : 3A 6D 81            		ld	a, (Tlast_FM)
(1)  238/    814E : 4F                  		ld	c, a
(1)  239/    814F :                     
(1)  240/    814F :                     WriteFM1:				; ...
(1)  241/    814F : DB E6               		in	a, (0E6h)
(1)  242/    8151 : 91                  		sub	c
(1)  243/    8152 : FE 06               		cp	6
(1)  244/    8154 : 38 F9               		jr	c, WriteFM1
(1)  245/    8156 : 78                  		ld	a, b
(1)  246/    8157 : D3 7C               		out	(7Ch), a
(1)  247/    8159 : DB E6               		in	a, (0E6h)
(1)  248/    815B : 4F                  		ld	c, a
(1)  249/    815C :                     
(1)  250/    815C :                     WriteFM2:				; ...
(1)  251/    815C : DB E6               		in	a, (0E6h)
(1)  252/    815E : 91                  		sub	c
(1)  253/    815F : FE 01               		cp	1
(1)  254/    8161 : 38 F9               		jr	c, WriteFM2
(1)  255/    8163 : DB E6               		in	a, (0E6h)
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 191 - 8/12/2011 20:51:50


(1)  256/    8165 : 32 6D 81            		ld	(Tlast_FM), a
(1)  257/    8168 : F1                  		pop	af
(1)  258/    8169 : D3 7D               		out	(7Dh), a
(1)  259/    816B : C1                  		pop	bc
(1)  260/    816C : C9                  		ret
(1)  261/    816D :                     	
(1)  262/    816D :                     ;****************************************************************************
(1)  263/    816D :                     ;Old routine?
(1)  264/    816D :                     	
(1)  265/    816D :                     ;;;		push	bc
(1)  266/    816D :                     ;;;		ld	b, a
(1)  267/    816D :                     ;;;		ld	a, (Tlast_FM)
(1)  268/    816D :                     ;;;		ld	c, a
(1)  269/    816D :                     
(1)  270/    816D :                     ;loc_0_8102:				;
(1)  271/    816D :                     ;;;		in	a, (0E6h)
(1)  272/    816D :                     ;;;		sub	c
(1)  273/    816D :                     ;;;		cp	b
(1)  274/    816D :                     ;;;		jr	c, loc_0_8102
(1)  275/    816D :                     ;;;		in	a, (0E6h)
(1)  276/    816D :                     ;;;		ld	(Tlast_FM), a
(1)  277/    816D :                     ;;;		pop	bc
(1)  278/    816D :                     ;;;		ret
(1)  279/    816D :                     ;****************************************************************************
(1)  280/    816D : 50                  Tlast_FM:	db 50h			; ...
(1)  281/    816E :                     					; Time of last FM access
(1)  282/    816E :                     ;****************************************************************************
(1)  283/    816E :                     
(1)  284/    816E :                     inivars:				; ...
(1)  285/    816E : 21 F0 8B            		ld	hl, ChannelOFF
(1)  286/    8171 : 11 F1 8B            		ld	de, TimeLastChn
(1)  287/    8174 : 01 98 02            		ld	bc, 298h
(1)  288/    8177 : 36 00               		ld	(hl), 0
(1)  289/    8179 : ED B0               		ldir	
(1)  290/    817B : 3E 4B               		ld	a, 4Bh ; 'K'
(1)  291/    817D : 32 87 8E            		ld	(NumDecInt), a
(1)  292/    8180 : 3E 20               		ld	a, 20h ; ' '
(1)  293/    8182 : 32 83 8E            		ld	(ShdFM_E), a
(1)  294/    8185 : 3E 09               		ld	a, 9
(1)  295/    8187 : 32 84 8E            		ld	(Rhythm_Mode), a
(1)  296/    818A : 3E 01               		ld	a, 1
(1)  297/    818C : 32 F0 8B            		ld	(ChannelOFF), a
(1)  298/    818F :                     
(1)  299/    818F :                     initPSG:				; ...
(1)  300/    818F : 06 07               		ld	b, 7
(1)  301/    8191 : CD 33 81            		call	ReadPSG
(1)  302/    8194 : F6 3F               		or	3Fh
(1)  303/    8196 : 32 FB 8B            		ld	(ShdPSG_7), a
(1)  304/    8199 : CD 2B 81            		call	WritePSG
(1)  305/    819C : C9                  		ret	
(1)  306/    819D :                     ;****************************************************************************
(1)  307/    819D :                     
(1)  308/    819D :                     IniTblSng:				; ...
(1)  309/    819D : DD 21 59 8C         		ld	ix, ChnTblSong
(1)  310/    81A1 : 7E                  		ld	a, (hl)
(1)  311/    81A2 : FE FE               		cp	0FEh		; Bload	header?
(1)  312/    81A4 : 20 04               		jr	nz, IniTblSng1
(1)  313/    81A6 : 11 07 00            		ld	de, 7
(1)  314/    81A9 : 19                  		add	hl, de
(1)  315/    81AA :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 192 - 8/12/2011 20:51:50


(1)  316/    81AA :                     IniTblSng1:				; ...
(1)  317/    81AA : 5D                  		ld	e, l
(1)  318/    81AB : 54                  		ld	d, h
(1)  319/    81AC : 23                  		inc	hl
(1)  320/    81AD : 23                  		inc	hl
(1)  321/    81AE :                     
(1)  322/    81AE :                     IniTblSng2:				; ...
(1)  323/    81AE : E5                  		push	hl
(1)  324/    81AF : DD 36 00 01         		ld	(ix+0),	1
(1)  325/    81B3 : 23                  		inc	hl
(1)  326/    81B4 : 23                  		inc	hl
(1)  327/    81B5 : DD 75 01            		ld	(ix+1),	l
(1)  328/    81B8 : DD 74 02            		ld	(ix+2),	h
(1)  329/    81BB : E1                  		pop	hl
(1)  330/    81BC : 01 2E 00            		ld	bc, 2Eh	
(1)  331/    81BF : DD 09               		add	ix, bc
(1)  332/    81C1 : 7E                  		ld	a, (hl)
(1)  333/    81C2 : 23                  		inc	hl
(1)  334/    81C3 : 66                  		ld	h, (hl)
(1)  335/    81C4 : 6F                  		ld	l, a
(1)  336/    81C5 : 19                  		add	hl, de
(1)  337/    81C6 : E5                  		push	hl
(1)  338/    81C7 : 7E                  		ld	a, (hl)
(1)  339/    81C8 : 23                  		inc	hl
(1)  340/    81C9 : B6                  		or	(hl)
(1)  341/    81CA : E1                  		pop	hl
(1)  342/    81CB : 20 E1               		jr	nz, IniTblSng2
(1)  343/    81CD : C9                  		ret	
(1)  344/    81CE :                     ;****************************************************************************
(1)  345/    81CE :                     
(1)  346/    81CE :                     PutSFX:					; ...
(1)  347/    81CE : E5                  		push	hl
(1)  348/    81CF : 21 FD 8B            		ld	hl, ChnSFXPSG1
(1)  349/    81D2 : 11 FE 8B            		ld	de, ChnSFXPSG1+1
(1)  350/    81D5 : 01 2D 00            		ld	bc, 45
(1)  351/    81D8 : 36 00               		ld	(hl), 0
(1)  352/    81DA : ED B0               		ldir	
(1)  353/    81DC : E1                  		pop	hl
(1)  354/    81DD : DD 21 FD 8B         		ld	ix, ChnSFXPSG1
(1)  355/    81E1 : 7E                  		ld	a, (hl)
(1)  356/    81E2 :                     
(1)  357/    81E2 :                     PutSFX1:				; ...
(1)  358/    81E2 : DD 36 00 01         		ld	(ix+0),	1
(1)  359/    81E6 : 23                  		inc	hl
(1)  360/    81E7 : DD 75 01            		ld	(ix+1),	l
(1)  361/    81EA : DD 74 02            		ld	(ix+2),	h
(1)  362/    81ED : 11 2E 00            		ld	de, 46
(1)  363/    81F0 : DD 19               		add	ix, de
(1)  364/    81F2 : CD 3A 8B            		call	ADD_HL
(1)  365/    81F5 : 7E                  		ld	a, (hl)
(1)  366/    81F6 : B7                  		or	a
(1)  367/    81F7 : 20 E9               		jr	nz, PutSFX1
(1)  368/    81F9 : 3A FB 8B            		ld	a, (ShdPSG_7)
(1)  369/    81FC : F6 36               		or	36h ; '6'
(1)  370/    81FE : 32 FB 8B            		ld	(ShdPSG_7), a
(1)  371/    8201 : 3E 03               		ld	a, 3
(1)  372/    8203 : 32 F5 8B            		ld	(SFX_ON), a
(1)  373/    8206 : C9                  		ret	
(1)  374/    8207 :                     ;****************************************************************************
(1)  375/    8207 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 193 - 8/12/2011 20:51:50


(1)  376/    8207 :                     PutMusInc:				; ...
(1)  377/    8207 : E5                  		push	hl
(1)  378/    8208 : 3A F4 8B            		ld	a, (SONG_ON)
(1)  379/    820B : B7                  		or	a
(1)  380/    820C : 20 0B               		jr	nz, PutMusInc1
(1)  381/    820E : 21 FA 8B            		ld	hl, ChannelAct
(1)  382/    8211 : 11 89 8E            		ld	de, ShadowVars
(1)  383/    8214 : 01 8F 02            		ld	bc, 28Fh
(1)  384/    8217 : ED B0               		ldir	
(1)  385/    8219 :                     
(1)  386/    8219 :                     PutMusInc1:				; ...
(1)  387/    8219 : CD 6E 81            		call	inivars
(1)  388/    821C : 3E 01               		ld	a, 1
(1)  389/    821E : 32 F4 8B            		ld	(SONG_ON), a
(1)  390/    8221 : E1                  		pop	hl
(1)  391/    8222 : CD 9D 81            		call	IniTblSng
(1)  392/    8225 : C9                  		ret	
(1)  393/    8226 :                     ;****************************************************************************
(1)  394/    8226 :                     
(1)  395/    8226 :                     QuitSong:				; ...
(1)  396/    8226 : 21 89 8E            		ld	hl, ShadowVars
(1)  397/    8229 : 11 FA 8B            		ld	de, ChannelAct
(1)  398/    822C : 01 8F 02            		ld	bc, 28Fh
(1)  399/    822F : ED B0               		ldir	
(1)  400/    8231 : AF                  		xor	a
(1)  401/    8232 : 32 F4 8B            		ld	(SONG_ON), a
(1)  402/    8235 : 3A FC 8B            		ld	a, (FM_InstSoft)
(1)  403/    8238 : CD F2 85            		call	WriteFMInst
(1)  404/    823B : AF                  		xor	a
(1)  405/    823C : 06 08               		ld	b, 8
(1)  406/    823E : CD 2B 81            		call	WritePSG
(1)  407/    8241 : 04                  		inc	b
(1)  408/    8242 : CD 2B 81            		call	WritePSG
(1)  409/    8245 : 04                  		inc	b
(1)  410/    8246 : CD 2B 81            		call	WritePSG
(1)  411/    8249 : C9                  		ret	
(1)  412/    824A :                     ;****************************************************************************
(1)  413/    824A :                     
(1)  414/    824A :                     inichips:		
(1)  415/    824A :                     
(1)  416/    824A : CD 75 82            		call    MCSearchFM
(1)  417/    824D : CD 60 82            		call    MCTestTR
(1)  418/    8250 :                     		
(1)  419/    8250 : 0E 09               		ld	c, 9
(1)  420/    8252 : 06 30               		ld	b, 30h
(1)  421/    8254 :                     
(1)  422/    8254 :                     inichip1:				; ...
(1)  423/    8254 : 3E 0F               		ld	a, 0Fh
(1)  424/    8256 : CD 39 81            		call	WriteFM
(1)  425/    8259 : 04                  		inc	b
(1)  426/    825A : 0D                  		dec	c
(1)  427/    825B : 20 F7               		jr	nz, inichip1
(1)  428/    825D : C3 8F 81            		jp	initPSG
(1)  429/    8260 :                     
(1)  430/    8260 :                     ;***************************************************************************
(1)  431/    8260 :                     
(1)  432/    8260 :                     	
(1)  433/    8260 : 3A C1 FC            MCTestTR:	ld a,(0fcc1h)
(1)  434/    8263 : 21 2D 00            		ld hl,2dh
(1)  435/    8266 : CD 0C 00            		call 0ch
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 194 - 8/12/2011 20:51:50


(1)  436/    8269 : FE 03               		cp 3
(1)  437/    826B : 3E 01               		ld a,1
(1)  438/    826D : 20 01               		jr nz,MCTestTR1
(1)  439/    826F : AF                  		xor a
(1)  440/    8270 :                     		
(1)  441/    8270 :                     
(1)  442/    8270 : 32 74 82            MCTestTR1:	ld (Tmsx),a
(1)  443/    8273 : C9                  		ret        				
(1)  444/    8274 :                     	
(1)  445/    8274 :                     
(1)  446/    8274 : 00                  Tmsx:		db 0	
(1)  447/    8275 :                     	
(1)  448/    8275 :                     
(1)  449/    8275 :                     ;;; ****************************************************************
(1)  450/    8275 :                     ; Search and init FM
(1)  451/    8275 :                     
(1)  452/    8275 :                     
(1)  453/    8275 :                     
(1)  454/    8275 :                     	
(1)  455/    8275 : DB A8               MCSearchFM:	in a,(0a8h)
(1)  456/    8277 : F5                  		push af
(1)  457/    8278 : 3A FF FF            		ld a,(0ffffh)
(1)  458/    827B : 2F                  		cpl
(1)  459/    827C : F5                  		push af
(1)  460/    827D :                     			
(1)  461/    827D : 21 00 00            		ld hl,0
(1)  462/    8280 : 39                  		add hl,sp			
(1)  463/    8281 : 2B                  		dec hl
(1)  464/    8282 : 11 8A 00            		ld de,(MCEND-MCfindfm1)+20
(1)  465/    8285 : B7                  		or a
(1)  466/    8286 : ED 52               		sbc hl,de
(1)  467/    8288 : E5                  		push hl
(1)  468/    8289 :                     		
(1)  469/    8289 : 11 94 82            		ld de,MCfindfm1
(1)  470/    828C : EB                  		ex de,hl
(1)  471/    828D : 01 76 00            		ld bc,MCEND-MCfindfm1
(1)  472/    8290 : ED B0               		ldir
(1)  473/    8292 : E1                  		pop hl
(1)  474/    8293 : E9                  		jp (hl)
(1)  475/    8294 :                     			
(1)  476/    8294 :                     	
(1)  477/    8294 : 21 CA FC            MCfindfm1	ld	hl,0FCCAh
(1)  478/    8297 : AF                  		xor	a
(1)  479/    8298 : 06 04               		ld	b,4
(1)  480/    829A : C5                  MCFMLP2:	push	bc
(1)  481/    829B : 06 04               		ld	b,4
(1)  482/    829D : C5                  MCFMLP1:	push	bc
(1)  483/    829E : F5                  		push	af
(1)  484/    829F : E5                  		push	hl
(1)  485/    82A0 : CB FF               		set	7,a		
(1)  486/    82A2 : 26 40               		ld	h,040h
(1)  487/    82A4 : CD 24 00            		call	024h
(1)  488/    82A7 : E1                  		pop	hl
(1)  489/    82A8 : E5                  		push	hl
(1)  490/    82A9 : 7E                  		ld	a,(hl)
(1)  491/    82AA : FE 20               		cp	020h
(1)  492/    82AC : 28 20               		jr	z,MCFMTest
(1)  493/    82AE : 28 31               MCFMt		jr	z,MCFMFnd
(1)  494/    82B0 : E1                  		pop	hl
(1)  495/    82B1 : F1                  		pop	af
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 195 - 8/12/2011 20:51:50


(1)  496/    82B2 : C6 04               		add	a,4
(1)  497/    82B4 : E6 0F               		and	0Fh
(1)  498/    82B6 : 23                  		inc	hl
(1)  499/    82B7 : 23                  		inc	hl
(1)  500/    82B8 : 23                  		inc	hl
(1)  501/    82B9 : 23                  		inc	hl
(1)  502/    82BA : C1                  		pop	bc
(1)  503/    82BB : 10 E0               		djnz	MCFMLP1
(1)  504/    82BD : C6 01               		add	a,1
(1)  505/    82BF : E6 03               		and	03h
(1)  506/    82C1 : C1                  		pop	bc
(1)  507/    82C2 : 10 D6               		djnz	MCFMLP2
(1)  508/    82C4 :                     			
(1)  509/    82C4 :                     
(1)  510/    82C4 : F1                  MCRecover:	pop af
(1)  511/    82C5 : 47                  		ld b,a
(1)  512/    82C6 : F1                  		pop af
(1)  513/    82C7 : D3 A8               		out (0a8h),a
(1)  514/    82C9 : 78                  		ld a,b
(1)  515/    82CA : 32 FF FF            		ld (0ffffh),a
(1)  516/    82CD : C9                  		ret
(1)  517/    82CE :                     				
(1)  518/    82CE :                     	
(1)  519/    82CE : 21 1C 40            MCFMTest:	ld	hl,0401Ch
(1)  520/    82D1 : 11 02 83            		ld	de,MCFMText ; Esto por supesto debria cambiarlo
(1)  521/    82D4 : 06 04               		ld	b,4
(1)  522/    82D6 : 1A                  MCFMLP:		ld	a,(de)
(1)  523/    82D7 : BE                  		cp	(hl)
(1)  524/    82D8 : 20 D4               		jr	nz,MCFMt
(1)  525/    82DA : 23                  		inc	hl
(1)  526/    82DB : 13                  		inc	de
(1)  527/    82DC : 10 F8               		djnz	MCFMLP
(1)  528/    82DE : BF                  		cp	a
(1)  529/    82DF : 18 CD               		jr MCFMt
(1)  530/    82E1 :                     	
(1)  531/    82E1 : E1                  MCFMFnd:	pop	hl
(1)  532/    82E2 : F1                  		pop	af
(1)  533/    82E3 : C1                  		pop	bc
(1)  534/    82E4 : C1                  		pop	bc
(1)  535/    82E5 :                     	
(1)  536/    82E5 : 21 18 40            MCFM_Check:	ld	hl,04018h
(1)  537/    82E8 : 11 06 83            		ld	de,MCFM_Japones	; al igual que esto
(1)  538/    82EB : 06 04               		ld	b,4
(1)  539/    82ED : 1A                  MCJapo:		ld	a,(de)
(1)  540/    82EE : BE                  		cp	(hl)
(1)  541/    82EF : 20 06               		jr	nz,MCEs_Japones
(1)  542/    82F1 : 23                  		inc	hl
(1)  543/    82F2 : 13                  		inc	de
(1)  544/    82F3 : 10 F8               		djnz	MCJapo	
(1)  545/    82F5 : 18 CD               		jr	MCRecover
(1)  546/    82F7 :                     MCEs_Japones:		
(1)  547/    82F7 : 3A F6 7F            		ld	a,(07FF6h)
(1)  548/    82FA : F6 01               		or	1
(1)  549/    82FC : 32 F6 7F            		ld	(07FF6h),a
(1)  550/    82FF : FB                  		ei
(1)  551/    8300 : 18 C2               		jr	MCRecover
(1)  552/    8302 :                     				
(1)  553/    8302 : 4F 50 4C 4C         MCFMText:	db	"OPLL"
(1)  554/    8306 : 41 50 52 4C         MCFM_Japones:	db	"APRL"
(1)  555/    830A : 00                  MCEND:		db	0	
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 196 - 8/12/2011 20:51:50


(1)  556/    830B :                     	
(1)  557/    830B :                     				
(1)  558/    830B :                     
(1)  559/    830B :                     	
(1)  560/    830B :                     			
(1)  561/    830B :                     		
(1)  562/    830B :                     ;****************************************************************************
(1)  563/    830B :                     ;Funcion execute on each interrupt
(1)  564/    830B :                     
(1)  565/    830B :                     IntFunct:	
(1)  566/    830B : 21 F7 8B            		ld	hl, FadeContAct
(1)  567/    830E : 3A F9 8B            		ld	a, (FadeCtl)
(1)  568/    8311 : CB 77               		bit	6, a
(1)  569/    8313 : CA 2E 83            		jp	z, FadeOutR	; Fade in?
(1)  570/    8316 : E6 3F               		and	3Fh
(1)  571/    8318 : BE                  		cp	(hl)
(1)  572/    8319 : CA 20 83            		jp	z, FadeInP	; do it	reach cont of ints of fade?
(1)  573/    831C : 34                  		inc	(hl)
(1)  574/    831D : C3 65 83            		jp	BeginDeco
(1)  575/    8320 :                     ;****************************************************************************
(1)  576/    8320 :                     
(1)  577/    8320 :                     FadeInP:	
(1)  578/    8320 : AF                  		xor	a		; It is	necesary does a	fade out pass
(1)  579/    8321 : 77                  		ld	(hl), a
(1)  580/    8322 : 23                  		inc	hl
(1)  581/    8323 : 35                  		dec	(hl)
(1)  582/    8324 : C2 65 83            		jp	nz, BeginDeco	; Is it	fade finish?
(1)  583/    8327 : AF                  		xor	a
(1)  584/    8328 : 32 F9 8B            		ld	(FadeCtl), a
(1)  585/    832B : C3 65 83            		jp	BeginDeco
(1)  586/    832E :                     ;****************************************************************************
(1)  587/    832E :                     ;This code is which deal with fade out command
(1)  588/    832E :                     
(1)  589/    832E :                     FadeOutR:	
(1)  590/    832E : FE 80               		cp	80h
(1)  591/    8330 : DA 65 83            		jp	c, BeginDeco	; is fade out command active?
(1)  592/    8333 : E6 3F               		and	3Fh
(1)  593/    8335 : BE                  		cp	(hl)		; Is necesary decrement	volumen?
(1)  594/    8336 : CA 3D 83            		jp	z, FadeOutAct
(1)  595/    8339 : 34                  		inc	(hl)		; Not yet
(1)  596/    833A : C3 65 83            		jp	BeginDeco
(1)  597/    833D :                     ;****************************************************************************
(1)  598/    833D :                     ;This code decrement volumen for fade out and actualize	all variables implicates on fade out
(1)  599/    833D :                     
(1)  600/    833D :                     FadeOutAct:	
(1)  601/    833D : AF                  		xor	a
(1)  602/    833E : 77                  		ld	(hl), a
(1)  603/    833F : 23                  		inc	hl
(1)  604/    8340 : 34                  		inc	(hl)
(1)  605/    8341 : 7E                  		ld	a, (hl)
(1)  606/    8342 : FE 10               		cp	10h
(1)  607/    8344 : DA 65 83            		jp	c, BeginDeco	; did it finished fade out?
(1)  608/    8347 : 3A F2 8B            		ld	a, (FadeOutRest); Is active option of decodification on	silence?
(1)  609/    834A : B7                  		or	a
(1)  610/    834B : CA 5B 83            		jp	z, FadeORest
(1)  611/    834E : 32 F3 8B            		ld	(SilenceFlag), a; yes, it is
(1)  612/    8351 : AF                  		xor	a
(1)  613/    8352 : 32 F9 8B            		ld	(FadeCtl), a
(1)  614/    8355 : CD 4A 82            		call	inichips
(1)  615/    8358 : C3 65 83            		jp	BeginDeco
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 197 - 8/12/2011 20:51:50


(1)  616/    835B :                     ;****************************************************************************
(1)  617/    835B :                     ;This code clean song at all
(1)  618/    835B :                     
(1)  619/    835B :                     FadeORest:	
(1)  620/    835B : AF                  		xor	a
(1)  621/    835C : 32 F0 8B            		ld	(ChannelOFF), a
(1)  622/    835F : CD 6E 81            		call	inivars
(1)  623/    8362 : CD 4A 82            		call	inichips
(1)  624/    8365 :                       
(1)  625/    8365 :                     BeginDeco:
(1)  626/    8365 : 3E 80               		ld	a, 80h
(1)  627/    8367 : 32 F1 8B            		ld	(TimeLastChn), a
(1)  628/    836A : 3A F5 8B            		ld	a, (SFX_ON)
(1)  629/    836D : 32 F6 8B            		ld	(MaskSFX), a
(1)  630/    8370 : 3A 88 8E            		ld	a, (NumDecLeft)
(1)  631/    8373 : 47                  		ld	b, a
(1)  632/    8374 : 3A 87 8E            		ld	a, (NumDecInt)
(1)  633/    8377 : 80                  		add	a, b
(1)  634/    8378 :                     
(1)  635/    8378 :                     DecoLoop:				; ...
(1)  636/    8378 : FE 4B               		cp	4Bh
(1)  637/    837A : DA C7 83            		jp	c, EndLoopInt
(1)  638/    837D : D6 4B               		sub	4Bh
(1)  639/    837F : F5                  		push	af
(1)  640/    8380 : DD 21 2B 8C         		ld	ix, ChnTblSong-46
(1)  641/    8384 : AF                  		xor	a
(1)  642/    8385 : 32 F1 8B            		ld	(TimeLastChn), a
(1)  643/    8388 : 3E 80               		ld	a, 80h
(1)  644/    838A : CD FE 83            		call	DecoChannel
(1)  645/    838D : 3E 81               		ld	a, 81h
(1)  646/    838F : CD FE 83            		call	DecoChannel
(1)  647/    8392 : 3E 82               		ld	a, 82h
(1)  648/    8394 : CD FE 83            		call	DecoChannel
(1)  649/    8397 : AF                  		xor	a
(1)  650/    8398 : CD FE 83            		call	DecoChannel
(1)  651/    839B : 3E 01               		ld	a, 1
(1)  652/    839D : CD FE 83            		call	DecoChannel
(1)  653/    83A0 : 3E 02               		ld	a, 2
(1)  654/    83A2 : CD FE 83            		call	DecoChannel
(1)  655/    83A5 : 3E 03               		ld	a, 3
(1)  656/    83A7 : CD FE 83            		call	DecoChannel
(1)  657/    83AA : 3E 04               		ld	a, 4
(1)  658/    83AC : CD FE 83            		call	DecoChannel
(1)  659/    83AF : 3E 05               		ld	a, 5
(1)  660/    83B1 : CD FE 83            		call	DecoChannel
(1)  661/    83B4 : 3E 06               		ld	a, 6
(1)  662/    83B6 : CD FE 83            		call	DecoChannel
(1)  663/    83B9 : 3E 07               		ld	a, 7
(1)  664/    83BB : CD FE 83            		call	DecoChannel
(1)  665/    83BE : 3E 08               		ld	a, 8
(1)  666/    83C0 : CD FE 83            		call	DecoChannel 
(1)  667/    83C3 : F1                  		pop	af 
(1)  668/    83C4 : C3 78 83            		jp	DecoLoop
(1)  669/    83C7 :                     ;****************************************************************************
(1)  670/    83C7 :                     
(1)  671/    83C7 :                     EndLoopInt:				; ...
(1)  672/    83C7 : 32 88 8E            		ld	(NumDecLeft), a
(1)  673/    83CA : 3A F5 8B            		ld	a, (SFX_ON)
(1)  674/    83CD : B7                  		or	a
(1)  675/    83CE : 20 10               		jr	nz, DecoSFX
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 198 - 8/12/2011 20:51:50


(1)  676/    83D0 : 3A F1 8B            		ld	a, (TimeLastChn)
(1)  677/    83D3 : B7                  		or	a
(1)  678/    83D4 : C0                  		ret	nz
(1)  679/    83D5 : 3A F4 8B            		ld	a, (SONG_ON)
(1)  680/    83D8 : B7                  		or	a
(1)  681/    83D9 : C2 26 82            		jp	nz, QuitSong
(1)  682/    83DC : 32 F0 8B            		ld	(ChannelOFF), a
(1)  683/    83DF : C9                  		ret	
(1)  684/    83E0 :                     ;****************************************************************************
(1)  685/    83E0 :                     
(1)  686/    83E0 :                     DecoSFX:				; ...
(1)  687/    83E0 : DD 21 CF 8B         		ld	ix, ChnSFXPSG1-46
(1)  688/    83E4 : AF                  		xor	a
(1)  689/    83E5 : 32 F1 8B            		ld	(TimeLastChn), a
(1)  690/    83E8 : 32 F6 8B            		ld	(MaskSFX), a
(1)  691/    83EB : 3E 82               		ld	a, 82h
(1)  692/    83ED : CD FE 83            		call	DecoChannel
(1)  693/    83F0 : 3E 81               		ld	a, 81h
(1)  694/    83F2 : CD FE 83            		call	DecoChannel
(1)  695/    83F5 : 3A F1 8B            		ld	a, (TimeLastChn)
(1)  696/    83F8 : B7                  		or	a
(1)  697/    83F9 : C0                  		ret	nz
(1)  698/    83FA : 32 F5 8B            		ld	(SFX_ON), a
(1)  699/    83FD : C9                  		ret	
(1)  700/    83FE :                     ;****************************************************************************
(1)  701/    83FE :                     ;Function which	decode a channel
(1)  702/    83FE :                     
(1)  703/    83FE :                     DecoChannel:				; ...
(1)  704/    83FE : 11 2E 00            		ld	de, 46
(1)  705/    8401 : DD 19               		add	ix, de
(1)  706/    8403 : 32 FA 8B            		ld	(ChannelAct), a
(1)  707/    8406 : E6 80               		and	80h
(1)  708/    8408 : 47                  		ld	b, a
(1)  709/    8409 : 3A FA 8B            		ld	a, (ChannelAct)
(1)  710/    840C : FE 06               		cp	6
(1)  711/    840E : 38 07               		jr	c, DecoChnMel
(1)  712/    8410 : 3A 83 8E            		ld	a, (ShdFM_E)	; Channell can be a FM Rhythm channel
(1)  713/    8413 : E6 20               		and	20h		; Save FM Rhythm status
(1)  714/    8415 : B0                  		or	b
(1)  715/    8416 : 47                  		ld	b, a
(1)  716/    8417 :                     
(1)  717/    8417 :                     DecoChnMel:				; ...
(1)  718/    8417 : DD 7E 0C            		ld	a, (ix+0Ch)
(1)  719/    841A : E6 0F               		and	0Fh
(1)  720/    841C : B0                  		or	b
(1)  721/    841D : DD 77 0C            		ld	(ix+0Ch), a
(1)  722/    8420 : DD 7E 00            		ld	a, (ix+0)
(1)  723/    8423 : B7                  		or	a
(1)  724/    8424 : CA AD 88            		jp	z, ChangeModeChn; if time decoding is 0	it means that channell is inactive thus	it is only necessary actualize channel mode
(1)  725/    8427 :                     
(1)  726/    8427 : 3E 01               		ld	a, 1		; Time of Channel is not finished
(1)  727/    8429 : 32 F1 8B            		ld	(TimeLastChn), a
(1)  728/    842C : CD 1D 8A            		call	PlayEffect	; Make actions for efecct command
(1)  729/    842F : DD 35 00            		dec	(ix+0)		; Decrement channel count
(1)  730/    8432 : DD CB 0B 7E         		bit	7, (ix+0Bh)	; is channel executing a rest?
(1)  731/    8436 : 20 14               		jr	nz, DecoChnADSR
(1)  732/    8438 :                     
(1)  733/    8438 : DD 7E 0A            		ld	a, (ix+0Ah)	; If timbre time is defined
(1)  734/    843B : DD BE 00            		cp	(ix+0)
(1)  735/    843E : 20 0C               		jr	nz, DecoChnADSR
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 199 - 8/12/2011 20:51:50


(1)  736/    8440 :                     
(1)  737/    8440 : B7                  		or	a		; If time is diferent of 0 mean	that is	reached	maximun	time of	active note
(1)  738/    8441 : 20 06               		jr	nz, DecoChnTimeOff; and	is necessary put off channel sound
(1)  739/    8443 :                     
(1)  740/    8443 : 3A FA 8B            		ld	a, (ChannelAct)
(1)  741/    8446 : 87                  		add	a, a
(1)  742/    8447 : 38 03               		jr	c, DecoChnADSR	; on FM	channels is necessary desactive	note on	final count
(1)  743/    8449 :                     
(1)  744/    8449 :                     DecoChnTimeOff:				; ...
(1)  745/    8449 : CD AD 88            		call	ChangeModeChn	; It is	necesary put on	silence	this channel
(1)  746/    844C :                     
(1)  747/    844C :                     DecoChnADSR:				; ...
(1)  748/    844C : DD 7E 00            		ld	a, (ix+0)	; Actions necesary after deal adsr duration
(1)  749/    844F : B7                  		or	a
(1)  750/    8450 : 28 5E               		jr	z, DecoNext
(1)  751/    8452 :                     
(1)  752/    8452 : DD 7E 0D            		ld	a, (ix+0Dh)	; Is there a adsr definition?
(1)  753/    8455 : B7                  		or	a
(1)  754/    8456 : 28 29               		jr	z, WriteAdsrVol
(1)  755/    8458 :                     
(1)  756/    8458 : DD 35 0D            		dec	(ix+0Dh)	; and is it necessary change volumen of	channel	for adsr definition?
(1)  757/    845B : 20 24               		jr	nz, WriteAdsrVol
(1)  758/    845D :                     
(1)  759/    845D : DD 7E 10            		ld	a, (ix+10h)	; Change Volumen value
(1)  760/    8460 : DD 86 09            		add	a, (ix+9)
(1)  761/    8463 : 30 07               		jr	nc, adsrDef
(1)  762/    8465 :                     
(1)  763/    8465 : DD BE 0F            		cp	(ix+0Fh)	; is sustain level reach?
(1)  764/    8468 : 38 17               		jr	c, WriteAdsrVol
(1)  765/    846A :                     
(1)  766/    846A : 18 07               		jr	adsrSustain
(1)  767/    846C :                     ;****************************************************************************
(1)  768/    846C :                     
(1)  769/    846C :                     adsrDef:				; ...
(1)  770/    846C : DD BE 0F            		cp	(ix+0Fh)	; Does adsr rect reach its sustain level?
(1)  771/    846F : 28 02               		jr	z, adsrSustain
(1)  772/    8471 : 30 0E               		jr	nc, WriteAdsrVol
(1)  773/    8473 :                     
(1)  774/    8473 :                     adsrSustain:				; ...
(1)  775/    8473 : DD 77 09            		ld	(ix+9),	a
(1)  776/    8476 : CD 89 87            		call	WriteVol
(1)  777/    8479 : DD 7E 0E            		ld	a, (ix+0Eh)
(1)  778/    847C : DD 77 0D            		ld	(ix+0Dh), a
(1)  779/    847F : 18 0B               		jr	DecoChnVib
(1)  780/    8481 :                     ;****************************************************************************
(1)  781/    8481 :                     
(1)  782/    8481 :                     WriteAdsrVol:				; ...
(1)  783/    8481 : 3A F9 8B            		ld	a, (FadeCtl)
(1)  784/    8484 : CB 7F               		bit	7, a
(1)  785/    8486 : DD 7E 09            		ld	a, (ix+9)
(1)  786/    8489 : C4 89 87            		call	nz, WriteVol	; Write	new volumen if fade is inactive
(1)  787/    848C :                     
(1)  788/    848C :                     DecoChnVib:				; ...
(1)  789/    848C : DD 7E 12            		ld	a, (ix+12h)	; Is vib command define?
(1)  790/    848F : B7                  		or	a
(1)  791/    8490 : C8                  		ret	z
(1)  792/    8491 :                     
(1)  793/    8491 : DD 35 12            		dec	(ix+12h)
(1)  794/    8494 : C0                  		ret	nz
(1)  795/    8495 : DD 7E 13            		ld	a, (ix+13h)	; If time of vib is finished
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 200 - 8/12/2011 20:51:50


(1)  796/    8498 : DD 77 12            		ld	(ix+12h), a
(1)  797/    849B : DD 7E 05            		ld	a, (ix+5)	; add lsb frecuency adder
(1)  798/    849E : DD 86 14            		add	a, (ix+14h)
(1)  799/    84A1 : DD 77 05            		ld	(ix+5),	a
(1)  800/    84A4 : DD 7E 06            		ld	a, (ix+6)
(1)  801/    84A7 : DD 8E 15            		adc	a, (ix+15h)	; and MSB frecuency adder
(1)  802/    84AA : DD 77 06            		ld	(ix+6),	a
(1)  803/    84AD : C3 23 89            		jp	WriteFrec
(1)  804/    84B0 :                     ;****************************************************************************
(1)  805/    84B0 :                     
(1)  806/    84B0 :                     DecoNext:				; ...
(1)  807/    84B0 : AF                  		xor	a
(1)  808/    84B1 : DD 77 12            		ld	(ix+12h), a
(1)  809/    84B4 : DD 7E 0E            		ld	a, (ix+0Eh)
(1)  810/    84B7 : B7                  		or	a
(1)  811/    84B8 : 28 09               		jr	z, DecopOP1
(1)  812/    84BA : DD 77 0D            		ld	(ix+0Dh), a
(1)  813/    84BD : DD 7E 11            		ld	a, (ix+11h)
(1)  814/    84C0 : DD 77 09            		ld	(ix+9),	a
(1)  815/    84C3 :                     
(1)  816/    84C3 :                     DecopOP1:				; ...
(1)  817/    84C3 : DD 6E 01            		ld	l, (ix+1)
(1)  818/    84C6 : DD 66 02            		ld	h, (ix+2)
(1)  819/    84C9 : 7E                  		ld	a, (hl)
(1)  820/    84CA : B7                  		or	a
(1)  821/    84CB : CA AD 88            		jp	z, ChangeModeChn
(1)  822/    84CE : 23                  		inc	hl
(1)  823/    84CF : DD 75 01            		ld	(ix+1),	l
(1)  824/    84D2 : DD 74 02            		ld	(ix+2),	h
(1)  825/    84D5 : 3D                  		dec	a
(1)  826/    84D6 : 21 EC 84            		ld	hl, Table_OP
(1)  827/    84D9 :                     
(1)  828/    84D9 :                     DecoOP2:				; ...
(1)  829/    84D9 : BE                  		cp	(hl)
(1)  830/    84DA : 38 06               		jr	c, DecoOP3
(1)  831/    84DC : 96                  		sub	(hl)
(1)  832/    84DD : 23                  		inc	hl
(1)  833/    84DE : 23                  		inc	hl
(1)  834/    84DF : 23                  		inc	hl
(1)  835/    84E0 : 18 F7               		jr	DecoOP2
(1)  836/    84E2 :                     ;****************************************************************************
(1)  837/    84E2 :                     
(1)  838/    84E2 :                     DecoOP3:				; ...
(1)  839/    84E2 : 23                  		inc	hl		; Opcode decodify
(1)  840/    84E3 : 5E                  		ld	e, (hl)
(1)  841/    84E4 : 23                  		inc	hl		; de ->	Address	of opcode routine
(1)  842/    84E5 : 56                  		ld	d, (hl)		; a -> parameter of routine
(1)  843/    84E6 : 21 C3 84            		ld	hl, DecopOP1	; put return address
(1)  844/    84E9 : E5                  		push	hl
(1)  845/    84EA : D5                  		push	de
(1)  846/    84EB : C9                  		ret	
(1)  847/    84EC :                     ;****************************************************************************
(1)  848/    84EC : 24                  Table_OP:	db 24h			; ...
(1)  849/    84ED : 28 85               		dw OP_play
(1)  850/    84EF : 01                  		db 1
(1)  851/    84F0 : 84 85               		dw OP_rest
(1)  852/    84F2 : 02                  		db 2
(1)  853/    84F3 : 9E 85               		dw OP_moct
(1)  854/    84F5 : 08                  		db 8
(1)  855/    84F6 : A7 85               		dw OP_oct
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 201 - 8/12/2011 20:51:50


(1)  856/    84F8 : 02                  		db 2
(1)  857/    84F9 : AB 85               		dw OP_mvol
(1)  858/    84FB : 10                  		db 10h
(1)  859/    84FC : B4 85               		dw OP_vol
(1)  860/    84FE : 20                  		db 20h
(1)  861/    84FF : D0 85               		dw OP_FMinst
(1)  862/    8501 : 10                  		db 10h
(1)  863/    8502 : 0D 86               		dw OP_loop
(1)  864/    8504 : 01                  		db 1
(1)  865/    8505 : 2B 86               		dw OP_endl
(1)  866/    8507 : 10                  		db 10h
(1)  867/    8508 : 56 86               		dw OP_adsr
(1)  868/    850A : 10                  		db 10h
(1)  869/    850B : 77 86               		dw OP_vib
(1)  870/    850D : 04                  		db 4
(1)  871/    850E : 92 86               		dw OP_XXX
(1)  872/    8510 : 5B                  		db 5Bh
(1)  873/    8511 : 9D 86               		dw OP_time
(1)  874/    8513 : 08                  		db 8
(1)  875/    8514 : A2 86               		dw OP_divsus
(1)  876/    8516 : 01                  		db 1
(1)  877/    8517 : 9A 86               		dw OP_timel
(1)  878/    8519 : 01                  		db 1
(1)  879/    851A : 0A 86               		dw OP_loopl
(1)  880/    851C : 01                  		db 1
(1)  881/    851D : CD 85               		dw OP_FMinstl
(1)  882/    851F : 01                  		db 1
(1)  883/    8520 : C9 86               		dw OP_WriteFM
(1)  884/    8522 : 01                  		db 1
(1)  885/    8523 : D3 86               		dw OP_effect
(1)  886/    8525 : 01                  		db 1
(1)  887/    8526 : F2 86               		dw OP_par
(1)  888/    8528 :                     ;****************************************************************************
(1)  889/    8528 :                     
(1)  890/    8528 :                     OP_play:				; ...
(1)  891/    8528 : DD 4E 04            		ld	c, (ix+4)
(1)  892/    852B : DD 77 04            		ld	(ix+4),	a
(1)  893/    852E : 21 58 8B            		ld	hl, table_note
(1)  894/    8531 : CD 32 8B            		call	ADD_HL_A4
(1)  895/    8534 : 3A FA 8B            		ld	a, (ChannelAct)
(1)  896/    8537 : FE 80               		cp	80h
(1)  897/    8539 : 38 1A               		jr	c, OP_playFM
(1)  898/    853B :                     
(1)  899/    853B : 23                  		inc	hl		; On PSG channels is necessary calculate absolute frecuency
(1)  900/    853C : 23                  		inc	hl
(1)  901/    853D : 5E                  		ld	e, (hl)
(1)  902/    853E : 23                  		inc	hl
(1)  903/    853F : 56                  		ld	d, (hl)
(1)  904/    8540 : DD 46 07            		ld	b, (ix+7)
(1)  905/    8543 : 04                  		inc	b
(1)  906/    8544 :                     
(1)  907/    8544 :                     OP_playPSG1:				; ...
(1)  908/    8544 : CB 3A               		srl	d
(1)  909/    8546 : CB 1B               		rr	e
(1)  910/    8548 : 10 FA               		djnz	OP_playPSG1
(1)  911/    854A : 30 01               		jr	nc, OP_playPSG2
(1)  912/    854C : 13                  		inc	de
(1)  913/    854D :                     
(1)  914/    854D :                     OP_playPSG2:				; ...
(1)  915/    854D : DD 72 06            		ld	(ix+6),	d
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 202 - 8/12/2011 20:51:50


(1)  916/    8550 : DD 73 05            		ld	(ix+5),	e
(1)  917/    8553 : 18 09               		jr	OP_PlayW
(1)  918/    8555 :                     ;****************************************************************************
(1)  919/    8555 :                     
(1)  920/    8555 :                     OP_playFM:				; ...
(1)  921/    8555 : 7E                  		ld	a, (hl)
(1)  922/    8556 : DD 77 05            		ld	(ix+5),	a
(1)  923/    8559 : 23                  		inc	hl
(1)  924/    855A : 7E                  		ld	a, (hl)
(1)  925/    855B : DD 77 06            		ld	(ix+6),	a
(1)  926/    855E :                     
(1)  927/    855E :                     OP_PlayW:				; ...
(1)  928/    855E : CD 23 89            		call	WriteFrec
(1)  929/    8561 : DD 7E 09            		ld	a, (ix+9)
(1)  930/    8564 : CD 89 87            		call	WriteVol
(1)  931/    8567 : DD 7E 0B            		ld	a, (ix+0Bh)	; this channel play a rest just	before this play?
(1)  932/    856A : FE 80               		cp	80h
(1)  933/    856C : 30 0E               		jr	nc, OP_playEnd
(1)  934/    856E :                     
(1)  935/    856E : C6 40               		add	a, 40h		; Put flag of active channel
(1)  936/    8570 : F2 76 85            		jp	p, OP_PlayConf	; It is	necesary reconfigure channel?
(1)  937/    8573 : DD 77 0B            		ld	(ix+0Bh), a
(1)  938/    8576 :                     
(1)  939/    8576 :                     OP_PlayConf:				; ...
(1)  940/    8576 : CD AD 88            		call	ChangeModeChn
(1)  941/    8579 : CD 0F 88            		call	ActChannel
(1)  942/    857C :                     
(1)  943/    857C :                     OP_playEnd:				; ...
(1)  944/    857C : DD 7E 03            		ld	a, (ix+3)	; Put duration of note
(1)  945/    857F : DD 77 00            		ld	(ix+0),	a
(1)  946/    8582 : E1                  		pop	hl		; Ending decodification	of channel
(1)  947/    8583 : C9                  		ret	
(1)  948/    8584 :                     ;****************************************************************************
(1)  949/    8584 :                     
(1)  950/    8584 :                     OP_rest:				; ...
(1)  951/    8584 : DD 36 0C 00         		ld	(ix+0Ch), 0
(1)  952/    8588 : CD AD 88            		call	ChangeModeChn
(1)  953/    858B : DD 7E 03            		ld	a, (ix+3)
(1)  954/    858E : DD 77 00            		ld	(ix+0),	a
(1)  955/    8591 : E1                  		pop	hl
(1)  956/    8592 : DD 7E 0B            		ld	a, (ix+0Bh)	; Channel is active
(1)  957/    8595 : C6 40               		add	a, 40h
(1)  958/    8597 : F0                  		ret	p
(1)  959/    8598 : E6 7F               		and	7Fh		; and play a rest
(1)  960/    859A : DD 77 0B            		ld	(ix+0Bh), a
(1)  961/    859D : C9                  		ret	
(1)  962/    859E :                     ;****************************************************************************
(1)  963/    859E :                     
(1)  964/    859E :                     OP_moct:				; ...
(1)  965/    859E : B7                  		or	a
(1)  966/    859F : 20 01               		jr	nz, OP_octADD
(1)  967/    85A1 : 3D                  		dec	a
(1)  968/    85A2 :                     
(1)  969/    85A2 :                     OP_octADD:				; ...
(1)  970/    85A2 : DD 86 07            		add	a, (ix+7)
(1)  971/    85A5 : E6 07               		and	7
(1)  972/    85A7 :                     
(1)  973/    85A7 :                     OP_oct:					; ...
(1)  974/    85A7 : DD 77 07            		ld	(ix+7),	a
(1)  975/    85AA : C9                  		ret	
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 203 - 8/12/2011 20:51:50


(1)  976/    85AB :                     ;****************************************************************************
(1)  977/    85AB :                     
(1)  978/    85AB :                     OP_mvol:				; ...
(1)  979/    85AB : B7                  		or	a
(1)  980/    85AC : 20 01               		jr	nz, OP_volADD
(1)  981/    85AE : 3D                  		dec	a
(1)  982/    85AF :                     
(1)  983/    85AF :                     OP_volADD:				; ...
(1)  984/    85AF : DD 86 08            		add	a, (ix+8)
(1)  985/    85B2 : E6 0F               		and	0Fh
(1)  986/    85B4 :                     
(1)  987/    85B4 :                     OP_vol:					; ...
(1)  988/    85B4 : DD 77 08            		ld	(ix+8),	a
(1)  989/    85B7 : DD 36 0E 00         		ld	(ix+0Eh), 0	; Clean	adsr data
(1)  990/    85BB : DD 36 0D 00         		ld	(ix+0Dh), 0
(1)  991/    85BF : DD CB 0C 7E         		bit	7, (ix+0Ch)
(1)  992/    85C3 : 20 04               		jr	nz, OP_volEnd	; is a PSG channel?
(1)  993/    85C5 : 47                  		ld	b, a
(1)  994/    85C6 : 3E 0F               		ld	a, 0Fh
(1)  995/    85C8 : 90                  		sub	b
(1)  996/    85C9 :                     
(1)  997/    85C9 :                     OP_volEnd:				; ...
(1)  998/    85C9 : DD 77 09            		ld	(ix+9),	a
(1)  999/    85CC : C9                  		ret	
(1) 1000/    85CD :                     ;****************************************************************************
(1) 1001/    85CD :                     
(1) 1002/    85CD :                     OP_FMinstl:				; ...
(1) 1003/    85CD : CD 90 89            		call	GetNextOP
(1) 1004/    85D0 :                     
(1) 1005/    85D0 :                     OP_FMinst:				; ...
(1) 1006/    85D0 : DD CB 0C 7E         		bit	7, (ix+0Ch)
(1) 1007/    85D4 : 28 0A               		jr	z, OP_FM_INST
(1) 1008/    85D6 : DD 36 06 80         		ld	(ix+6),	80h	; Put PSG channel as noise
(1) 1009/    85DA : DD 77 05            		ld	(ix+5),	a
(1) 1010/    85DD : C3 5E 85            		jp	OP_PlayW
(1) 1011/    85E0 :                     ;****************************************************************************
(1) 1012/    85E0 :                     
(1) 1013/    85E0 :                     OP_FM_INST:				; ...
(1) 1014/    85E0 : FE 10               		cp	10h
(1) 1015/    85E2 : 30 05               		jr	nc, OP_FMintSoft
(1) 1016/    85E4 : DD 77 16            		ld	(ix+16h), a
(1) 1017/    85E7 : 18 20               		jr	WFMinst2
(1) 1018/    85E9 :                     ;****************************************************************************
(1) 1019/    85E9 :                     
(1) 1020/    85E9 :                     OP_FMintSoft:				; ...
(1) 1021/    85E9 : DD 36 16 00         		ld	(ix+16h), 0	; FM instrument	software
(1) 1022/    85ED : D6 10               		sub	10h
(1) 1023/    85EF : 32 FC 8B            		ld	(FM_InstSoft), a
(1) 1024/    85F2 :                     
(1) 1025/    85F2 :                     WriteFMInst:				; ...
(1) 1026/    85F2 : 6F                  		ld	l, a
(1) 1027/    85F3 : 26 00               		ld	h, 0
(1) 1028/    85F5 : 29                  		add	hl, hl
(1) 1029/    85F6 : 29                  		add	hl, hl
(1) 1030/    85F7 : 29                  		add	hl, hl
(1) 1031/    85F8 : ED 5B EE 8B         		ld	de, (ptable_fmins)
(1) 1032/    85FC : 19                  		add	hl, de
(1) 1033/    85FD : 06 00               		ld	b, 0
(1) 1034/    85FF :                     
(1) 1035/    85FF :                     WFMinst1:				; ...
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 204 - 8/12/2011 20:51:50


(1) 1036/    85FF : 7E                  		ld	a, (hl)
(1) 1037/    8600 : 23                  		inc	hl
(1) 1038/    8601 : CD 39 81            		call	WriteFM
(1) 1039/    8604 : 04                  		inc	b
(1) 1040/    8605 : CB 58               		bit	3, b
(1) 1041/    8607 : 28 F6               		jr	z, WFMinst1
(1) 1042/    8609 :                     
(1) 1043/    8609 :                     WFMinst2:				; ...
(1) 1044/    8609 : C9                  		ret	
(1) 1045/    860A :                     ;****************************************************************************
(1) 1046/    860A :                     
(1) 1047/    860A :                     OP_loopl:				; ...
(1) 1048/    860A : CD 90 89            		call	GetNextOP
(1) 1049/    860D :                     
(1) 1050/    860D :                     OP_loop:				; ...
(1) 1051/    860D : DD E5               		push	ix
(1) 1052/    860F : E1                  		pop	hl
(1) 1053/    8610 : 11 2D 00            		ld	de, 2Dh
(1) 1054/    8613 : 19                  		add	hl, de
(1) 1055/    8614 : 54                  		ld	d, h
(1) 1056/    8615 : 5D                  		ld	e, l
(1) 1057/    8616 : 2B                  		dec	hl
(1) 1058/    8617 : 2B                  		dec	hl
(1) 1059/    8618 : 2B                  		dec	hl
(1) 1060/    8619 : 01 0C 00            		ld	bc, 0Ch
(1) 1061/    861C : ED B8               		lddr	
(1) 1062/    861E : 23                  		inc	hl
(1) 1063/    861F : 77                  		ld	(hl), a
(1) 1064/    8620 : DD 7E 01            		ld	a, (ix+1)
(1) 1065/    8623 : 23                  		inc	hl
(1) 1066/    8624 : 77                  		ld	(hl), a
(1) 1067/    8625 : DD 7E 02            		ld	a, (ix+2)
(1) 1068/    8628 : 23                  		inc	hl
(1) 1069/    8629 : 77                  		ld	(hl), a
(1) 1070/    862A : C9                  		ret	
(1) 1071/    862B :                     ;****************************************************************************
(1) 1072/    862B :                     
(1) 1073/    862B :                     OP_endl:				; ...
(1) 1074/    862B : DD 7E 1F            		ld	a, (ix+1Fh)
(1) 1075/    862E : B7                  		or	a
(1) 1076/    862F : 28 06               		jr	z, OP_endl1
(1) 1077/    8631 : 3D                  		dec	a
(1) 1078/    8632 : 28 10               		jr	z, OP_endl2
(1) 1079/    8634 : DD 77 1F            		ld	(ix+1Fh), a
(1) 1080/    8637 :                     
(1) 1081/    8637 :                     OP_endl1:				; ...
(1) 1082/    8637 : DD 7E 20            		ld	a, (ix+20h)	; It is	necesary other loop iteration
(1) 1083/    863A : DD 77 01            		ld	(ix+1),	a
(1) 1084/    863D : DD 7E 21            		ld	a, (ix+21h)
(1) 1085/    8640 : DD 77 02            		ld	(ix+2),	a
(1) 1086/    8643 : C9                  		ret	
(1) 1087/    8644 :                     ;****************************************************************************
(1) 1088/    8644 :                     
(1) 1089/    8644 :                     OP_endl2:				; ...
(1) 1090/    8644 : DD E5               		push	ix		; loop cont is finished
(1) 1091/    8646 : E1                  		pop	hl
(1) 1092/    8647 : 11 1F 00            		ld	de, 1Fh
(1) 1093/    864A : 19                  		add	hl, de
(1) 1094/    864B : EB                  		ex	de, hl
(1) 1095/    864C : 21 03 00            		ld	hl, 3
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 205 - 8/12/2011 20:51:50


(1) 1096/    864F : 19                  		add	hl, de
(1) 1097/    8650 : 01 0C 00            		ld	bc, 0Ch
(1) 1098/    8653 : ED B0               		ldir	
(1) 1099/    8655 : C9                  		ret	
(1) 1100/    8656 :                     ;****************************************************************************
(1) 1101/    8656 :                     
(1) 1102/    8656 :                     OP_adsr:				; ...
(1) 1103/    8656 : 6F                  		ld	l, a
(1) 1104/    8657 : 87                  		add	a, a
(1) 1105/    8658 : 85                  		add	a, l
(1) 1106/    8659 : 2A E8 8B            		ld	hl, (ptable_adsr)
(1) 1107/    865C : CD 3A 8B            		call	ADD_HL
(1) 1108/    865F : 7E                  		ld	a, (hl)
(1) 1109/    8660 : DD 77 0D            		ld	(ix+0Dh), a
(1) 1110/    8663 : DD 77 0E            		ld	(ix+0Eh), a
(1) 1111/    8666 : 23                  		inc	hl
(1) 1112/    8667 : 7E                  		ld	a, (hl)
(1) 1113/    8668 : DD 77 0F            		ld	(ix+0Fh), a
(1) 1114/    866B : 23                  		inc	hl
(1) 1115/    866C : 7E                  		ld	a, (hl)
(1) 1116/    866D : DD 77 10            		ld	(ix+10h), a
(1) 1117/    8670 : DD 7E 09            		ld	a, (ix+9)
(1) 1118/    8673 : DD 77 11            		ld	(ix+11h), a
(1) 1119/    8676 : C9                  		ret	
(1) 1120/    8677 :                     ;****************************************************************************
(1) 1121/    8677 :                     
(1) 1122/    8677 :                     OP_vib:					; ...
(1) 1123/    8677 : 6F                  		ld	l, a
(1) 1124/    8678 : 87                  		add	a, a
(1) 1125/    8679 : 85                  		add	a, l
(1) 1126/    867A : 2A EA 8B            		ld	hl, (ptable_vib)
(1) 1127/    867D : CD 3A 8B            		call	ADD_HL
(1) 1128/    8680 : 7E                  		ld	a, (hl)
(1) 1129/    8681 : DD 77 12            		ld	(ix+12h), a
(1) 1130/    8684 : DD 77 13            		ld	(ix+13h), a
(1) 1131/    8687 : 23                  		inc	hl
(1) 1132/    8688 : 7E                  		ld	a, (hl)
(1) 1133/    8689 : DD 77 14            		ld	(ix+14h), a
(1) 1134/    868C : 23                  		inc	hl
(1) 1135/    868D : 7E                  		ld	a, (hl)
(1) 1136/    868E : DD 77 15            		ld	(ix+15h), a
(1) 1137/    8691 : C9                  		ret	
(1) 1138/    8692 :                     ;****************************************************************************
(1) 1139/    8692 :                     
(1) 1140/    8692 :                     OP_XXX:					; ...
(1) 1141/    8692 : D6 02               		sub	2
(1) 1142/    8694 : 38 01               		jr	c, OP_XXX1
(1) 1143/    8696 : 3C                  		inc	a
(1) 1144/    8697 :                     
(1) 1145/    8697 :                     OP_XXX1:				; ...
(1) 1146/    8697 : DD 86 03            		add	a, (ix+3)
(1) 1147/    869A :                     
(1) 1148/    869A :                     OP_timel:				; ...
(1) 1149/    869A : CD 90 89            		call	GetNextOP
(1) 1150/    869D :                     
(1) 1151/    869D :                     OP_time:				; ...
(1) 1152/    869D : DD 77 03            		ld	(ix+3),	a
(1) 1153/    86A0 : 18 0A               		jr	ActTimeSound
(1) 1154/    86A2 :                     ;****************************************************************************
(1) 1155/    86A2 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 206 - 8/12/2011 20:51:50


(1) 1156/    86A2 :                     OP_divsus:				; ...
(1) 1157/    86A2 : 47                  		ld	b, a
(1) 1158/    86A3 : DD 7E 0B            		ld	a, (ix+0Bh)
(1) 1159/    86A6 : E6 F0               		and	0F0h
(1) 1160/    86A8 : B0                  		or	b
(1) 1161/    86A9 : DD 77 0B            		ld	(ix+0Bh), a
(1) 1162/    86AC :                     
(1) 1163/    86AC :                     ActTimeSound:				; ...
(1) 1164/    86AC : DD 66 03            		ld	h, (ix+3)
(1) 1165/    86AF : AF                  		xor	a
(1) 1166/    86B0 : CB 3C               		srl	h
(1) 1167/    86B2 : 1F                  		rra	
(1) 1168/    86B3 : CB 3C               		srl	h
(1) 1169/    86B5 : 1F                  		rra	
(1) 1170/    86B6 : CB 3C               		srl	h
(1) 1171/    86B8 : 1F                  		rra	
(1) 1172/    86B9 : 6F                  		ld	l, a
(1) 1173/    86BA : DD 7E 0B            		ld	a, (ix+0Bh)
(1) 1174/    86BD : E6 07               		and	7
(1) 1175/    86BF : 16 00               		ld	d, 0
(1) 1176/    86C1 : 5F                  		ld	e, a
(1) 1177/    86C2 : CD 40 8B            		call	MulHL_DE
(1) 1178/    86C5 : DD 74 0A            		ld	(ix+0Ah), h
(1) 1179/    86C8 : C9                  		ret	
(1) 1180/    86C9 :                     ;****************************************************************************
(1) 1181/    86C9 :                     
(1) 1182/    86C9 :                     OP_WriteFM:				; ...
(1) 1183/    86C9 : CD 90 89            		call	GetNextOP
(1) 1184/    86CC : 47                  		ld	b, a
(1) 1185/    86CD : CD 90 89            		call	GetNextOP
(1) 1186/    86D0 : C3 39 81            		jp	WriteFM
(1) 1187/    86D3 :                     ;****************************************************************************
(1) 1188/    86D3 :                     
(1) 1189/    86D3 :                     OP_effect:				; ...
(1) 1190/    86D3 : CD 90 89            		call	GetNextOP
(1) 1191/    86D6 : 2A EC 8B            		ld	hl, (ptable_effect)
(1) 1192/    86D9 : CD 32 8B            		call	ADD_HL_A4
(1) 1193/    86DC : 7E                  		ld	a, (hl)
(1) 1194/    86DD : DD 77 17            		ld	(ix+17h), a
(1) 1195/    86E0 : 23                  		inc	hl
(1) 1196/    86E1 : 7E                  		ld	a, (hl)
(1) 1197/    86E2 : DD 77 18            		ld	(ix+18h), a
(1) 1198/    86E5 : 23                  		inc	hl
(1) 1199/    86E6 : 7E                  		ld	a, (hl)
(1) 1200/    86E7 : DD 77 1A            		ld	(ix+1Ah), a
(1) 1201/    86EA : 23                  		inc	hl
(1) 1202/    86EB : 7E                  		ld	a, (hl)
(1) 1203/    86EC : DD 77 1B            		ld	(ix+1Bh), a
(1) 1204/    86EF : C3 9F 89            		jp	InitEffect
(1) 1205/    86F2 :                     ;****************************************************************************
(1) 1206/    86F2 :                     
(1) 1207/    86F2 :                     OP_par:					; ...
(1) 1208/    86F2 : CD 90 89            		call	GetNextOP
(1) 1209/    86F5 : 21 00 87            		ld	hl, tblParAddress
(1) 1210/    86F8 : CD 36 8B            		call	ADD_HL_A2
(1) 1211/    86FB : 7E                  		ld	a, (hl)
(1) 1212/    86FC : 23                  		inc	hl
(1) 1213/    86FD : 66                  		ld	h, (hl)
(1) 1214/    86FE : 6F                  		ld	l, a
(1) 1215/    86FF : E9                  		jp	(hl)
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 207 - 8/12/2011 20:51:50


(1) 1216/    8700 :                     ;****************************************************************************
(1) 1217/    8700 : 18 87               tblParAddress:	dw DisableChannel	; ...
(1) 1218/    8702 : 1D 87               		dw ActiveChannel
(1) 1219/    8704 : 28 87               		dw DisableSus
(1) 1220/    8706 : 2D 87               		dw EnableSus
(1) 1221/    8708 : 32 87               		dw ActiveSD_HH
(1) 1222/    870A : 46 87               		dw ActiveTOM_TCY
(1) 1223/    870C : 5A 87               		dw ActiveNoise
(1) 1224/    870E : 5F 87               		dw DisableNoise
(1) 1225/    8710 : 64 87               		dw AddUnitsInt
(1) 1226/    8712 : 6B 87               		dw SetTimenSFX
(1) 1227/    8714 : 72 87               		dw ActiveRhythm
(1) 1228/    8716 : 7D 87               		dw DisableRhythm
(1) 1229/    8718 :                     ;****************************************************************************
(1) 1230/    8718 :                     
(1) 1231/    8718 :                     DisableChannel:				; ...
(1) 1232/    8718 : DD CB 0B F6         		set	6, (ix+0Bh)
(1) 1233/    871C : C9                  		ret	
(1) 1234/    871D :                     ;****************************************************************************
(1) 1235/    871D :                     
(1) 1236/    871D :                     ActiveChannel:				; ...
(1) 1237/    871D : DD 7E 0B            		ld	a, (ix+0Bh)
(1) 1238/    8720 : E6 37               		and	37h
(1) 1239/    8722 : DD 77 0B            		ld	(ix+0Bh), a
(1) 1240/    8725 : C3 AD 88            		jp	ChangeModeChn
(1) 1241/    8728 :                     ;****************************************************************************
(1) 1242/    8728 :                     
(1) 1243/    8728 :                     DisableSus:				; ...
(1) 1244/    8728 : DD CB 0B AE         		res	5, (ix+0Bh)	; Disable sustain hard on FM channel
(1) 1245/    872C : C9                  		ret	
(1) 1246/    872D :                     ;****************************************************************************
(1) 1247/    872D :                     
(1) 1248/    872D :                     EnableSus:				; ...
(1) 1249/    872D : DD CB 0B EE         		set	5, (ix+0Bh)
(1) 1250/    8731 : C9                  		ret	
(1) 1251/    8732 :                     ;****************************************************************************
(1) 1252/    8732 :                     
(1) 1253/    8732 :                     ActiveSD_HH:				; ...
(1) 1254/    8732 : 21 84 8E            		ld	hl, Rhythm_Mode	; Active SD Instrument
(1) 1255/    8735 : 3A FA 8B            		ld	a, (ChannelAct)
(1) 1256/    8738 : FE 07               		cp	7
(1) 1257/    873A : 20 05               		jr	nz, ActiveHHInst
(1) 1258/    873C :                     
(1) 1259/    873C : CB 96               		res	2, (hl)
(1) 1260/    873E : CB DE               		set	3, (hl)
(1) 1261/    8740 : C9                  		ret	
(1) 1262/    8741 :                     ;****************************************************************************
(1) 1263/    8741 :                     
(1) 1264/    8741 :                     ActiveHHInst:				; ...
(1) 1265/    8741 : CB 8E               		res	1, (hl)
(1) 1266/    8743 : CB C6               		set	0, (hl)
(1) 1267/    8745 : C9                  		ret	
(1) 1268/    8746 :                     ;****************************************************************************
(1) 1269/    8746 :                     
(1) 1270/    8746 :                     ActiveTOM_TCY:				; ...
(1) 1271/    8746 : 21 84 8E            		ld	hl, Rhythm_Mode
(1) 1272/    8749 : 3A FA 8B            		ld	a, (ChannelAct)
(1) 1273/    874C : FE 07               		cp	7
(1) 1274/    874E : 20 05               		jr	nz, ActiveTCY
(1) 1275/    8750 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 208 - 8/12/2011 20:51:50


(1) 1276/    8750 : CB D6               		set	2, (hl)
(1) 1277/    8752 : CB 9E               		res	3, (hl)
(1) 1278/    8754 : C9                  		ret	
(1) 1279/    8755 :                     ;****************************************************************************
(1) 1280/    8755 :                     
(1) 1281/    8755 :                     ActiveTCY:				; ...
(1) 1282/    8755 : CB CE               		set	1, (hl)
(1) 1283/    8757 : CB 86               		res	0, (hl)
(1) 1284/    8759 : C9                  		ret	
(1) 1285/    875A :                     ;****************************************************************************
(1) 1286/    875A :                     
(1) 1287/    875A :                     ActiveNoise:				; ...
(1) 1288/    875A : DD CB 0C 86         		res	0, (ix+0Ch)
(1) 1289/    875E : C9                  		ret	
(1) 1290/    875F :                     ;****************************************************************************
(1) 1291/    875F :                     
(1) 1292/    875F :                     DisableNoise:				; ...
(1) 1293/    875F : DD CB 0C C6         		set	0, (ix+0Ch)
(1) 1294/    8763 : C9                  		ret	
(1) 1295/    8764 :                     ;****************************************************************************
(1) 1296/    8764 :                     
(1) 1297/    8764 :                     AddUnitsInt:				; ...
(1) 1298/    8764 : CD 90 89            		call	GetNextOP	; Add units of time on each interrupt
(1) 1299/    8767 : 32 87 8E            		ld	(NumDecInt), a
(1) 1300/    876A : C9                  		ret	
(1) 1301/    876B :                     ;****************************************************************************
(1) 1302/    876B :                     
(1) 1303/    876B :                     SetTimenSFX:				; ...
(1) 1304/    876B : CD 90 89            		call	GetNextOP	; Puts number of interrupt that	are needed for begining	of effect
(1) 1305/    876E : DD 77 1E            		ld	(ix+1Eh), a
(1) 1306/    8771 : C9                  		ret	
(1) 1307/    8772 :                     ;****************************************************************************
(1) 1308/    8772 :                     
(1) 1309/    8772 :                     ActiveRhythm:				; ...
(1) 1310/    8772 : 3E 20               		ld	a, 20h
(1) 1311/    8774 : 32 83 8E            		ld	(ShdFM_E), a
(1) 1312/    8777 : 06 0E               		ld	b, 0Eh
(1) 1313/    8779 : CD 39 81            		call	WriteFM
(1) 1314/    877C : C9                  		ret	
(1) 1315/    877D :                     ;****************************************************************************
(1) 1316/    877D :                     
(1) 1317/    877D :                     DisableRhythm:				; ...
(1) 1318/    877D : AF                  		xor	a
(1) 1319/    877E : 32 83 8E            		ld	(ShdFM_E), a
(1) 1320/    8781 : 06 0E               		ld	b, 0Eh
(1) 1321/    8783 : CD 39 81            		call	WriteFM
(1) 1322/    8786 : C9                  		ret	
(1) 1323/    8787 :                     ;****************************************************************************
(1) 1324/    8787 : 18                  		db 18h
(1) 1325/    8788 : FE                  		db 0FEh
(1) 1326/    8789 :                     ;****************************************************************************
(1) 1327/    8789 :                     ;a -> New volumen level
(1) 1328/    8789 :                     
(1) 1329/    8789 :                     WriteVol:				; ...
(1) 1330/    8789 : E5                  		push	hl
(1) 1331/    878A : C5                  		push	bc
(1) 1332/    878B : D5                  		push	de
(1) 1333/    878C : 4F                  		ld	c, a
(1) 1334/    878D : 3A F9 8B            		ld	a, (FadeCtl)
(1) 1335/    8790 : E6 80               		and	80h
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 209 - 8/12/2011 20:51:50


(1) 1336/    8792 : 28 19               		jr	z, WVolChip
(1) 1337/    8794 : 21 F8 8B            		ld	hl, FadeNumPass
(1) 1338/    8797 : DD CB 0C 7E         		bit	7, (ix+0Ch)
(1) 1339/    879B : 28 07               		jr	z, WVolPSG
(1) 1340/    879D : 79                  		ld	a, c
(1) 1341/    879E : 96                  		sub	(hl)
(1) 1342/    879F : 30 0B               		jr	nc, WVolPSG1
(1) 1343/    87A1 : AF                  		xor	a
(1) 1344/    87A2 : 18 08               		jr	WVolPSG1
(1) 1345/    87A4 :                     ;****************************************************************************
(1) 1346/    87A4 :                     
(1) 1347/    87A4 :                     WVolPSG:				; ...
(1) 1348/    87A4 : 79                  		ld	a, c
(1) 1349/    87A5 : 86                  		add	a, (hl)
(1) 1350/    87A6 : FE 0F               		cp	0Fh
(1) 1351/    87A8 : 38 02               		jr	c, WVolPSG1
(1) 1352/    87AA : 3E 0F               		ld	a, 0Fh
(1) 1353/    87AC :                     
(1) 1354/    87AC :                     WVolPSG1:				; ...
(1) 1355/    87AC : 4F                  		ld	c, a
(1) 1356/    87AD :                     
(1) 1357/    87AD :                     WVolChip:				; ...
(1) 1358/    87AD : 3A F3 8B            		ld	a, (SilenceFlag)
(1) 1359/    87B0 : B7                  		or	a
(1) 1360/    87B1 : 20 58               		jr	nz, WriteVolEnd
(1) 1361/    87B3 : 3A FA 8B            		ld	a, (ChannelAct)
(1) 1362/    87B6 : FE 80               		cp	80h
(1) 1363/    87B8 : 38 11               		jr	c, WVolFM
(1) 1364/    87BA : 47                  		ld	b, a
(1) 1365/    87BB : 3A F6 8B            		ld	a, (MaskSFX)
(1) 1366/    87BE : A0                  		and	b
(1) 1367/    87BF : 20 4A               		jr	nz, WriteVolEnd
(1) 1368/    87C1 : 78                  		ld	a, b
(1) 1369/    87C2 : C6 88               		add	a, 88h
(1) 1370/    87C4 : 47                  		ld	b, a
(1) 1371/    87C5 : 79                  		ld	a, c
(1) 1372/    87C6 : CD 2B 81            		call	WritePSG
(1) 1373/    87C9 : 18 40               		jr	WriteVolEnd
(1) 1374/    87CB :                     ;****************************************************************************
(1) 1375/    87CB :                     
(1) 1376/    87CB :                     WVolFM:					; ...
(1) 1377/    87CB : DD CB 0C 6E         		bit	5, (ix+0Ch)
(1) 1378/    87CF : 28 2C               		jr	z, VolFM_Mel	; Is a FM channel Ryhthm?
(1) 1379/    87D1 : FE 07               		cp	7
(1) 1380/    87D3 : 38 28               		jr	c, VolFM_Mel
(1) 1381/    87D5 : 28 0E               		jr	z, VolFM_HH	; Is HH	Channel
(1) 1382/    87D7 :                     
(1) 1383/    87D7 : 79                  		ld	a, c		; Is SD	Channel
(1) 1384/    87D8 : 32 86 8E            		ld	(SD_VOL), a
(1) 1385/    87DB : 87                  		add	a, a
(1) 1386/    87DC : 87                  		add	a, a
(1) 1387/    87DD : 87                  		add	a, a
(1) 1388/    87DE : 87                  		add	a, a
(1) 1389/    87DF : 4F                  		ld	c, a
(1) 1390/    87E0 : 3A 85 8E            		ld	a, (HH_VOL)
(1) 1391/    87E3 : 18 0B               		jr	VolFM_WR
(1) 1392/    87E5 :                     ;****************************************************************************
(1) 1393/    87E5 :                     
(1) 1394/    87E5 :                     VolFM_HH:				; ...
(1) 1395/    87E5 : 79                  		ld	a, c
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 210 - 8/12/2011 20:51:50


(1) 1396/    87E6 : 32 85 8E            		ld	(HH_VOL), a
(1) 1397/    87E9 : 3A 86 8E            		ld	a, (SD_VOL)
(1) 1398/    87EC : 87                  		add	a, a
(1) 1399/    87ED : 87                  		add	a, a
(1) 1400/    87EE : 87                  		add	a, a
(1) 1401/    87EF : 87                  		add	a, a
(1) 1402/    87F0 :                     
(1) 1403/    87F0 :                     VolFM_WR:				; ...
(1) 1404/    87F0 : B1                  		or	c		; Write	register #37 (HH and SD	voluemn)
(1) 1405/    87F1 : 06 37               		ld	b, 37h
(1) 1406/    87F3 : CD 39 81            		call	WriteFM
(1) 1407/    87F6 : 0F                  		rrca	
(1) 1408/    87F7 : 0F                  		rrca	
(1) 1409/    87F8 : 0F                  		rrca	
(1) 1410/    87F9 : 0F                  		rrca	
(1) 1411/    87FA : 04                  		inc	b
(1) 1412/    87FB : 18 0B               		jr	WFM_Vol
(1) 1413/    87FD :                     ;****************************************************************************
(1) 1414/    87FD :                     
(1) 1415/    87FD :                     VolFM_Mel:				; ...
(1) 1416/    87FD : C6 30               		add	a, 30h		; Write	volumen	in a FM	melody channel
(1) 1417/    87FF : 47                  		ld	b, a
(1) 1418/    8800 : DD 7E 16            		ld	a, (ix+16h)
(1) 1419/    8803 : 87                  		add	a, a
(1) 1420/    8804 : 87                  		add	a, a
(1) 1421/    8805 : 87                  		add	a, a
(1) 1422/    8806 : 87                  		add	a, a
(1) 1423/    8807 : B1                  		or	c
(1) 1424/    8808 :                     
(1) 1425/    8808 :                     WFM_Vol:				; ...
(1) 1426/    8808 : CD 39 81            		call	WriteFM
(1) 1427/    880B :                     
(1) 1428/    880B :                     WriteVolEnd:				; ...
(1) 1429/    880B : D1                  		pop	de
(1) 1430/    880C : C1                  		pop	bc
(1) 1431/    880D : E1                  		pop	hl
(1) 1432/    880E : C9                  		ret	
(1) 1433/    880F :                     ;****************************************************************************
(1) 1434/    880F :                     ;Actualize hardware of a channel with tables valours after a play command
(1) 1435/    880F :                     
(1) 1436/    880F :                     ActChannel:				; ...
(1) 1437/    880F : 3A F3 8B            		ld	a, (SilenceFlag)
(1) 1438/    8812 : B7                  		or	a
(1) 1439/    8813 : C0                  		ret	nz
(1) 1440/    8814 : C5                  		push	bc
(1) 1441/    8815 : 3A FA 8B            		ld	a, (ChannelAct)
(1) 1442/    8818 : FE 80               		cp	80h
(1) 1443/    881A : 30 38               		jr	nc, ActChnPSG
(1) 1444/    881C :                     
(1) 1445/    881C : DD CB 0C 6E         		bit	5, (ix+0Ch)
(1) 1446/    8820 : 28 13               		jr	z, ActChnFM_m
(1) 1447/    8822 :                     
(1) 1448/    8822 : CD 11 89            		call	PutRhythm
(1) 1449/    8825 : 47                  		ld	b, a
(1) 1450/    8826 : 3A 83 8E            		ld	a, (ShdFM_E)
(1) 1451/    8829 : B0                  		or	b
(1) 1452/    882A : 32 83 8E            		ld	(ShdFM_E), a
(1) 1453/    882D : 06 0E               		ld	b, 0Eh
(1) 1454/    882F : CD 39 81            		call	WriteFM
(1) 1455/    8832 : C3 0F 89            		jp	ChgChnModeEnd
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 211 - 8/12/2011 20:51:50


(1) 1456/    8835 :                     ;****************************************************************************
(1) 1457/    8835 :                     
(1) 1458/    8835 :                     ActChnFM_m:				; ...
(1) 1459/    8835 : C6 10               		add	a, 10h		; FM is	used on	mode melody
(1) 1460/    8837 : 47                  		ld	b, a
(1) 1461/    8838 : DD 7E 05            		ld	a, (ix+5)
(1) 1462/    883B : CD 39 81            		call	WriteFM
(1) 1463/    883E : 78                  		ld	a, b
(1) 1464/    883F : C6 10               		add	a, 10h
(1) 1465/    8841 : 47                  		ld	b, a
(1) 1466/    8842 : DD 7E 07            		ld	a, (ix+7)
(1) 1467/    8845 : 87                  		add	a, a
(1) 1468/    8846 : DD B6 06            		or	(ix+6)
(1) 1469/    8849 : F6 10               		or	10h
(1) 1470/    884B : CD 39 81            		call	WriteFM
(1) 1471/    884E : DD CB 0B E6         		set	4, (ix+0Bh)
(1) 1472/    8852 : 18 38               		jr	ActChnSFX
(1) 1473/    8854 :                     ;****************************************************************************
(1) 1474/    8854 :                     
(1) 1475/    8854 :                     ActChnPSG:				; ...
(1) 1476/    8854 : 47                  		ld	b, a
(1) 1477/    8855 : 3A F6 8B            		ld	a, (MaskSFX)
(1) 1478/    8858 : A0                  		and	b
(1) 1479/    8859 : 20 31               		jr	nz, ActChnSFX
(1) 1480/    885B : 78                  		ld	a, b
(1) 1481/    885C : E6 03               		and	3
(1) 1482/    885E : 87                  		add	a, a
(1) 1483/    885F : 20 02               		jr	nz, ActChnPSG1
(1) 1484/    8861 : 3E 01               		ld	a, 1
(1) 1485/    8863 :                     
(1) 1486/    8863 :                     ActChnPSG1:				; ...
(1) 1487/    8863 : 4F                  		ld	c, a
(1) 1488/    8864 : 2F                  		cpl	
(1) 1489/    8865 : DD CB 0C 46         		bit	0, (ix+0Ch)
(1) 1490/    8869 : 28 02               		jr	z, ActChnPSG2	; PSG noise?
(1) 1491/    886B : 0E 00               		ld	c, 0
(1) 1492/    886D :                     
(1) 1493/    886D :                     ActChnPSG2:				; ...
(1) 1494/    886D : DD CB 06 7E         		bit	7, (ix+6)
(1) 1495/    8871 : 28 05               		jr	z, ActChnPSGn
(1) 1496/    8873 : 07                  		rlca	
(1) 1497/    8874 : 07                  		rlca	
(1) 1498/    8875 : 07                  		rlca	
(1) 1499/    8876 : 18 06               		jr	ActChnPSG_7
(1) 1500/    8878 :                     ;****************************************************************************
(1) 1501/    8878 :                     
(1) 1502/    8878 :                     ActChnPSGn:				; ...
(1) 1503/    8878 : CB 01               		rlc	c		; Actualize noise PSG channell
(1) 1504/    887A : CB 01               		rlc	c
(1) 1505/    887C : CB 01               		rlc	c
(1) 1506/    887E :                     
(1) 1507/    887E :                     ActChnPSG_7:				; ...
(1) 1508/    887E : 47                  		ld	b, a
(1) 1509/    887F : 3A FB 8B            		ld	a, (ShdPSG_7)
(1) 1510/    8882 : A0                  		and	b
(1) 1511/    8883 : B1                  		or	c
(1) 1512/    8884 : 32 FB 8B            		ld	(ShdPSG_7), a
(1) 1513/    8887 : 06 07               		ld	b, 7
(1) 1514/    8889 : CD 2B 81            		call	WritePSG
(1) 1515/    888C :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 212 - 8/12/2011 20:51:50


(1) 1516/    888C :                     ActChnSFX:				; ...
(1) 1517/    888C : C1                  		pop	bc		; does action for effect command
(1) 1518/    888D : DD CB 17 7E         		bit	7, (ix+17h)
(1) 1519/    8891 : C8                  		ret	z
(1) 1520/    8892 : DD 7E 1E            		ld	a, (ix+1Eh)
(1) 1521/    8895 : B7                  		or	a
(1) 1522/    8896 : 28 08               		jr	z, acSFX_n1E	; Is there time	for type 0  of effect?
(1) 1523/    8898 : DD 77 1C            		ld	(ix+1Ch), a
(1) 1524/    889B : DD CB 17 F6         		set	6, (ix+17h)
(1) 1525/    889F : C9                  		ret	
(1) 1526/    88A0 :                     ;****************************************************************************
(1) 1527/    88A0 :                     
(1) 1528/    88A0 :                     acSFX_n1E:				; ...
(1) 1529/    88A0 : DD CB 17 56         		bit	2, (ix+17h)	; Effect command with b7 of +17h set and no +1e	value
(1) 1530/    88A4 : C4 9F 89            		call	nz, InitEffect
(1) 1531/    88A7 : DD 7E 19            		ld	a, (ix+19h)
(1) 1532/    88AA : C3 CF 8A            		jp	ApplyEffect
(1) 1533/    88AD :                     ;****************************************************************************
(1) 1534/    88AD :                     
(1) 1535/    88AD :                     ChangeModeChn:				; ...
(1) 1536/    88AD : C5                  		push	bc
(1) 1537/    88AE : 3A FA 8B            		ld	a, (ChannelAct)
(1) 1538/    88B1 : FE 80               		cp	80h
(1) 1539/    88B3 : 38 29               		jr	c, ChgModeFM
(1) 1540/    88B5 :                     
(1) 1541/    88B5 : 47                  		ld	b, a
(1) 1542/    88B6 : 3A F6 8B            		ld	a, (MaskSFX)
(1) 1543/    88B9 : A0                  		and	b
(1) 1544/    88BA : 20 53               		jr	nz, ChgChnModeEnd
(1) 1545/    88BC :                     
(1) 1546/    88BC : 78                  		ld	a, b
(1) 1547/    88BD : 0E 09               		ld	c, 9
(1) 1548/    88BF : E6 03               		and	3
(1) 1549/    88C1 : 28 07               		jr	z, ChgModePSG_W
(1) 1550/    88C3 :                     
(1) 1551/    88C3 : CB 21               		sla	c
(1) 1552/    88C5 : 3D                  		dec	a
(1) 1553/    88C6 : 28 02               		jr	z, ChgModePSG_W
(1) 1554/    88C8 : CB 21               		sla	c
(1) 1555/    88CA :                     
(1) 1556/    88CA :                     ChgModePSG_W:				; ...
(1) 1557/    88CA : DD CB 0C 46         		bit	0, (ix+0Ch)
(1) 1558/    88CE : 20 3F               		jr	nz, ChgChnModeEnd
(1) 1559/    88D0 : 3A FB 8B            		ld	a, (ShdPSG_7)
(1) 1560/    88D3 : B1                  		or	c
(1) 1561/    88D4 : 32 FB 8B            		ld	(ShdPSG_7), a
(1) 1562/    88D7 : 06 07               		ld	b, 7
(1) 1563/    88D9 : CD 2B 81            		call	WritePSG
(1) 1564/    88DC : 18 31               		jr	ChgChnModeEnd
(1) 1565/    88DE :                     ;****************************************************************************
(1) 1566/    88DE :                     
(1) 1567/    88DE :                     ChgModeFM:				; ...
(1) 1568/    88DE : DD CB 0C 6E         		bit	5, (ix+0Ch)
(1) 1569/    88E2 : 28 13               		jr	z, ChgModeFM_Mel
(1) 1570/    88E4 : CD 11 89            		call	PutRhythm
(1) 1571/    88E7 : 2F                  		cpl	
(1) 1572/    88E8 : 47                  		ld	b, a
(1) 1573/    88E9 : 3A 83 8E            		ld	a, (ShdFM_E)
(1) 1574/    88EC : A0                  		and	b
(1) 1575/    88ED : 32 83 8E            		ld	(ShdFM_E), a
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 213 - 8/12/2011 20:51:50


(1) 1576/    88F0 : 06 0E               		ld	b, 0Eh
(1) 1577/    88F2 : CD 39 81            		call	WriteFM
(1) 1578/    88F5 : 18 18               		jr	ChgChnModeEnd
(1) 1579/    88F7 :                     ;****************************************************************************
(1) 1580/    88F7 :                     
(1) 1581/    88F7 :                     ChgModeFM_Mel:				; ...
(1) 1582/    88F7 : C6 20               		add	a, 20h		; It is	a melodyc FM channel
(1) 1583/    88F9 : 47                  		ld	b, a
(1) 1584/    88FA : DD 7E 07            		ld	a, (ix+7)
(1) 1585/    88FD : 87                  		add	a, a
(1) 1586/    88FE : DD B6 06            		or	(ix+6)
(1) 1587/    8901 : 4F                  		ld	c, a
(1) 1588/    8902 : DD 7E 0B            		ld	a, (ix+0Bh)
(1) 1589/    8905 : E6 20               		and	20h
(1) 1590/    8907 : B1                  		or	c
(1) 1591/    8908 : CD 39 81            		call	WriteFM
(1) 1592/    890B : DD CB 0B A6         		res	4, (ix+0Bh)
(1) 1593/    890F :                     
(1) 1594/    890F :                     ChgChnModeEnd:				; ...
(1) 1595/    890F : C1                  		pop	bc
(1) 1596/    8910 : C9                  		ret	
(1) 1597/    8911 :                     ;****************************************************************************
(1) 1598/    8911 :                     ;Return	value for configuring channel as Rhythm	as indicate
(1) 1599/    8911 :                     
(1) 1600/    8911 :                     PutRhythm:				; ...
(1) 1601/    8911 : D6 06               		sub	6
(1) 1602/    8913 : 47                  		ld	b, a
(1) 1603/    8914 : 3E 10               		ld	a, 10h
(1) 1604/    8916 : C8                  		ret	z
(1) 1605/    8917 : 3A 84 8E            		ld	a, (Rhythm_Mode)
(1) 1606/    891A : 05                  		dec	b
(1) 1607/    891B : 20 03               		jr	nz, PutRhythm1
(1) 1608/    891D : E6 0C               		and	0Ch
(1) 1609/    891F : C9                  		ret	
(1) 1610/    8920 :                     ;****************************************************************************
(1) 1611/    8920 :                     
(1) 1612/    8920 :                     PutRhythm1:				; ...
(1) 1613/    8920 : E6 03               		and	3
(1) 1614/    8922 : C9                  		ret	
(1) 1615/    8923 :                     ;****************************************************************************
(1) 1616/    8923 :                     
(1) 1617/    8923 :                     WriteFrec:				; ...
(1) 1618/    8923 : E5                  		push	hl
(1) 1619/    8924 : 3A FA 8B            		ld	a, (ChannelAct)
(1) 1620/    8927 : FE 80               		cp	80h
(1) 1621/    8929 : 38 05               		jr	c, WFrecPSG
(1) 1622/    892B : DD 66 06            		ld	h, (ix+6)
(1) 1623/    892E : 18 08               		jr	WFrecFM
(1) 1624/    8930 :                     ;****************************************************************************
(1) 1625/    8930 :                     
(1) 1626/    8930 :                     WFrecPSG:				; ...
(1) 1627/    8930 : DD 7E 07            		ld	a, (ix+7)
(1) 1628/    8933 : 87                  		add	a, a
(1) 1629/    8934 : DD B6 06            		or	(ix+6)
(1) 1630/    8937 : 67                  		ld	h, a
(1) 1631/    8938 :                     
(1) 1632/    8938 :                     WFrecFM:				; ...
(1) 1633/    8938 : DD 6E 05            		ld	l, (ix+5)
(1) 1634/    893B : CD 40 89            		call	WriteFrecPar
(1) 1635/    893E : E1                  		pop	hl
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 214 - 8/12/2011 20:51:50


(1) 1636/    893F : C9                  		ret	
(1) 1637/    8940 :                     ;****************************************************************************
(1) 1638/    8940 :                     
(1) 1639/    8940 :                     WriteFrecPar:				; ...
(1) 1640/    8940 : C5                  		push	bc
(1) 1641/    8941 : 3A FA 8B            		ld	a, (ChannelAct)
(1) 1642/    8944 : FE 80               		cp	80h
(1) 1643/    8946 : 38 1D               		jr	c, WriteFrecFM
(1) 1644/    8948 : 47                  		ld	b, a
(1) 1645/    8949 : 3A F6 8B            		ld	a, (MaskSFX)
(1) 1646/    894C : A0                  		and	b
(1) 1647/    894D : 20 3F               		jr	nz, WrtFrecEnd
(1) 1648/    894F : CB 7C               		bit	7, h
(1) 1649/    8951 : 20 0A               		jr	nz, WFrcPSG_Noise
(1) 1650/    8953 : CB 20               		sla	b
(1) 1651/    8955 : 7D                  		ld	a, l
(1) 1652/    8956 : CD 2B 81            		call	WritePSG
(1) 1653/    8959 : 04                  		inc	b
(1) 1654/    895A : 7C                  		ld	a, h
(1) 1655/    895B : 18 03               		jr	WriteFrecPSG1
(1) 1656/    895D :                     ;****************************************************************************
(1) 1657/    895D :                     
(1) 1658/    895D :                     WFrcPSG_Noise:				; ...
(1) 1659/    895D : 06 06               		ld	b, 6
(1) 1660/    895F : 7D                  		ld	a, l
(1) 1661/    8960 :                     
(1) 1662/    8960 :                     WriteFrecPSG1:				; ...
(1) 1663/    8960 : CD 2B 81            		call	WritePSG
(1) 1664/    8963 : 18 29               		jr	WrtFrecEnd
(1) 1665/    8965 :                     ;****************************************************************************
(1) 1666/    8965 :                     
(1) 1667/    8965 :                     WriteFrecFM:				; ...
(1) 1668/    8965 : DD CB 0C 6E         		bit	5, (ix+0Ch)
(1) 1669/    8969 : 28 0F               		jr	z, WrtFrecFM_W	; Is a rhythm channel?
(1) 1670/    896B : FE 07               		cp	7
(1) 1671/    896D : 38 0B               		jr	c, WrtFrecFM_W	; Is one of multiplexed	rhythm channel?
(1) 1672/    896F :                     
(1) 1673/    896F : 3A 84 8E            		ld	a, (Rhythm_Mode)
(1) 1674/    8972 : E6 09               		and	9
(1) 1675/    8974 : 3E 07               		ld	a, 7
(1) 1676/    8976 : 20 02               		jr	nz, WrtFrecFM_W
(1) 1677/    8978 : 3E 08               		ld	a, 8
(1) 1678/    897A :                     
(1) 1679/    897A :                     WrtFrecFM_W:				; ...
(1) 1680/    897A : C6 10               		add	a, 10h		; Write	new frecuency on OPLL chip
(1) 1681/    897C : 47                  		ld	b, a
(1) 1682/    897D : 7D                  		ld	a, l
(1) 1683/    897E : CD 39 81            		call	WriteFM
(1) 1684/    8981 : 78                  		ld	a, b
(1) 1685/    8982 : C6 10               		add	a, 10h
(1) 1686/    8984 : 47                  		ld	b, a
(1) 1687/    8985 : DD 7E 0B            		ld	a, (ix+0Bh)	; Active KEY on	channel
(1) 1688/    8988 : E6 10               		and	10h
(1) 1689/    898A : B4                  		or	h
(1) 1690/    898B : CD 39 81            		call	WriteFM
(1) 1691/    898E :                     
(1) 1692/    898E :                     WrtFrecEnd:				; ...
(1) 1693/    898E : C1                  		pop	bc
(1) 1694/    898F : C9                  		ret	
(1) 1695/    8990 :                     ;****************************************************************************
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 215 - 8/12/2011 20:51:50


(1) 1696/    8990 :                     
(1) 1697/    8990 :                     GetNextOP:				; ...
(1) 1698/    8990 : DD 66 02            		ld	h, (ix+2)
(1) 1699/    8993 : DD 6E 01            		ld	l, (ix+1)
(1) 1700/    8996 : 7E                  		ld	a, (hl)
(1) 1701/    8997 : 23                  		inc	hl
(1) 1702/    8998 : DD 74 02            		ld	(ix+2),	h
(1) 1703/    899B : DD 75 01            		ld	(ix+1),	l
(1) 1704/    899E : C9                  		ret	
(1) 1705/    899F :                     ;****************************************************************************
(1) 1706/    899F :                     
(1) 1707/    899F :                     InitEffect:				; ...
(1) 1708/    899F : DD 7E 17            		ld	a, (ix+17h)
(1) 1709/    89A2 : E6 03               		and	3
(1) 1710/    89A4 : 21 AF 89            		ld	hl, TjmpInitEffect
(1) 1711/    89A7 : CD 36 8B            		call	ADD_HL_A2
(1) 1712/    89AA : 7E                  		ld	a, (hl)
(1) 1713/    89AB : 23                  		inc	hl
(1) 1714/    89AC : 66                  		ld	h, (hl)
(1) 1715/    89AD : 6F                  		ld	l, a
(1) 1716/    89AE : E9                  		jp	(hl)
(1) 1717/    89AF :                     ;****************************************************************************
(1) 1718/    89AF : B7 89               TjmpInitEffect:	dw initSFXF0		; ...
(1) 1719/    89B1 : C2 89               		dw initSFXF1
(1) 1720/    89B3 : F2 89               		dw iniSFXF2
(1) 1721/    89B5 : F2 89               		dw iniSFXF2
(1) 1722/    89B7 :                     ;****************************************************************************
(1) 1723/    89B7 :                     
(1) 1724/    89B7 :                     initSFXF0:				; ...
(1) 1725/    89B7 : AF                  		xor	a
(1) 1726/    89B8 : DD 77 1D            		ld	(ix+1Dh), a
(1) 1727/    89BB : DD 77 1C            		ld	(ix+1Ch), a
(1) 1728/    89BE : DD 77 19            		ld	(ix+19h), a
(1) 1729/    89C1 : C9                  		ret	
(1) 1730/    89C2 :                     ;****************************************************************************
(1) 1731/    89C2 :                     
(1) 1732/    89C2 :                     initSFXF1:				; ...
(1) 1733/    89C2 : DD 7E 18            		ld	a, (ix+18h)
(1) 1734/    89C5 : DD 77 19            		ld	(ix+19h), a
(1) 1735/    89C8 : DD 7E 1B            		ld	a, (ix+1Bh)
(1) 1736/    89CB : DD 77 1D            		ld	(ix+1Dh), a
(1) 1737/    89CE : DD 7E 1A            		ld	a, (ix+1Ah)
(1) 1738/    89D1 : DD 77 1C            		ld	(ix+1Ch), a
(1) 1739/    89D4 :                     
(1) 1740/    89D4 : DD 7E 18            		ld	a, (ix+18h)
(1) 1741/    89D7 : B7                  		or	a
(1) 1742/    89D8 : FA E3 89            		jp	m, InitSFX1_1
(1) 1743/    89DB : DD CB 17 66         		bit	4, (ix+17h)
(1) 1744/    89DF : 20 08               		jr	nz, InitSFX1_2
(1) 1745/    89E1 : 18 0B               		jr	InitSFX1_3
(1) 1746/    89E3 :                     ;****************************************************************************
(1) 1747/    89E3 :                     
(1) 1748/    89E3 :                     InitSFX1_1:				; ...
(1) 1749/    89E3 : DD CB 17 66         		bit	4, (ix+17h)
(1) 1750/    89E7 : 20 05               		jr	nz, InitSFX1_3
(1) 1751/    89E9 :                     
(1) 1752/    89E9 :                     InitSFX1_2:				; ...
(1) 1753/    89E9 : ED 44               		neg	
(1) 1754/    89EB : DD 77 18            		ld	(ix+18h), a
(1) 1755/    89EE :                     
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 216 - 8/12/2011 20:51:50


(1) 1756/    89EE :                     InitSFX1_3:				; ...
(1) 1757/    89EE : DD 77 19            		ld	(ix+19h), a
(1) 1758/    89F1 : C9                  		ret	
(1) 1759/    89F2 :                     ;****************************************************************************
(1) 1760/    89F2 :                     
(1) 1761/    89F2 :                     iniSFXF2:				; ...
(1) 1762/    89F2 : CD B7 89            		call	initSFXF0
(1) 1763/    89F5 : DD 7E 18            		ld	a, (ix+18h)
(1) 1764/    89F8 : B7                  		or	a
(1) 1765/    89F9 : FA 03 8A            		jp	m, InitSFX2_1
(1) 1766/    89FC : DD CB 17 66         		bit	4, (ix+17h)
(1) 1767/    8A00 : 20 06               		jr	nz, InitSFX2_2
(1) 1768/    8A02 : C9                  		ret	
(1) 1769/    8A03 :                     ;****************************************************************************
(1) 1770/    8A03 :                     
(1) 1771/    8A03 :                     InitSFX2_1:				; ...
(1) 1772/    8A03 : DD CB 17 66         		bit	4, (ix+17h)
(1) 1773/    8A07 : C0                  		ret	nz
(1) 1774/    8A08 :                     
(1) 1775/    8A08 :                     InitSFX2_2:				; ...
(1) 1776/    8A08 : ED 44               		neg	
(1) 1777/    8A0A : DD 77 18            		ld	(ix+18h), a
(1) 1778/    8A0D : DD 66 1B            		ld	h, (ix+1Bh)
(1) 1779/    8A10 : DD 6E 1A            		ld	l, (ix+1Ah)
(1) 1780/    8A13 : CD 2A 8B            		call	NegHL
(1) 1781/    8A16 : DD 74 1B            		ld	(ix+1Bh), h
(1) 1782/    8A19 : DD 75 1A            		ld	(ix+1Ah), l
(1) 1783/    8A1C : C9                  		ret	
(1) 1784/    8A1D :                     ;****************************************************************************
(1) 1785/    8A1D :                     ;This routine makes all	actions	necesary for effect command on each decodification of channell
(1) 1786/    8A1D :                     
(1) 1787/    8A1D :                     PlayEffect:				; ...
(1) 1788/    8A1D : DD 7E 17            		ld	a, (ix+17h)
(1) 1789/    8A20 : B7                  		or	a
(1) 1790/    8A21 : F0                  		ret	p
(1) 1791/    8A22 :                     
(1) 1792/    8A22 : CB 77               		bit	6, a
(1) 1793/    8A24 : 28 0B               		jr	z, PlayEffectJ	; Is it	necessary init effect?
(1) 1794/    8A26 :                     
(1) 1795/    8A26 : DD 35 1C            		dec	(ix+1Ch)
(1) 1796/    8A29 : C0                  		ret	nz
(1) 1797/    8A2A : CD 9F 89            		call	InitEffect
(1) 1798/    8A2D : DD CB 17 B6         		res	6, (ix+17h)
(1) 1799/    8A31 :                     
(1) 1800/    8A31 :                     PlayEffectJ:				; ...
(1) 1801/    8A31 : DD 7E 17            		ld	a, (ix+17h)
(1) 1802/    8A34 : E6 03               		and	3
(1) 1803/    8A36 : 21 41 8A            		ld	hl, TblPlaySFX
(1) 1804/    8A39 : CD 36 8B            		call	ADD_HL_A2
(1) 1805/    8A3C : 7E                  		ld	a, (hl)
(1) 1806/    8A3D : 23                  		inc	hl
(1) 1807/    8A3E : 66                  		ld	h, (hl)
(1) 1808/    8A3F : 6F                  		ld	l, a
(1) 1809/    8A40 : E9                  		jp	(hl)
(1) 1810/    8A41 :                     ;****************************************************************************
(1) 1811/    8A41 :                     
(1) 1812/    8A41 : 49 8A               TblPlaySFX:	dw PlaySFXF0		; ...
(1) 1813/    8A43 : 72 8A               		dw PlaySFXF1
(1) 1814/    8A45 : 95 8A               		dw PlaySFXF2
(1) 1815/    8A47 : 95 8A               		dw PlaySFXF2
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 217 - 8/12/2011 20:51:50


(1) 1816/    8A49 :                     ;****************************************************************************
(1) 1817/    8A49 :                     
(1) 1818/    8A49 :                     PlaySFXF0:				; ...
(1) 1819/    8A49 : DD 7E 1C            		ld	a, (ix+1Ch)
(1) 1820/    8A4C : DD 86 1A            		add	a, (ix+1Ah)
(1) 1821/    8A4F : 6F                  		ld	l, a
(1) 1822/    8A50 : DD 7E 1D            		ld	a, (ix+1Dh)
(1) 1823/    8A53 : DD 8E 1B            		adc	a, (ix+1Bh)
(1) 1824/    8A56 : 67                  		ld	h, a
(1) 1825/    8A57 : CD 14 8B            		call	CompareS
(1) 1826/    8A5A : 30 08               		jr	nc, PlaySFX0_1
(1) 1827/    8A5C : DD 66 18            		ld	h, (ix+18h)
(1) 1828/    8A5F : 2E 00               		ld	l, 0
(1) 1829/    8A61 : CD 2A 8B            		call	NegHL
(1) 1830/    8A64 :                     
(1) 1831/    8A64 :                     PlaySFX0_1:				; ...
(1) 1832/    8A64 : 7C                  		ld	a, h
(1) 1833/    8A65 : DD BE 19            		cp	(ix+19h)	; call only if value has change
(1) 1834/    8A68 : C4 CF 8A            		call	nz, ApplyEffect
(1) 1835/    8A6B : DD 74 1D            		ld	(ix+1Dh), h
(1) 1836/    8A6E : DD 75 1C            		ld	(ix+1Ch), l
(1) 1837/    8A71 : C9                  		ret	
(1) 1838/    8A72 :                     ;****************************************************************************
(1) 1839/    8A72 :                     
(1) 1840/    8A72 :                     PlaySFXF1:				; ...
(1) 1841/    8A72 : DD 6E 1C            		ld	l, (ix+1Ch)
(1) 1842/    8A75 : DD 66 1D            		ld	h, (ix+1Dh)
(1) 1843/    8A78 : 2B                  		dec	hl
(1) 1844/    8A79 : 7C                  		ld	a, h
(1) 1845/    8A7A : B5                  		or	l
(1) 1846/    8A7B : 20 11               		jr	nz, PlaySFX1_1
(1) 1847/    8A7D : DD 7E 18            		ld	a, (ix+18h)
(1) 1848/    8A80 : ED 44               		neg	
(1) 1849/    8A82 : DD 77 18            		ld	(ix+18h), a
(1) 1850/    8A85 : CD CF 8A            		call	ApplyEffect
(1) 1851/    8A88 : DD 66 1B            		ld	h, (ix+1Bh)
(1) 1852/    8A8B : DD 6E 1A            		ld	l, (ix+1Ah)
(1) 1853/    8A8E :                     
(1) 1854/    8A8E :                     PlaySFX1_1:				; ...
(1) 1855/    8A8E : DD 75 1C            		ld	(ix+1Ch), l
(1) 1856/    8A91 : DD 74 1D            		ld	(ix+1Dh), h
(1) 1857/    8A94 : C9                  		ret	
(1) 1858/    8A95 :                     ;****************************************************************************
(1) 1859/    8A95 :                     
(1) 1860/    8A95 :                     PlaySFXF2:				; ...
(1) 1861/    8A95 : DD 7E 1C            		ld	a, (ix+1Ch)
(1) 1862/    8A98 : DD 86 1A            		add	a, (ix+1Ah)
(1) 1863/    8A9B : 6F                  		ld	l, a
(1) 1864/    8A9C : DD 7E 1D            		ld	a, (ix+1Dh)
(1) 1865/    8A9F : DD 8E 1B            		adc	a, (ix+1Bh)
(1) 1866/    8AA2 : 67                  		ld	h, a
(1) 1867/    8AA3 : CD 14 8B            		call	CompareS
(1) 1868/    8AA6 : 30 19               		jr	nc, PlaySFX2_1
(1) 1869/    8AA8 : EB                  		ex	de, hl
(1) 1870/    8AA9 : DD 7E 18            		ld	a, (ix+18h)
(1) 1871/    8AAC : ED 44               		neg	
(1) 1872/    8AAE : DD 77 18            		ld	(ix+18h), a
(1) 1873/    8AB1 : DD 66 1B            		ld	h, (ix+1Bh)
(1) 1874/    8AB4 : DD 6E 1A            		ld	l, (ix+1Ah)
(1) 1875/    8AB7 : CD 2A 8B            		call	NegHL
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 218 - 8/12/2011 20:51:50


(1) 1876/    8ABA : DD 75 1A            		ld	(ix+1Ah), l
(1) 1877/    8ABD : DD 74 1B            		ld	(ix+1Bh), h
(1) 1878/    8AC0 : EB                  		ex	de, hl
(1) 1879/    8AC1 :                     
(1) 1880/    8AC1 :                     PlaySFX2_1:				; ...
(1) 1881/    8AC1 : 7C                  		ld	a, h
(1) 1882/    8AC2 : DD BE 19            		cp	(ix+19h)
(1) 1883/    8AC5 : C4 CF 8A            		call	nz, ApplyEffect
(1) 1884/    8AC8 : DD 75 1C            		ld	(ix+1Ch), l
(1) 1885/    8ACB : DD 74 1D            		ld	(ix+1Dh), h
(1) 1886/    8ACE : C9                  		ret	
(1) 1887/    8ACF :                     ;****************************************************************************
(1) 1888/    8ACF :                     
(1) 1889/    8ACF :                     ApplyEffect:				; ...
(1) 1890/    8ACF : E5                  		push	hl
(1) 1891/    8AD0 : DD 77 19            		ld	(ix+19h), a
(1) 1892/    8AD3 : DD CB 17 5E         		bit	3, (ix+17h)	; Is volumen or	frecuency effect?
(1) 1893/    8AD7 : 20 17               		jr	nz, FrecSFX
(1) 1894/    8AD9 :                     
(1) 1895/    8AD9 : DD 86 09            		add	a, (ix+9)	; Volumen effect
(1) 1896/    8ADC : 47                  		ld	b, a
(1) 1897/    8ADD : 3A FA 8B            		ld	a, (ChannelAct)
(1) 1898/    8AE0 : FE 80               		cp	80h
(1) 1899/    8AE2 : 78                  		ld	a, b
(1) 1900/    8AE3 : 38 04               		jr	c, VolSFX_FM
(1) 1901/    8AE5 :                     
(1) 1902/    8AE5 : FE 10               		cp	10h
(1) 1903/    8AE7 : 18 02               		jr	VolSFX_W
(1) 1904/    8AE9 :                     ;****************************************************************************
(1) 1905/    8AE9 :                     
(1) 1906/    8AE9 :                     VolSFX_FM:				; ...
(1) 1907/    8AE9 : FE 80               		cp	80h
(1) 1908/    8AEB :                     
(1) 1909/    8AEB :                     VolSFX_W:				; ...
(1) 1910/    8AEB : DC 89 87            		call	c, WriteVol	; Write	new volumen if there is	in adecuate range
(1) 1911/    8AEE : E1                  		pop	hl
(1) 1912/    8AEF : C9                  		ret	
(1) 1913/    8AF0 :                     ;****************************************************************************
(1) 1914/    8AF0 :                     
(1) 1915/    8AF0 :                     FrecSFX:				; ...
(1) 1916/    8AF0 : 6F                  		ld	l, a		; frecuency effect
(1) 1917/    8AF1 : E6 80               		and	80h
(1) 1918/    8AF3 : 28 02               		jr	z, FrecSFX1
(1) 1919/    8AF5 : 3E FF               		ld	a, 0FFh		; If is	a negative number then expand sign
(1) 1920/    8AF7 :                     
(1) 1921/    8AF7 :                     FrecSFX1:				; ...
(1) 1922/    8AF7 : 67                  		ld	h, a
(1) 1923/    8AF8 : DD 7E 05            		ld	a, (ix+5)
(1) 1924/    8AFB : 85                  		add	a, l
(1) 1925/    8AFC : 6F                  		ld	l, a
(1) 1926/    8AFD : DD 7E 06            		ld	a, (ix+6)
(1) 1927/    8B00 : 8C                  		adc	a, h
(1) 1928/    8B01 : 67                  		ld	h, a
(1) 1929/    8B02 :                     
(1) 1930/    8B02 : 3A FA 8B            		ld	a, (ChannelAct)
(1) 1931/    8B05 : FE 80               		cp	80h
(1) 1932/    8B07 : 30 06               		jr	nc, FrecSFX_W
(1) 1933/    8B09 : DD 7E 07            		ld	a, (ix+7)	; if is	a FM channel is	necesary add octave
(1) 1934/    8B0C : 87                  		add	a, a		; shift	one position
(1) 1935/    8B0D : B4                  		or	h		; and add lsb of frecuency
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 219 - 8/12/2011 20:51:50


(1) 1936/    8B0E : 67                  		ld	h, a
(1) 1937/    8B0F :                     
(1) 1938/    8B0F :                     FrecSFX_W:				; ...
(1) 1939/    8B0F : CD 40 89            		call	WriteFrecPar
(1) 1940/    8B12 : E1                  		pop	hl
(1) 1941/    8B13 : C9                  		ret	
(1) 1942/    8B14 :                     ;****************************************************************************
(1) 1943/    8B14 :                     ;Output: C -> 0	if ix+24 is maior than h
(1) 1944/    8B14 :                     
(1) 1945/    8B14 :                     CompareS:				; ...
(1) 1946/    8B14 : DD CB 18 7E         		bit	7, (ix+18h)
(1) 1947/    8B18 : 20 09               		jr	nz, CompareS1
(1) 1948/    8B1A : 7C                  		ld	a, h
(1) 1949/    8B1B : B7                  		or	a
(1) 1950/    8B1C : F8                  		ret	m
(1) 1951/    8B1D : DD 96 18            		sub	(ix+18h)
(1) 1952/    8B20 : C8                  		ret	z
(1) 1953/    8B21 : 3F                  		ccf	
(1) 1954/    8B22 : C9                  		ret	
(1) 1955/    8B23 :                     ;****************************************************************************
(1) 1956/    8B23 :                     
(1) 1957/    8B23 :                     CompareS1:				; ...
(1) 1958/    8B23 : 7C                  		ld	a, h
(1) 1959/    8B24 : B7                  		or	a
(1) 1960/    8B25 : F0                  		ret	p
(1) 1961/    8B26 : DD 96 18            		sub	(ix+18h)
(1) 1962/    8B29 : C9                  		ret	
(1) 1963/    8B2A :                     ;****************************************************************************
(1) 1964/    8B2A :                     
(1) 1965/    8B2A :                     NegHL:					; ...
(1) 1966/    8B2A : 7C                  		ld	a, h
(1) 1967/    8B2B : 2F                  		cpl	
(1) 1968/    8B2C : 67                  		ld	h, a
(1) 1969/    8B2D : 7D                  		ld	a, l
(1) 1970/    8B2E : 2F                  		cpl	
(1) 1971/    8B2F : 6F                  		ld	l, a
(1) 1972/    8B30 : 23                  		inc	hl
(1) 1973/    8B31 : C9                  		ret	
(1) 1974/    8B32 :                     ;****************************************************************************
(1) 1975/    8B32 :                     
(1) 1976/    8B32 :                     
(1) 1977/    8B32 :                     
(1) 1978/    8B32 :                     ADD_HL_A4:				; ...
(1) 1979/    8B32 : 87                  		add	a, a
(1) 1980/    8B33 : 30 01               		jr	nc, ADD_HL_A2
(1) 1981/    8B35 : 24                  		inc	h
(1) 1982/    8B36 :                     
(1) 1983/    8B36 :                     ADD_HL_A2:				; ...
(1) 1984/    8B36 : 87                  		add	a, a
(1) 1985/    8B37 : 30 01               		jr	nc, ADD_HL
(1) 1986/    8B39 : 24                  		inc	h
(1) 1987/    8B3A :                     
(1) 1988/    8B3A :                     ADD_HL:					; ...
(1) 1989/    8B3A : 85                  		add	a, l
(1) 1990/    8B3B : 30 01               		jr	nc, loc_0_8A22
(1) 1991/    8B3D : 24                  		inc	h
(1) 1992/    8B3E :                     
(1) 1993/    8B3E :                     loc_0_8A22:				; ...
(1) 1994/    8B3E : 6F                  		ld	l, a
(1) 1995/    8B3F : C9                  		ret	
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 220 - 8/12/2011 20:51:50


(1) 1996/    8B40 :                     ;****************************************************************************
(1) 1997/    8B40 :                     
(1) 1998/    8B40 :                     MulHL_DE:				; ...
(1) 1999/    8B40 : C5                  		push	bc
(1) 2000/    8B41 : 4B                  		ld	c, e
(1) 2001/    8B42 : 42                  		ld	b, d
(1) 2002/    8B43 : EB                  		ex	de, hl
(1) 2003/    8B44 : 21 00 00            		ld	hl, 0
(1) 2004/    8B47 :                     
(1) 2005/    8B47 :                     MUL1:					; ...
(1) 2006/    8B47 : CB 38               		srl	b
(1) 2007/    8B49 : CB 19               		rr	c
(1) 2008/    8B4B : 30 01               		jr	nc, Mul2
(1) 2009/    8B4D : 19                  		add	hl, de
(1) 2010/    8B4E :                     
(1) 2011/    8B4E :                     Mul2:					; ...
(1) 2012/    8B4E : CB 23               		sla	e
(1) 2013/    8B50 : CB 12               		rl	d
(1) 2014/    8B52 : 78                  		ld	a, b
(1) 2015/    8B53 : B1                  		or	c
(1) 2016/    8B54 : 20 F1               		jr	nz, MUL1
(1) 2017/    8B56 : C1                  		pop	bc
(1) 2018/    8B57 : C9                  		ret	
(1) 2019/    8B58 :                     ;****************************************************************************
(1) 2020/    8B58 : AA 00 FC 1A AC 00   table_note:	db 0AAh, 0, 0FCh, 1Ah,	0ACh, 0, 0B7h, 1Ah; ...
                    B7 1A 
(1) 2021/    8B60 : AD 00 73 1A B4 00   		db 0ADh, 0, 73h, 1Ah, 0B4h, 0,	7Ah, 19h
                    7A 19 
(1) 2022/    8B68 : B6 00 39 19 B7 00   		db 0B6h, 0, 39h, 19h, 0B7h, 0,	0F9h, 18h
                    F9 18 
(1) 2023/    8B70 : BE 00 14 18 C0 00   		db 0BEh, 0, 14h, 18h, 0C0h, 0,	0D6h, 17h
                    D6 17 
(1) 2024/    8B78 : C2 00 9A 17 CA 00   		db 0C2h, 0, 9Ah, 17h, 0CAh, 0,	0B3h, 16h
                    B3 16 
(1) 2025/    8B80 : CC 00 79 16 CE 00   		db 0CCh, 0, 79h, 16h, 0CEh, 0,	40h, 16h
                    40 16 
(1) 2026/    8B88 : D6 00 6D 15 D8 00   		db 0D6h, 0, 6Dh, 15h, 0D8h, 0,	36h, 15h
                    36 15 
(1) 2027/    8B90 : DA 00 00 15 E3 00   		db 0DAh, 0, 0,	15h, 0E3h, 0, 39h, 14h,	0E5h
                    39 14 E5 
(1) 2028/    8B99 : 00 05 14 E7 00 D3   		db 0, 5, 14h, 0E7h, 0,	0D3h, 13h, 0F0h
                    13 F0 
(1) 2029/    8BA1 : 00 16 13 F2 00 E5   		db 0, 16h, 13h, 0F2h, 0, 0E5h,	12h, 0F5h
                    12 F5 
(1) 2030/    8BA9 : 00 B5 12 FE 00 04   		db 0, 0B5h, 12h, 0FEh,	0, 4, 12h, 1, 1
                    12 01 01 
(1) 2031/    8BB2 : D6 11 03 01 A9 11   		db 0D6h, 11h, 3, 1, 0A9h, 11h,	0Dh, 1,	1
                    0D 01 01 
(1) 2032/    8BBB : 11 10 01 D6 10 13   		db 11h, 10h, 1, 0D6h, 10h, 13h, 1, 0ABh
                    01 AB 
(1) 2033/    8BC3 : 10 1D 01 0D 10 20   		db 10h, 1Dh, 1, 0Dh, 10h, 20h,	1, 0E4h
                    01 E4 
(1) 2034/    8BCB : 0F 23 01 BB 0F 2E   		db 0Fh, 23h, 1, 0BBh, 0Fh, 2Eh, 1, 26h
                    01 26 
(1) 2035/    8BD3 : 0F 32 01 FF 0E 35   		db 0Fh, 32h, 1, 0FFh, 0Eh, 35h, 1, 0D9h
                    01 D9 
(1) 2036/    8BDB : 0E 40 01 4C 0E 44   		db 0Eh, 40h, 1, 4Ch, 0Eh, 44h,	1, 28h,	0Eh
                    01 28 0E 
(1) 2037/    8BE4 : 47 01 04 0E         		db 47h, 1, 4, 0Eh
(1) 2038/    8BE8 : 1C 91               ptable_adsr:	dw Table_adsr		; ...
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 221 - 8/12/2011 20:51:50


(1) 2039/    8BEA : 4C 91               ptable_vib:	dw Table_vib		; ...
(1) 2040/    8BEC : 7C 91               ptable_effect:	dw Table_effect	; ...
(1) 2041/    8BEE : FC 91               ptable_fmins:	dw Table_fmins		; ...
(1) 2042/    8BF0 : 00                  ChannelOFF:	db 0			; ...
(1) 2043/    8BF1 : 00                  TimeLastChn:	db 0			; ...
(1) 2044/    8BF2 : 00                  FadeOutRest:	db 0			; ...
(1) 2045/    8BF3 :                     					; 80h allow decodification follow on silence
(1) 2046/    8BF3 : 00                  SilenceFlag:	db 0			; ...
(1) 2047/    8BF4 :                     					; Flag that indicate that driver is on silence mode
(1) 2048/    8BF4 : 00                  SONG_ON:	db 0			; ...
(1) 2049/    8BF5 : 00                  SFX_ON:		db 0			; ...
(1) 2050/    8BF6 : 00                  MaskSFX:	db 0			; ...
(1) 2051/    8BF7 :                     					; Used for inhibit PSG1	and PSG2 when a	SFX is playing
(1) 2052/    8BF7 : 00                  FadeContAct:	db 0			; ...
(1) 2053/    8BF8 :                     					; Cont number of ints sinde last change	volumen	make for fade routine
(1) 2054/    8BF8 : 00                  FadeNumPass:	db 0			; ...
(1) 2055/    8BF9 :                     					; Cont Number of volumen changes for Fade routine
(1) 2056/    8BF9 : 00                  FadeCtl:	db 0			; ...
(1) 2057/    8BFA : 08                  ChannelAct:	db 8			; ...
(1) 2058/    8BFB : BF                  ShdPSG_7:	db 0BFh		; ...
(1) 2059/    8BFC : 00                  FM_InstSoft:	db 0			; ...
(1) 2060/    8BFD :                     					; Number of soft FM define
(1) 2061/    8BFD : 00 00 00 00 00 00   ChnSFXPSG1:	db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0; ...
                    00 00 00 00 00 00 
                    00 
(1) 2062/    8C0A : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0; PSG1
                    00 00 00 00 00 00 
                    00 
(1) 2063/    8C17 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0
                    00 00 00 00 00 00 
                    00 
(1) 2064/    8C24 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0
                    00 
(1) 2065/    8C2B : 00 00 00 00 00 00   ChnSFXPSG2:	db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0; PSG2
                    00 00 00 00 00 00 
                    00 
(1) 2066/    8C38 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0
                    00 00 00 00 00 00 
                    00 
(1) 2067/    8C45 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0
                    00 00 00 00 00 00 
                    00 
(1) 2068/    8C52 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0
                    00 
(1) 2069/    8C59 : 00 00 00 00 00 00   ChnTblSong:	db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0A0h; ...
                    00 00 00 00 00 00 
                    A0 
(1) 2070/    8C66 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0; PSG0
                    00 00 00 00 00 00 
                    00 
(1) 2071/    8C73 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0
                    00 00 00 00 00 00 
                    00 
(1) 2072/    8C80 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0
                    00 
(1) 2073/    8C87 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0A0h; PSG1
                    00 00 00 00 00 00 
                    A0 
(1) 2074/    8C94 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0
                    00 00 00 00 00 00 
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 222 - 8/12/2011 20:51:50


                    00 
(1) 2075/    8CA1 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0
                    00 00 00 00 00 00 
                    00 
(1) 2076/    8CAE : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0
                    00 
(1) 2077/    8CB5 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0A0h; PSG2
                    00 00 00 00 00 00 
                    A0 
(1) 2078/    8CC2 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0
                    00 00 00 00 00 00 
                    00 
(1) 2079/    8CCF : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0
                    00 00 00 00 00 00 
                    00 
(1) 2080/    8CDC : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0
                    00 
(1) 2081/    8CE3 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0; FM0
                    00 00 00 00 00 00 
                    00 
(1) 2082/    8CF0 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0
                    00 00 00 00 00 00 
                    00 
(1) 2083/    8CFD : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0
                    00 00 00 00 00 00 
                    00 
(1) 2084/    8D0A : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0
                    00 
(1) 2085/    8D11 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0; FM1
                    00 00 00 00 00 00 
                    00 
(1) 2086/    8D1E : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0
                    00 00 00 00 00 00 
                    00 
(1) 2087/    8D2B : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0
                    00 00 00 00 00 00 
                    00 
(1) 2088/    8D38 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0
                    00 
(1) 2089/    8D3F : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0; FM2
                    00 00 00 00 00 00 
                    00 
(1) 2090/    8D4C : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0
                    00 00 00 00 00 00 
                    00 
(1) 2091/    8D59 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0
                    00 00 00 00 00 00 
                    00 
(1) 2092/    8D66 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0
                    00 
(1) 2093/    8D6D : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0; FM3
                    00 00 00 00 00 00 
                    00 
(1) 2094/    8D7A : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0
                    00 00 00 00 00 00 
                    00 
(1) 2095/    8D87 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0
                    00 00 00 00 00 00 
                    00 
(1) 2096/    8D94 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 223 - 8/12/2011 20:51:50


                    00 
(1) 2097/    8D9B : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0; FM4
                    00 00 00 00 00 00 
                    00 
(1) 2098/    8DA8 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0
                    00 00 00 00 00 00 
                    00 
(1) 2099/    8DB5 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0
                    00 00 00 00 00 00 
                    00 
(1) 2100/    8DC2 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0
                    00 
(1) 2101/    8DC9 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0; FM5
                    00 00 00 00 00 00 
                    00 
(1) 2102/    8DD6 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0
                    00 00 00 00 00 00 
                    00 
(1) 2103/    8DE3 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0
                    00 00 00 00 00 00 
                    00 
(1) 2104/    8DF0 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0
                    00 
(1) 2105/    8DF7 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	20h; FM6
                    00 00 00 00 00 00 
                    20 
(1) 2106/    8E04 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0
                    00 00 00 00 00 00 
                    00 
(1) 2107/    8E11 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0
                    00 00 00 00 00 00 
                    00 
(1) 2108/    8E1E : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0
                    00 
(1) 2109/    8E25 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	20h; FM7
                    00 00 00 00 00 00 
                    20 
(1) 2110/    8E32 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0
                    00 00 00 00 00 00 
                    00 
(1) 2111/    8E3F : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0
                    00 00 00 00 00 00 
                    00 
(1) 2112/    8E4C : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0
                    00 
(1) 2113/    8E53 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	20h; FM8
                    00 00 00 00 00 00 
                    20 
(1) 2114/    8E60 : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0
                    00 00 00 00 00 00 
                    00 
(1) 2115/    8E6D : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0, 0, 0, 0, 0, 0,	0
                    00 00 00 00 00 00 
                    00 
(1) 2116/    8E7A : 00 00 00 00 00 00   		db 0, 0, 0, 0,	0, 0, 0
                    00 
(1) 2117/    8E81 : 00                  		db 0
(1) 2118/    8E82 : 00                  		db 0
(1) 2119/    8E83 : 20                  ShdFM_E:	db 20h			; ...
(1) 2120/    8E84 : 09                  Rhythm_Mode:	db 9			; ...
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 224 - 8/12/2011 20:51:50


(1) 2121/    8E85 :                     					; Indicate Rhythm instrument configuration (b0-b4 0=OFF	1=ON)
(1) 2122/    8E85 : 00                  HH_VOL:		db 0			; ...
(1) 2123/    8E86 :                     					; Volumen of FM	HD instrument
(1) 2124/    8E86 : 00                  SD_VOL:		db 0			; ...
(1) 2125/    8E87 :                     					; Volumen of FM	SD instrument
(1) 2126/    8E87 : 4B                  NumDecInt:	db 4Bh			; ...
(1) 2127/    8E88 :                     					; Multipli of #4b does some iteration of main loop of decodification on	each interrupt
(1) 2128/    8E88 : 00                  NumDecLeft:	db 0			; ...
(1) 2129/    8E89 :                     					; Number of units of decodification that remaining from	last interrupt calling
(1) 2130/    8E89 : FF 00 FF FF 00 FF   ShadowVars:	db 0FFh, 0, 0FFh, 0FFh, 0, 0FFh, 0, 0,	0FFh; ...
                    00 00 FF 
(1) 2131/    8E92 : 00 FF FF 00 FF 00   		db 0, 0FFh, 0FFh, 0, 0FFh, 0, 0, 0FFh,	0
                    00 FF 00 
(1) 2132/    8E9B : FB FF 00 FF 00 00   		db 0FBh, 0FFh,	0, 0FFh, 0, 0, 0EFh, 0,	0FFh
                    EF 00 FF 
(1) 2133/    8EA4 : FF 00 FF 00 00 DF   		db 0FFh, 0, 0FFh, 0, 0, 0DFh, 0, 7Fh, 0FFh
                    00 7F FF 
(1) 2134/    8EAD : 00 FF 00 00 FF 00   		db 0, 0FFh, 0,	0, 0FFh, 0, 0FFh, 0FFh,	0
                    FF FF 00 
(1) 2135/    8EB6 : FF 90 00 FF 00 FF   		db 0FFh, 90h, 0, 0FFh,	0, 0FFh, 0FFh, 0
                    FF 00 
(1) 2136/    8EBE : FF 00 00 FF 00 FF   		db 0FFh, 0, 0,	0FFh, 0, 0FFh, 0FFh, 0,	0FFh
                    FF 00 FF 
(1) 2137/    8EC7 : 00 00 FF 00 FF FF   		db 0, 0, 0FFh,	0, 0FFh, 0FFh, 0, 0FFh,	0
                    00 FF 00 
(1) 2138/    8ED0 : 00 FF 00 FF FF 80   		db 0, 0FFh, 0,	0FFh, 0FFh, 80h, 0FFh, 0
                    FF 00 
(1) 2139/    8ED8 : 00 FF 00 8F FF 00   		db 0, 0FFh, 0,	8Fh, 0FFh, 0, 0FFh, 0, 0
                    FF 00 00 
(1) 2140/    8EE1 : FF 00 FF FF 00 FF   		db 0FFh, 0, 0FFh, 0FFh, 0, 0FFh, 0, 0,	0FFh
                    00 00 FF 
(1) 2141/    8EEA : 00 7F FF 00 FF 00   		db 0, 7Fh, 0FFh, 0, 0FFh, 0, 0, 0FFh, 0
                    00 FF 00 
(1) 2142/    8EF3 : FF FF 00 FF 00 00   		db 0FFh, 0FFh,	0, 0FFh, 0, 0, 0FFh, 0,	0FFh
                    FF 00 FF 
(1) 2143/    8EFC : FF 00 FF 00 00 FF   		db 0FFh, 0, 0FFh, 0, 0, 0FFh, 0, 0FFh,	0FFh
                    00 FF FF 
(1) 2144/    8F05 : 00 FF 00 00 FF 00   		db 0, 0FFh, 0,	0, 0FFh, 0, 0FFh, 0FFh,	0
                    FF FF 00 
(1) 2145/    8F0E : FF 00 00 FF 00 FF   		db 0FFh, 0, 0,	0FFh, 0, 0FFh, 0FFh, 0,	0FFh
                    FF 00 FF 
(1) 2146/    8F17 : 00 00 FF 00 FF 7F   		db 0, 0, 0FFh,	0, 0FFh, 7Fh, 0, 0FFh, 0
                    00 FF 00 
(1) 2147/    8F20 : 00 FF 00 FF FF 00   		db 0, 0FFh, 0,	0FFh, 0FFh, 0, 0FFh, 0,	0
                    FF 00 00 
(1) 2148/    8F29 : FF 00 FF FF 00 FF   		db 0FFh, 0, 0FFh, 0FFh, 0, 0FFh, 0, 0,	0FFh
                    00 00 FF 
(1) 2149/    8F32 : 00 FF FF 00 FF 00   		db 0, 0FFh, 0FFh, 0, 0FFh, 0, 0, 0FFh,	0
                    00 FF 00 
(1) 2150/    8F3B : FF FF 00 FF 00 00   		db 0FFh, 0FFh,	0, 0FFh, 0, 0, 0FFh, 0,	0FFh
                    FF 00 FF 
(1) 2151/    8F44 : FF 00 FF 00 00 FF   		db 0FFh, 0, 0FFh, 0, 0, 0FFh, 0, 0FFh,	0FFh
                    00 FF FF 
(1) 2152/    8F4D : 00 FF 00 00 FF 00   		db 0, 0FFh, 0,	0, 0FFh, 0, 0FFh, 0FFh,	0
                    FF FF 00 
(1) 2153/    8F56 : FF 00 00 FF 00 FF   		db 0FFh, 0, 0,	0FFh, 0, 0FFh, 0FFh, 0,	0FFh
                    FF 00 FF 
(1) 2154/    8F5F : 00 00 FF 00 FF FF   		db 0, 0, 0FFh,	0, 0FFh, 0FFh, 0, 0FFh,	0
                    00 FF 00 
(1) 2155/    8F68 : 00 FF 00 FF FF 00   		db 0, 0FFh, 0,	0FFh, 0FFh, 0, 0FFh, 0,	0
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 225 - 8/12/2011 20:51:50


                    FF 00 00 
(1) 2156/    8F71 : FF 00 FF FF 00 FF   		db 0FFh, 0, 0FFh, 0FFh, 0, 0FFh, 0, 0,	0FFh
                    00 00 FF 
(1) 2157/    8F7A : 00 FF FF 00 FF 00   		db 0, 0FFh, 0FFh, 0, 0FFh, 0, 0, 0FFh,	0
                    00 FF 00 
(1) 2158/    8F83 : FF FF 00 FF 00 00   		db 0FFh, 0FFh,	0, 0FFh, 0, 0, 0FFh, 0,	0FFh
                    FF 00 FF 
(1) 2159/    8F8C : FF 00 FF 00 00 FF   		db 0FFh, 0, 0FFh, 0, 0, 0FFh, 0, 0FFh,	0FFh
                    00 FF FF 
(1) 2160/    8F95 : 00 FF 00 00 FF 00   		db 0, 0FFh, 0,	0, 0FFh, 0, 0FFh, 0FFh,	0
                    FF FF 00 
(1) 2161/    8F9E : FF 00 00 FF 00 FF   		db 0FFh, 0, 0,	0FFh, 0, 0FFh, 0FFh, 0,	0FFh
                    FF 00 FF 
(1) 2162/    8FA7 : 00 00 FF 00 FF FF   		db 0, 0, 0FFh,	0, 0FFh, 0FFh, 0, 0FFh,	0
                    00 FF 00 
(1) 2163/    8FB0 : 00 FF 00 FF FF 00   		db 0, 0FFh, 0,	0FFh, 0FFh, 0, 0FFh, 0,	0
                    FF 00 00 
(1) 2164/    8FB9 : FF 00 FF FF 00 FF   		db 0FFh, 0, 0FFh, 0FFh, 0, 0FFh, 0, 0,	0FFh
                    00 00 FF 
(1) 2165/    8FC2 : 00 FF FF 00 FF 00   		db 0, 0FFh, 0FFh, 0, 0FFh, 0, 0, 0FFh,	0
                    00 FF 00 
(1) 2166/    8FCB : FF FF 00 FF 00 00   		db 0FFh, 0FFh,	0, 0FFh, 0, 0, 0FFh, 0,	0FFh
                    FF 00 FF 
(1) 2167/    8FD4 : FF 00 FF 00 00 FF   		db 0FFh, 0, 0FFh, 0, 0, 0FFh, 0, 0FFh,	0FFh
                    00 FF FF 
(1) 2168/    8FDD : 00 FF 00 00 FF 00   		db 0, 0FFh, 0,	0, 0FFh, 0, 0FFh, 0FFh,	0
                    FF FF 00 
(1) 2169/    8FE6 : FF 00 00 FF 00 FF   		db 0FFh, 0, 0,	0FFh, 0, 0FFh, 0FFh, 0,	0FFh
                    FF 00 FF 
(1) 2170/    8FEF : 00 00 FF 00 FF FF   		db 0, 0, 0FFh,	0, 0FFh, 0FFh, 0, 0FFh,	0
                    00 FF 00 
(1) 2171/    8FF8 : 00 FF 00 FF FF 00   		db 0, 0FFh, 0,	0FFh, 0FFh, 0, 0FFh, 0,	0
                    FF 00 00 
(1) 2172/    9001 : FF 00 FF FF 00 FF   		db 0FFh, 0, 0FFh, 0FFh, 0, 0FFh, 0, 0,	0FFh
                    00 00 FF 
(1) 2173/    900A : 00 FF FF 00 FF 00   		db 0, 0FFh, 0FFh, 0, 0FFh, 0, 0, 0FFh,	0
                    00 FF 00 
(1) 2174/    9013 : FF FF 00 FF 00 00   		db 0FFh, 0FFh,	0, 0FFh, 0, 0, 0FFh, 0,	0FFh
                    FF 00 FF 
(1) 2175/    901C : 77 00 FF 00 00 FF   		db 77h, 0, 0FFh, 0, 0,	0FFh, 0, 0FFh, 0FFh
                    00 FF FF 
(1) 2176/    9025 : 00 FF 00 00 FF 00   		db 0, 0FFh, 0,	0, 0FFh, 0, 0FFh, 0FFh,	0
                    FF FF 00 
(1) 2177/    902E : FF 00 00 FF 00 FF   		db 0FFh, 0, 0,	0FFh, 0, 0FFh, 0FFh, 0,	0FFh
                    FF 00 FF 
(1) 2178/    9037 : 00 00 FF 00 7F FF   		db 0, 0, 0FFh,	0, 7Fh,	0FFh, 0, 0FFh, 0
                    00 FF 00 
(1) 2179/    9040 : 00 FF 00 FF FF 00   		db 0, 0FFh, 0,	0FFh, 0FFh, 0, 0FFh, 0,	0
                    FF 00 00 
(1) 2180/    9049 : FF 00 FF FF 10 FF   		db 0FFh, 0, 0FFh, 0FFh, 10h, 0FFh, 0, 0
                    00 00 
(1) 2181/    9051 : FF 00 FF FF 00 FF   		db 0FFh, 0, 0FFh, 0FFh, 0, 0FFh, 0, 0,	0FFh
                    00 00 FF 
(1) 2182/    905A : 00 FF FF 00 FF 00   		db 0, 0FFh, 0FFh, 0, 0FFh, 0, 0, 0FFh,	0
                    00 FF 00 
(1) 2183/    9063 : FF FF 00 FF 00 00   		db 0FFh, 0FFh,	0, 0FFh, 0, 0, 0FFh, 0,	0FFh
                    FF 00 FF 
(1) 2184/    906C : FF 00 FF 00 00 FF   		db 0FFh, 0, 0FFh, 0, 0, 0FFh, 0, 0FFh,	0FFh
                    00 FF FF 
(1) 2185/    9075 : 00 FF 00 00 7F 00   		db 0, 0FFh, 0,	0, 7Fh,	0, 0FFh, 0FFh, 0
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 226 - 8/12/2011 20:51:50


                    FF FF 00 
(1) 2186/    907E : FF 00 00 FF 00 FF   		db 0FFh, 0, 0,	0FFh, 0, 0FFh, 0FFh, 0,	0FFh
                    FF 00 FF 
(1) 2187/    9087 : 00 00 FF 00 FF FF   		db 0, 0, 0FFh,	0, 0FFh, 0FFh, 0, 0FFh,	0
                    00 FF 00 
(1) 2188/    9090 : 00 FF 00 FF FF 00   		db 0, 0FFh, 0,	0FFh, 0FFh, 0, 0FFh, 0,	0
                    FF 00 00 
(1) 2189/    9099 : FF 00 FB FF 00 FF   		db 0FFh, 0, 0FBh, 0FFh, 0, 0FFh, 0, 0,	0EFh
                    00 00 EF 
(1) 2190/    90A2 : 00 FF FF 00 FF 00   		db 0, 0FFh, 0FFh, 0, 0FFh, 0, 0, 0FFh,	0
                    00 FF 00 
(1) 2191/    90AB : 7F FF 00 FF 00 00   		db 7Fh, 0FFh, 0, 0FFh,	0, 0, 0FFh, 0, 0FFh
                    FF 00 FF 
(1) 2192/    90B4 : FF 00 FF 90 00 FF   		db 0FFh, 0, 0FFh, 90h,	0, 0FFh, 0, 0FFh
                    00 FF 
(1) 2193/    90BC : FF 00 FF 00 00 FF   		db 0FFh, 0, 0FFh, 0, 0, 0FFh, 0, 0FFh,	0FFh
                    00 FF FF 
(1) 2194/    90C5 : 00 FF 00 00 FF 00   		db 0, 0FFh, 0,	0, 0FFh, 0, 0FFh, 0FFh,	0
                    FF FF 00 
(1) 2195/    90CE : FF 00 00 FF 00 FF   		db 0FFh, 0, 0,	0FFh, 0, 0FFh, 0FFh, 80h
                    FF 80 
(1) 2196/    90D6 : FF 00 00 FF 00 CF   		db 0FFh, 0, 0,	0FFh, 0, 0CFh, 0FFh, 0,	0FFh
                    FF 00 FF 
(1) 2197/    90DF : 00 00 FF 00 FF FF   		db 0, 0, 0FFh,	0, 0FFh, 0FFh, 0, 0FFh,	0
                    00 FF 00 
(1) 2198/    90E8 : 00 FF 00 7F FF 00   		db 0, 0FFh, 0,	7Fh, 0FFh, 0, 0FFh, 0, 0
                    FF 00 00 
(1) 2199/    90F1 : FF 00 FF FF 00 FF   		db 0FFh, 0, 0FFh, 0FFh, 0, 0FFh, 0, 0,	0FFh
                    00 00 FF 
(1) 2200/    90FA : 00 FF FF 00 FF 00   		db 0, 0FFh, 0FFh, 0, 0FFh, 0, 0, 0FFh,	0
                    00 FF 00 
(1) 2201/    9103 : FF FF 00 FF 00 00   		db 0FFh, 0FFh,	0, 0FFh, 0, 0, 0FFh, 0,	0FFh
                    FF 00 FF 
(1) 2202/    910C : FF 00 FF 00 00 FF   		db 0FFh, 0, 0FFh, 0, 0, 0FFh, 0, 0FFh,	0FFh
                    00 FF FF 
(1) 2203/    9115 : 00 FF 00            		db 0, 0FFh, 0
(1) 2204/    9118 : 00                  		db    0 
(1) 2205/    9119 : FF                  		db 0FFh 
(1) 2206/    911A : 00                  		db    0   
(1) 2207/    911B : FF                  		db 0FFh
(1) 2208/    911C :                     	
(1) 2209/    911C : 0A 07 FF            Table_adsr:	db 0Ah, 7, 0FFh
(1) 2210/    911F : 02 09 FF            		db 2, 9,0FFh 
(1) 2211/    9122 : 02 06 FF            		db 2, 6, 0FFh
(1) 2212/    9125 : 01 08 01            		db 1, 8, 1
(1) 2213/    9128 : 02 0A FF            		db 2,0Ah,0FFh
(1) 2214/    912B : 01 00 FF            		db 1, 0, 0FFh
(1) 2215/    912E : 02 09 01            		db 2,9,1
(1) 2216/    9131 : 0A 00 FF            		db 0Ah,0,0FFh
(1) 2217/    9134 : 04 00 FF            		db 4,0,0FFh
(1) 2218/    9137 : 02 02 FF            		db 2,2,0FFh
(1) 2219/    913A : 0F 00 FF            		db 0Fh,0,0FFh
(1) 2220/    913D : 03 0B FF            		db 3,0Bh,0FFh
(1) 2221/    9140 : 16 00 FF            		db 16h,0,0FFh
(1) 2222/    9143 : 03 0D FF            		db 3,0Dh,0FFh
(1) 2223/    9146 : 01 05 FF            		db 1,5, 0FFh
(1) 2224/    9149 : 05 07 FC            		db 5,7,0FCh
(1) 2225/    914C :                     	
(1) 2226/    914C : 01 F6 FF 01 28 00   Table_vib:	db 1, 0F6h, 0FFh, 1, 28h, 0, 1, 5, 0, 1; ...
                    01 05 00 01 
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 227 - 8/12/2011 20:51:50


(1) 2227/    9156 : FB FF 01 FE FF 02   		db 0FBh, 0FFh,	1, 0FEh, 0FFh, 2, 0FFh,	0FFh
                    FF FF 
(1) 2228/    915E : 02 03 00 03 02 00   		db 2, 3, 0, 3,	2, 0, 3, 0FEh, 0FFh, 1,	32h
                    03 FE FF 01 32 
(1) 2229/    9169 : 00 01 B5 FF 01 B0   		db 0, 1, 0B5h,	0FFh, 1, 0B0h, 0FFh, 1,	14h
                    FF 01 14 
(1) 2230/    9172 : 00 01 03 00 01 FD   		db 0, 1, 3, 0,	1, 0FDh, 0FFh, 0, 0, 0
                    FF 00 00 00 
(1) 2231/    917C :                     
(1) 2232/    917C : 01 02 55 04         Table_effect:	db 1, 2, 55h, 4 
(1) 2233/    9180 : 8E 02 40 01         		db 8Eh, 2, 40h, 1
(1) 2234/    9184 : 8A 02 90 01         		db 8Ah, 2,90h, 1
(1) 2235/    9188 : 9A 03 F4 01         		db 9Ah, 3, 0F4h, 1
(1) 2236/    918C : 82 01 AA 00         		db 82h, 1, 0AAh,0
(1) 2237/    9190 : 8A 04 58 02         		db 8Ah, 4, 58h, 2
(1) 2238/    9194 : 8A 04 8A 02         		db 8Ah, 4, 8Ah, 2
(1) 2239/    9198 : 8A 52 2C 01         		db 8Ah,52h, 2Ch, 1
(1) 2240/    919C : 8E 02 40 01         		db 8Eh, 2, 40h, 1
(1) 2241/    91A0 : 8E 02 40 01         		db 8Eh, 2,40h, 1
(1) 2242/    91A4 : 9A 01 FA 00         		db 9Ah, 1, 0FAh, 0
(1) 2243/    91A8 : 9A 01 25 00         		db 9Ah, 1, 25h, 0
(1) 2244/    91AC : 8A 04 F0 00         		db 8Ah, 4, 0F0h, 0	
(1) 2245/    91B0 : 9A FC 10 FF         		db 9Ah, 0FCh, 10h,0FFh
(1) 2246/    91B4 : 9A C8 00 FF         		db 9Ah, 0C8h, 0, 0FFh	
(1) 2247/    91B8 : 9A 81 80 FD         		db 9Ah, 81h, 80h, 0FDh
(1) 2248/    91BC : 8F 60 01 00         		db 8Fh, 60h, 1, 0
(1) 2249/    91C0 : 8E 06 00 02         		db 8Eh, 6, 0, 2
(1) 2250/    91C4 : 8F FF 01 00         		db 8Fh, 0FFh,1, 0
(1) 2251/    91C8 : 9A 0C E8 03         		db 9Ah, 0Ch, 0E8h, 3
(1) 2252/    91CC : 9E 03 F4 01         		db 9Eh, 3, 0F4h,1 
(1) 2253/    91D0 : 8E 03 20 03         		db 8Eh, 3, 20h, 3
(1) 2254/    91D4 : 00 00 00 00         		db 0,0,0,0
(1) 2255/    91D8 : 00 00 00 00         		db 0,0,0,0
(1) 2256/    91DC : 00 00 00 00         		db 0,0,0,0
(1) 2257/    91E0 : 00 00 00 00         		db 0,0,0,0
(1) 2258/    91E4 : 00 00 00 00         		db 0,0,0,0
(1) 2259/    91E8 : 00 00 00 00         		db 0,0,0,0
(1) 2260/    91EC : 00 00 00 00         		db 0,0,0,0
(1) 2261/    91F0 : 00 00 00 00         		db 0,0,0,0
(1) 2262/    91F4 : 00 00 00 00         		db 0,0,0,0
(1) 2263/    91F8 : 00 00 00 00         		db 0,0,0,0
(1) 2264/    91FC :                     	
(1) 2265/    91FC : 51 61 17 07 50 F1   Table_fmins:	db 51h, 61h, 17h, 7, 50h, 0F1h, 5Ch, 0DCh; ...
                    5C DC 
(1) 2266/    9204 : 00 21 01 07 DA F6   		db 0, 21h, 1, 7, 0DAh,	0F6h, 5Fh, 0FFh
                    5F FF 
(1) 2267/    920C : 62 41 40 07 FA F6   		db 62h, 41h, 40h, 7, 0FAh, 0F6h, 0AFh,	0FFh
                    AF FF 
(1) 2268/    9214 : 44 71 87 27 FA F5   		db 44h, 71h, 87h, 27h,	0FAh, 0F5h, 2Ah
                    2A 
(1) 2269/    921B : FD 47 62 24 08 F3   		db 0FDh, 47h, 62h, 24h, 8, 0F3h, 0F3h,	0F9h
                    F3 F9 
(1) 2270/    9223 : FC 63 62 15 0F F0   		db 0FCh, 63h, 62h, 15h, 0Fh, 0F0h, 0F3h
                    F3 
(1) 2271/    922A : FF FF 67 60 14 27   		db 0FFh, 0FFh,	67h, 60h, 14h, 27h, 0F7h
                    F7 
(1) 2272/    9231 : F2 8A FA 61 62 0E   		db 0F2h, 8Ah, 0FAh, 61h, 62h, 0Eh, 6, 0F5h
                    06 F5 
(1) 2273/    9239 : F2 0F FE 12 12 1B   		db 0F2h, 0Fh, 0FEh, 12h, 12h, 1Bh, 7, 50h
                    07 50 
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 228 - 8/12/2011 20:51:50


(1) 2274/    9241 : 40 10 1A 60 61 8A   		db 40h, 10h, 1Ah, 60h,	61h, 8Ah, 20h, 0F3h
                    20 F3 
(1) 2275/    9249 : F1 3A FA 43 40 92   		db 0F1h, 3Ah, 0FAh, 43h, 40h, 92h, 7, 0F4h
                    07 F4 
(1) 2276/    9251 : F2 AA AA 66 64 15   		db 0F2h, 0AAh,	0AAh, 66h, 64h,	15h, 6,	50h
                    06 50 
(1) 2277/    9259 : 83 FA FA E1 62 05   		db 83h, 0FAh, 0FAh, 0E1h, 62h,	5, 3, 0D0h
                    03 D0 
(1) 2278/    9261 : 72 2B FB 61 65 40   		db 72h, 2Bh, 0FBh, 61h, 65h, 40h, 4, 0F4h
                    04 F4 
(1) 2279/    9269 : F4 1A AC 61 65 40   		db 0F4h, 1Ah, 0ACh, 61h, 65h, 40h, 4, 0F4h
                    04 F4 
(1) 2280/    9271 : F6 1A 7D 60 61 89   		db 0F6h, 1Ah, 7Dh, 60h, 61h, 89h, 20h,	0F2h
                    20 F2 
(1) 2281/    9279 : F1 5A 1A 43 61 41   		db 0F1h, 5Ah, 1Ah, 43h, 61h, 41h, 0, 0F9h
                    00 F9 
(1) 2282/    9281 : F6 FC FC 60 61 1D   		db 0F6h, 0FCh,	0FCh, 60h, 61h,	1Dh, 7,	0F1h
                    07 F1 
(1) 2283/    9289 : 71 1A DA 6C 22 59   		db 71h, 1Ah, 0DAh, 6Ch, 22h, 59h, 6, 0E3h
                    06 E3 
(1) 2284/    9291 : D2 23 4D 62 62 3F   		db 0D2h, 23h, 4Dh, 62h, 62h, 3Fh, 7, 96h
                    07 96 
(1) 2285/    9299 : 76 2A 0A 61 61 5C   		db 76h, 2Ah, 0Ah, 61h,	61h, 5Ch, 0, 56h
                    00 56 
(1) 2286/    92A1 : 44 1D 0C 61 62 63   		db 44h, 1Dh, 0Ch, 61h,	62h, 63h, 26h, 36h
                    26 36 
(1) 2287/    92A9 : 54 1D 0C 41 41 21   		db 54h, 1Dh, 0Ch, 41h,	41h, 21h, 27h, 0F7h
                    27 F7 
(1) 2288/    92B1 : 50 03 E5 25 60 1E   		db 50h, 3, 0E5h, 25h, 60h, 1Eh, 15h, 0FAh
                    15 FA 
(1) 2289/    92B9 : F3 FC 87 00 17 18   		db 0F3h, 0FCh,	87h, 0,	17h, 18h, 0, 8Fh
                    00 8F 
(1) 2290/    92C1 : 9F 8F 1F 6A 61 14   		db 9Fh, 8Fh, 1Fh, 6Ah,	61h, 14h, 7Fh, 0F7h
                    7F F7 
(1) 2291/    92C9 : F2 FF CF 18 41 5C   		db 0F2h, 0FFh,	0CFh, 18h, 41h,	5Ch, 5Fh
                    5F 
(1) 2292/    92D0 : F1 F0 FF FF 04 02   		db 0F1h, 0F0h,	0FFh, 0FFh, 4, 2, 14h, 8Fh
                    14 8F 
(1) 2293/    92D8 : 71 F1 FF FF 06 01   		db 71h, 0F1h, 0FFh, 0FFh, 6, 1, 1Fh, 2Fh
                    1F 2F 
(1) 2294/    92E0 : F4 F3 FF FF 7C 61   		db 0F4h, 0F3h,	0FFh, 0FFh, 7Ch, 61h, 1Ch
                    1C 
(1) 2295/    92E7 : 5F F6 F2 8F 2F 0C   		db 5Fh, 0F6h, 0F2h, 8Fh, 2Fh, 0Ch, 2, 51h
                    02 51 
(1) 2296/    92EF : 1F F1 F2 FF FF 02   		db 1Fh, 0F1h, 0F2h, 0FFh, 0FFh, 2, 42h
                    42 
(1) 2297/    92F6 : 56 26 F1 F0 FF FF   		db 56h, 26h, 0F1h, 0F0h, 0FFh,	0FFh
(1) 2298/    92FC : CD CA 80 04 CD CA   		db 0CDh, 0CAh,	80h, 4,	0CDh, 0CAh, 80h
                    80 
(1) 2299/    9303 : 04 CD CA 80 C9 0E   		db 4, 0CDh, 0CAh, 80h,	0C9h, 0Eh, 9, 6
                    09 06 
(1) 2300/    930B : 30 3E 0F CD D8 80   		db 30h, 3Eh, 0Fh, 0CDh, 0D8h, 80h, 4, 0Dh
                    04 0D 
(1) 2301/    9313 : 20 F7 C3 31 81 21   		db 20h, 0F7h, 0C3h, 31h, 81h, 21h, 0DBh
                    DB 
(1) 2302/    931A : 8A 3A               		db 8Ah, 3Ah
(1) 2303/    931C :                     
(1) 2304/    931C :                     
(1) 2305/    931C :                     	
(1) 2306/    931C : 00 00               Table_SFX:	dw 0
 AS V1.42 Beta [Bld 28] - source file game.asm(mcdrv.asm) - page 229 - 8/12/2011 20:51:50


(1) 2307/    931E : 00 00               TableMinc:	dw 0		
(1) 2308/    9320 :                     	
(1) 2309/    9320 :                     		
(1) 2310/    9320 :                     
(1) 2311/    9320 :                     		
(1) 2312/    9320 :                     
    3266/    9320 :                     Fmcdrv:		
    3267/    9320 :                     		
    3268/    9320 :                     
 AS V1.42 Beta [Bld 28] - source file game.asm - page 230 - 8/12/2011 20:51:50


  symbol table (* = unused):
  ------------------------

 ABAJO :                          3 - |  ABASCR :                         4 - |
 ABA_DER :                        4 - |  ABA_IZQ :                        5 - |
 ACSFX_N1E :                   88A0 C |  ACTCHANNEL :                  880F C |
 ACTCHNFM_M :                  8835 C |  ACTCHNPSG :                   8854 C |
 ACTCHNPSG1 :                  8863 C |  ACTCHNPSG2 :                  886D C |
 ACTCHNPSGN :                  8878 C |  ACTCHNPSG_7 :                 887E C |
 ACTCHNSFX :                   888C C |  ACTIVECHANNEL :               871D C |
 ACTIVEHHINST :                8741 C |  ACTIVENOISE :                 875A C |
 ACTIVERHYTHM :                8772 C |  ACTIVESD_HH :                 8732 C |
 ACTIVETCY :                   8755 C |  ACTIVETOM_TCY :               8746 C |
 ACTTIMESOUND :                86AC C |  ADDUNITSINT :                 8764 C |
 ADD_EXCP :                    2C48 C |  ADD_HL :                      8B3A C |
 ADD_HL_A2 :                   8B36 C |  ADD_HL_A4 :                   8B32 C |
 ADRMUSIC :                    8000 - |  ADSRDEF :                     846C C |
 ADSRSUSTAIN :                 8473 C |  ALL_SEG :                     266D C |
 ALTOPATPER :                  1490 C |  ALTOPIXPER :                  13EA C |
 ALTO_OPT :                      13 - |  ANCHOPATPER :                 148F C |
 ANCHOPIXPER :                 13E8 C |  ANIMACIONI :                  149B C |
 ANIMACIONIC :                    C - |  ANIMACIONIM :                    8 - |
 APPLYEFFECT :                 8ACF C | *ARCHITECTURE :  i386-unknown-linux - |
 ARRIBA :                         2 - |  ARRSCR :                         8 - |
 ARR_DER :                        6 - |  ARR_IZQ :                        7 - |
 ASK_OUT :                     269D C |  ASSIGN_FLG :                  2F28 C |
 ASSIGN_I0 :                   2EDA C |  ASSIGN_I2 :                   2EF9 C |
 ASSIGN_OBJ :                  2ECA C |  ASSIG_I1 :                    2F15 C |
 ASSIG_RET :                   2F25 C |  AUANIM1 :                     122C C |
 AUANIM2 :                     11FA C |  AUANIM3 :                     122A C |
 AUANIMC :                     1219 C |  AUANIM_ABD :                  120B C |
 AUANIM_ABI :                  1213 C |  AUANIM_ARI :                  1203 C |
 AUTO_PTR :                    122E C |  AU_ANIMACION :                11E8 C |
 B1 :                          2646 C | *B3 :                          264C C |
*BATALLA :                        2 - |  BDOS :                           5 - |
 BEGINDECO :                   8365 C | *BIGENDIAN :                      0 - |
 BMODE_EXT :                    145 C |  BMODE_INT :                    127 C |
 BNSTR :                        17E C |  BNSTR3 :                       1C3 C |
*BRANCHEXT :                      0 - |  BSDIV :                        19C C |
 BSLOOP :                       193 C |  BS_BLANK :                     1D6 C |
 BS_FLAG :                      1CB C |  BUFFER :                      6D8B - |
 BUFFER_FUNC :                 3752 C |  BUFFER_INT :                  379B C |
 BUFFER_PAG1 :                 44E3 - |  BUFFER_PAG2 :                 4687 - |
 BWSTR0 :                       1B7 C |  BWSTR1 :                       1B8 C |
 BWSTR2 :                       1C1 C | *CALLS :                       267C C |
 CALSLT :                        1C - | *CAL_SEG :                     2679 C |
*CAMBIA_INT :                  2B23 C |  CARAS :                       1526 C |
*CASESENSITIVE :                  0 - |  CAS_ORI :                     2EC9 C |
 CAS_RES :                     2EC6 C |  CEN_HOR_ABA :                   20 - |
 CEN_HOR_ARR :                   10 - |  CEN_TOTAL :                      0 - |
 CEN_VER_DER :                   40 - |  CEN_VER_IZQ :                   30 - |
 CHANGEMODECHN :               88AD C |  CHANGE_PAL :                  3682 C |
 CHANNELACT :                  8BFA C |  CHANNELOFF :                  8BF0 C |
 CHECK_CIB :                    479 C |  CHECK_CIFB :                   498 C |
 CHECK_CINV :                   472 C |  CHECK_CIX :                    481 C |
 CHECK_CIY :                    490 C |  CHGCHNMODEEND :               890F C |
 CHGFONT1 :                     CB0 C |  CHGMOD :                        5F - |
 CHGMODEFM :                   88DE C |  CHGMODEFM_MEL :               88F7 C |
 CHGMODEPSG_W :                88CA C |  CHG_FONTS :                    C9B C |
 CHK_A01 :                     2F49 C |  CHK_AO1 :                     2F41 C |
 AS V1.42 Beta [Bld 28] - source file game.asm - page 231 - 8/12/2011 20:51:50


 CHK_ASG_OBJ :                 2F29 C |  CHNSFXPSG1 :                  8BFD C |
*CHNSFXPSG2 :                  8C2B C |  CHNTBLSONG :                  8C59 C |
 CLOSEFILE :                   3974 C |  CLOSE_WIN :                    1D7 C |
 CMD_CHKMUS :                  80EC C |  CMD_CHKSFX :                  8126 C |
 CMD_FADEIN :                  80D7 C |  CMD_FADEOUT :                 80C9 C |
 CMD_INCMUS :                  8104 C |  CMD_INICHIPS :                80C2 C |
 CMD_INIVAR :                  8047 C |  CMD_MUSICOFF :                8059 C |
 CMD_MUSICON :                 8052 C |  CMD_PUTMINC :                 804E C |
 CMD_PUTSFX :                  804A C |  CMD_SFX :                     80F5 C |
 COLOR0_OFF :                  35C7 C |  COLOR_NEGRO :                   FF - |
*COMMANDS :                    8003 C |  COMPARES :                    8B14 C |
 COMPARES1 :                   8B23 C | *CONIN :                          1 - |
*CONOUT :                         2 - | *CONSTPI :        3.141592653589793 - |
 COORCXDE :                      B0 - |  COORCXIZ :                      20 - |
 COORCYAB :                      40 - |  COORCYAR :                      20 - |
*COORDY_FONTS :                   0 - |  COORDY_OBJ :                     0 - |
 COORDY_OPT :                    D4 - |  COORDY_PAT :                    98 - |
 COOR_Y_NA :                    43E C |  COPYVRAM :                    3346 C |
 CRUZSP1 :                     3B1F - |  CRUZSP2 :                     3B3F - |
 CRUZSPC1 :                    3BBF - |  CRUZSPC2 :                    3BCF - |
 CRUZ_X :                       471 C |  CRUZ_Y :                       470 C |
 CUADSP1 :                     3B5F - |  CUADSP2 :                     3B7F - |
 CUADSP3 :                     3B9F - |  CUADSPC1 :                    3BDF - |
 CUADSPC2 :                    3BEF - |  CUADSPC3 :                    3BFF - |
 CURSORX :                      2FB C |  CURSORXI :                     2FC C |
 CURSORY :                      2FA C | *DATE :                   8/12/2011 - |
*DEBUG :                          1 - |  DECOCHANNEL :                 83FE C |
 DECOCHNADSR :                 844C C |  DECOCHNMEL :                  8417 C |
 DECOCHNTIMEOFF :              8449 C |  DECOCHNVIB :                  848C C |
 DECOLOOP :                    8378 C |  DECONEXT :                    84B0 C |
 DECOOP2 :                     84D9 C |  DECOOP3 :                     84E2 C |
 DECOPOP1 :                    84C3 C |  DECOSFX :                     83E0 C |
 DEMOBUFFER :                  3301 C |  DERECHA :                        0 - |
 DERSCR :                         2 - |  DESP_PANTX :                  14A0 C |
 DESP_PANTY :                  14A2 C |  DIR_ACTUAL :                  149E C |
*DIR_BUFF :                    2C16 C |  DISABLECHANNEL :              8718 C |
 DISABLENOISE :                875F C |  DISABLERHYTHM :               877D C |
 DISABLESUS :                  8728 C |  DMAHIGH :                     C000 - |
*DOCONVER :                     14F C |  DOFADE :                      390E C |
 DOFADE1 :                     3910 C |  DOFADEIG :                    3921 C |
 DOFADEIG2 :                   3937 C |  DOFADEMAY :                   3920 C |
 DOFADEMAY2 :                  3933 C |  DOSCR1 :                       EA4 C |
 DOSCR2 :                       EB5 C |  DOSCROLL :                     E6D C |
 DOSCROLL1 :                    E9C C |  DOSCROLLAB :                   EE8 C |
 DOSCROLLDE :                   F42 C |  DOSCROLLIZ :                   F15 C |
 DOSCR_PATX :                   F6E C |  DOSCR_PATY :                   F70 C |
 DOSCR_SFIG :                   F72 C |  DOSVER :                      25AC C |
 DO_OPC_DUMMY :                 63D C |  DO_OPC_PJ_BC :                 63B C |
 DO_VISUAL :                    8B0 C |  DO_WAY_P1 :                   1F31 C |
 DO_WAY_PER :                  1ED4 C |  DW_EXCP :                     2C7F C |
 EMPTYSONG :                   806A C |  ENABLESUS :                   872D C |
 ENDCOMMAND :                  8025 C |  ENDLOOPINT :                  83C7 C |
 ENDTIME :                     3718 C |  EQUIPOV :                     1597 C |
 EQUIPOVT :                    6D53 - |  EQUIPO_ACT :                   46E C |
 ERASE0 :                      11AD C |  ERASE1 :                      11B6 C |
 ERASE2 :                      11E3 C |  ERASE_0 :                     11A1 C |
 ERASE_PNA :                   118C C |  ERASE_PNA_C :                  3DD C |
 ESQ_INF_DER :                   80 - |  ESQ_INF_IZQ :                   70 - |
 ESQ_SUP_DER :                   60 - | *ESQ_SUP_IZQ :                   50 - |
 EXBRSA :                      FCC1 - |  EXTBIO :                      FFCA - |
 AS V1.42 Beta [Bld 28] - source file game.asm - page 232 - 8/12/2011 20:51:50


 EXTERIOR :                       1 - |  F1_KEY :                        20 - |
 FADECONTACT :                 8BF7 C |  FADECTL :                     8BF9 C |
 FADEINP :                     8320 C |  FADENUMPASS :                 8BF8 C |
 FADEOREST :                   835B C |  FADEOUTACT :                  833D C |
 FADEOUTR :                    832E C |  FADEOUTREST :                 8BF2 C |
 FADE_OFF :                    3896 C |  FADE_ON :                     38A9 C |
 FADE_V :                      149D C | *FALSE :                          0 - |
*FCBLDNIV :                      84 - |  FCBLOAD :                       5C - |
 FCLOSE :                        10 - |  FILEOPEN :                    3944 C |
 FINAL :                       3B1F C |  FINDEMO :                     3342 C |
 FINI :                        266B C |  FMCDRV :                      9320 C |
 FM_INSTSOFT :                 8BFC C |  FONDO_ACT :                    468 C |
 FONDO_NACT :                   46A C | *FONTS :                       1502 C |
 FOPEN :                          F - | *FOUND :                       265C C |
 FOUND_ENLACE :                 CC5 C |  FRECSFX :                     8AF0 C |
 FRECSFX1 :                    8AF7 C |  FRECSFX_W :                   8B0F C |
*FRE_SEG :                     2670 C |  FT_AUTOC :                    1230 C |
 FT_AUTOE :                    1264 C | *FULLPMMU :                       1 - |
 FUNCGM :                      2694 - |  FUNCPM :                      2691 - |
*FUNCT_INT :                   379C C |  FUNC_ACT :                    149F C |
 GEST_DATAP :                   420 C |  GEST_DATAR :                   42F C |
 GEST_DATAS :                   411 C |  GEST_INP :                    2EAB C |
 GEST_INV :                    2DB0 C |  GEST_INV0 :                   2DEE C |
 GEST_INV00 :                  1B5B C |  GEST_INV1 :                   2DC4 C |
 GEST_INVB :                   2E0D C |  GETNEXTOP :                   8990 C |
 GET_DIR :                     2BBC C |  GET_DIR1 :                    2BF3 C |
 GET_DIR2 :                    2C02 C |  GET_DIR3 :                    2C0E C |
 GET_DIROP1 :                  2BF0 C |  GET_DIROP2 :                  2C01 C |
 GET_DIROP4 :                  2C0E C |  GET_DIR_BUFF :                   1 - |
 GET_DIR_KEY :                    0 - | *GET_DIR_VAL :                    2 - |
 GET_FUNC :                    2B7F C |  GET_KEY :                     2BE3 C |
 GET_KEYBOARD :                2BC7 C | *GET_P0 :                      2688 C |
*GET_P1 :                      268E C |  GET_P2 :                      2694 C |
*GET_P3 :                      269A C | *GET_PH :                      2682 C |
 GFIG_MOVAC :                  10EF C |  GFXACTUAL :                   8000 - |
 GFXL :                        28B2 C |  GOTO_SPXY :                   33C4 C |
 GOTO_SPXYG :                  33BC C |  GO_CIUDAD :                   1635 C |
 GO_CIUDAD1 :                  16DC C |  GO_CIUDAD3 :                  1885 C |
 GO_ENLACE1 :                   CE2 C |  GO_ENLACE2 :                   CFC C |
 GO_ENLACE3 :                   D08 C |  GO_ENLACE4 :                   D21 C |
*GO_EXTERIOR :                 176B C |  GO_EXTERIOR1 :                1803 C |
 GRAF_OBJ :                    1532 C |  G_SPXY1 :                     33CF C |
 HANDLE_DEF :                  2C47 C |  HANDLE_EKB :                  2C12 C |
*HAS64 :                          1 - | *HASDSP :                         0 - |
*HASFPU :                         0 - | *HASPMMU :                        0 - |
 HH_VOL :                      8E85 C |  HIDE_CRUZ :                   33EA C |
 HIDE_CUAD :                    66C C |  HIDE_OPC :                     597 C |
 IMCDRV :                      8000 C | *INCXY_SP :                    34D3 C |
 INCXY_SP1 :                   34E3 C |  INC_MOV :                     1491 C |
 INC_MOVD :                       8 - |  INC_MOVS :                       4 - |
 INDEXMAPA :                   4867 - |  INDEXPERSO :                  482B - |
*INEXTMODE :                      0 - |  INICHIP1 :                    8254 C |
 INICHIPS :                    824A C |  INISFXF2 :                    89F2 C |
 INITBLSNG :                   819D C |  INITBLSNG1 :                  81AA C |
 INITBLSNG2 :                  81AE C |  INITEFFECT :                  899F C |
 INITFIGURA :                  10A2 C |  INITFIGURA1 :                 10AC C |
 INITFIGURA2 :                 10B8 C |  INITFIGURA3 :                 10C1 C |
 INITP16X16 :                  33F7 C |  INITP16X16A :                 3440 C |
 INITP16X16A2 :                3441 C |  INITP16X16A3 :                3442 C |
 INITP16X16B1 :                3404 C |  INITP16X16B2 :                342F C |
 AS V1.42 Beta [Bld 28] - source file game.asm - page 233 - 8/12/2011 20:51:50


 INITPERSO :                   229B C |  INITPERSO1 :                  22B8 C |
 INITPERSO2 :                  22C0 C |  INITPERSO3 :                  22CD C |
 INITPERSO4 :                  22D4 C |  INITPERSOX :                  2309 C |
 INITPERSOY :                  230B C |  INITPJS :                     1E0B C |
 INITPJS1 :                    1E15 C |  INITPJS2 :                    1E30 C |
 INITPSG :                     818F C |  INITSCR :                     3588 C |
 INITSFX1_1 :                  89E3 C |  INITSFX1_2 :                  89E9 C |
 INITSFX1_3 :                  89EE C |  INITSFX2_1 :                  8A03 C |
 INITSFX2_2 :                  8A08 C |  INITSFXF0 :                   89B7 C |
 INITSFXF1 :                   89C2 C |  INIT_BUFP1 :                   92D C |
 INIT_BUFP2 :                   930 C |  INIT_BUFPAG :                  926 C |
 INIT_CRUZ :                   33DA C |  INIT_CUAD :                    64D C |
 INIT_FIG1 :                    93E C |  INIT_FIGURASV :                938 C |
 INIT_GAME :                   15B7 C |  INIT_INDEXPER :               1EA3 C |
 INIT_INDP1 :                  1EB9 C |  INIT_INDP3 :                  1EC6 C |
 INIT_PERV :                   1DFB C |  INIT_PERV1 :                  1E02 C |
 INIT_SPTBL :                  33F6 C |  INIT_SYS :                    251C C |
 INIVARS :                     816E C | *INLWORDMODE :                    0 - |
*INMAXMODE :                      0 - | *INSRCMODE :                      0 - |
*INSUPMODE :                      0 - |  INT :                           38 - |
 INTERIOR :                       0 - |  INTERRUPT :                   36E6 C |
 INTFUNCT :                    830B C |  INVENTARIOV :                 156A C |
 INVENTARIOVT :                6D17 - |  INV_ACT :                      46C C |
 INV_PERS :                    1C52 C |  INV_TIPO :                    1C54 C |
 IZQSCR :                         1 - |  IZQUIERDA :                      1 - |
 JUMPCOMMAND :                 802B C |  KEY_F1ST :                    2D36 C |
*KEY_ROW1 :                    2D32 C | *KEY_ROW2 :                    2D33 C |
 KEY_SPST :                    2D35 C |  KEY_TIME :                    2D34 C |
*LEEF :                        2C9C C |  LEEF1 :                       2CB6 C |
 LEESP :                       2CD1 C | *LEET0 :                       2CD5 C |
 LEET1 :                       2CF8 C |  LEET2 :                       2D19 C |
 LEET3 :                       2D23 C | *LEETA1 :                      2CBA C |
 LEETECLA :                    2C94 C |  LEETECLAV :                   2D37 C |
 LEETFIN :                     2D2D C |  LEETFUNC :                    2D38 C |
 LEE_FILA_KB :                 2D3A C |  LIMPIA_PAN :                  3823 C |
 LIMPIA_PAND :                 3880 C |  LIMPIA_SCR :                  388B C |
 LIMPIA_VRAM :                 3572 C |  LIMPVRAM1 :                   3576 C |
 LINE :                        3357 C |  LINE1 :                       3372 C |
 LINE2 :                       337D C |  LINE3 :                       3387 C |
 LINED :                       33B1 C | *LISTON :                         1 - |
 LLL :                          8D9 C |  LOADIM :                      2B57 C |
 LOADMAP :                     2A2C C |  LOADNIV1 :                    2AA8 C |
 LOADNIV2 :                    2ACA C |  LOADNIV3 :                    2AE7 C |
 LOADNIVEL :                   2A79 C |  LOADPANT :                    189D C |
 LOADPANT2 :                   18C8 C |  LOADPAT :                     2AED C |
 LOADPAT1 :                    2AF2 C |  LOADPATT :                    2B1E C |
 LOADPROP :                    188D C |  LOADSP :                      2A19 C |
 LOADTIPOS :                   2A45 C |  LOAD_OBJ :                    2A58 C |
 LOC_0_8A22 :                  8B3E C |  LOOP :                         11D C |
 LPIMAGE :                     29AD C | *MACEXP :                         1 - |
 MAKEMARK :                     8DA C |  MAKEMARKD :                    917 C |
 MAKESCROLL :                   E21 C |  MAKE_INV :                    1C56 C |
 MAKE_INVBA :                  1C85 C |  MAKE_INVBBP :                 1C9D C |
 MAKE_INVBL :                  1CB8 C |  MAKE_PJ :                      512 C |
*MAKE_PJOPC :                   53A C |  MAKE_PJPER :                   539 C |
 MAKE_PJ_AT :                   52B C |  MAKE_PJ_END :                  535 C |
 MAKE_PJ_MA :                   530 C | *MAKE_PJ_W :                    519 C |
*MAPATEXTURA :                 6D8B - |  MAPEACONT :                   1493 C |
 MAPEADO_DAT :                 3E67 - | *MAPEANX :                     147C C |
*MAPEANY :                     147E C |  MAPEAPD :                     147B C |
 AS V1.42 Beta [Bld 28] - source file game.asm - page 234 - 8/12/2011 20:51:50


*MAPEAPO :                     1477 C |  MAPEAPTR :                    1497 C |
 MAPEAPTRA :                   1499 C |  MAPEAXD :                     1478 C |
 MAPEAXO :                     1474 C |  MAPEAYD :                     147A C |
 MAPEAYO :                     1476 C |  MAPRUT :                      13EF C |
 MAPRUT3 :                     1454 C |  MAPRUTBX :                    1425 C |
 MAPRUTBY :                    141C C |  MAPRUT_OFF :                  1494 C |
 MARC1 :                       14D2 C |  MARC2 :                       14DE C |
 MARC3 :                       14EA C |  MASKSFX :                     8BF6 C |
 MAXCIUDADES :                    A - |  MAXFIGURAS :                    10 - |
 MAXNUMENL :                     3C - |  MAXNUMPJS :                      3 - |
 MAXNUMSP :                      10 - |  MAXOBJETOS :                    22 - |
 MAXPANAL :                       5 - | *MAXPANAN :                       5 - |
 MAXPERSOC :                     1E - |  MAXPERSOM :                     1E - |
 MAXTIPOPER :                    22 - |  MAXVALXR :                    14A9 C |
 MAXVALXRC :       FFFFFFFFFFFFFF2C - |  MAXVALXRE :       FFFFFFFFFFFFFF3C - |
 MAXVALYR :                    14AB C |  MAXVALYRC :       FFFFFFFFFFFFFFA4 - |
 MAXVALYRE :       FFFFFFFFFFFFFFA4 - |  MAX_ESTADOS :                  200 - |
 MCDRV :                       8000 C |  MCDRVC :                      8003 C |
 MCEND :                       830A C |  MCES_JAPONES :                82F7 C |
 MCFINDFM1 :                   8294 C |  MCFMFND :                     82E1 C |
 MCFMLP :                      82D6 C |  MCFMLP1 :                     829D C |
 MCFMLP2 :                     829A C |  MCFMT :                       82AE C |
 MCFMTEST :                    82CE C |  MCFMTEXT :                    8302 C |
*MCFM_CHECK :                  82E5 C |  MCFM_JAPONES :                8306 C |
 MCJAPO :                      82ED C |  MCRECOVER :                   82C4 C |
 MCSEARCHFM :                  8275 C |  MCTESTTR :                    8260 C |
 MCTESTTR1 :                   8270 C | *MC_CHKMUS :                      6 - |
*MC_CHKSFX :                      8 - | *MC_FADEIN :                      5 - |
*MC_FADEOUT :                     4 - | *MC_INCMUS :                      A - |
 MC_INICHIPS :                    3 - | *MC_INIVARS :                     1 - |
 MC_MUSICOFF :                    B - |  MC_MUSICON :                     9 - |
*MC_SFX :                         7 - |  MESSG :                       301B C |
 MESSG1 :                      31A0 C |  MI_VECTOR :                   2B4C C |
 MKSCROLLAB :                   E34 C |  MKSCROLLDE :                   E5A C |
 MKSCROLLIZ :                   E47 C |  MODO_GAME :                   148D C |
 MODO_GET_DIR :                2C15 C | *MOMCPU :                        80 - |
*MOMCPUNAME :                   Z80 - |  MOVEFIGCOPYT :                13E0 C |
 MOVE_EXT :                     72F C |  MOVE_OBJ :                    2E2E C |
 MOVE_OBJ0 :                   2E3B C |  MOVE_OBJ1 :                   2E71 C |
 MOVE_X1 :                      73D C |  MOVE_X2 :                      75C C |
 MOVE_X3 :                      75E C |  MOVE_X4 :                      770 C |
 MOVE_X5 :                      7D3 C |  MOVE_X6 :                      799 C |
*MOVE_X7 :                      78E C | *MOVE_X8 :                      74F C |
 MOVE_X9 :                      7B8 C |  MOVE_XBC :                     7E4 C |
 MOVE_XBUFF :                   7E6 C |  MOVE_XH0 :                     807 C |
 MOVE_XH1 :                     80C C |  MOVE_XH2 :                     817 C |
 MOVE_XH3 :                     824 C |  MOVE_XH4 :                     826 C |
 MOVE_XH5 :                     835 C |  MOVE_XNEWH :                   7ED C |
 MOVE_XPER :                    7DF C |  MOVE_XSP :                     7E1 C |
 MOVE_XSPAB :                   4B2 C |  MOVE_XSPDAB :                  4CA C |
 MOVE_XSPDAR :                  4DE C |  MOVE_XSPDE :                   4BA C |
 MOVE_XSPIAB :                  4D4 C |  MOVE_XSPIAR :                  4E8 C |
 MOVE_XSPIZ :                   4C2 C |  MOVE_XSPR :                    4EF C |
 MOVE_XX :                      49D C |  MOVFDC1 :                     134D C |
 MOVFDC2 :                     135A C |  MOVFDC3 :                     1360 C |
 MOVFDC4 :                     136D C |  MOVFDC5 :                     138D C |
 MOVFDC6 :                     13A4 C |  MOVFDCNX :                    13DC C |
 MOVFDCNY :                    13DD C |  MOVFDCX :                     13DE C |
 MOVFDCY :                     13DF C |  MOVFIGAC :                    12A0 C |
 MOVFIGDC :                    1332 C |  MOVPCCOL_NC :                 20C6 C |
 AS V1.42 Beta [Bld 28] - source file game.asm - page 235 - 8/12/2011 20:51:50


 MOVPCHKAB :                   2155 C |  MOVPCHKABI :                  20F4 C |
 MOVPCHKACC2 :                 2160 C |  MOVPCHKACC3 :                 216B C |
 MOVPCHKACC31 :                2186 C |  MOVPCHKACC4 :                 218A C |
 MOVPCHKACC5 :                 21BF C |  MOVPCHKACC6 :                 21D6 C |
 MOVPCHKAD :                   2133 C |  MOVPCHKAI :                   2126 C |
 MOVPCHKAR :                   213E C |  MOVPCHKARD :                  2104 C |
 MOVPCHKARI :                  2114 C | *MOVPCHKC1 :                   206F C |
 MOVPCHKCP1 :                  2053 C |  MOVPCHKCP2 :                  206A C |
 MOVPCHK_ACCES :               20D0 C |  MOVPCHK_COL :                 2034 C |
 MOVPCHK_COLA :                20CF C |  MOVPCHK_COLB :                2072 C |
 MOVPCHK_PRO1 :                21E0 C |  MOVPCHK_PRO2 :                21E1 C |
 MOVPCHK_PROF :                21DE C |  MOVPCOL_CD :                  20C2 C |
 MOVPCOL_NC1 :                 20C7 C |  MOVPCOL_XP :                  2099 C |
 MOVPCOL_Y :                   20A2 C |  MOVPCOL_YP :                  20BA C |
 MOVPDIRE :                    229A C |  MOVPERSO :                    1F78 C |
 MOVPERSOF1 :                  1FED C |  MOVPERSOF2 :                  1FF3 C |
 MOVPJS :                      1E36 C |  MOVPJSN :                     1E3C C |
 MOVPJSPTR :                   1EA2 C |  MOVPJSS :                     1E4B C |
 MOVPJSS1 :                    1E58 C |  MOVPJSWAY :                   1E82 C |
 MOVPPERSO :                   2033 C |  MOVPRETURN :                  2032 C |
 MOVPSCROLL :                  2031 C |  MOVPV1 :                      21FE C |
 MOVPVIS :                     21E2 C |  MOVPVISX :                    2296 C |
 MOVPVISXR :                   2294 C |  MOVPVISY :                    2298 C |
 MOVPVISYR :                   2295 C |  MOVPVIS_FC :                  226D C |
 MOVPVIS_FD :                  227B C |  MOVPVIS_FD1 :                 2287 C |
 MOV_DIG :                     2D39 C |  MPACCESO :                    1FCD C |
 MPACCESO1 :                   1FE1 C |  MPNACCESO :                   1FFF C |
 MUL1 :                        8B47 C |  MUL2 :                        8B4E C |
 MULHL_DE :                    8B40 C |  MULTHLDE :                    1288 C |
 MULTHLDEL :                   128F C |  MULTHLDENA :                  1294 C |
 MUSICC :                      397D C |  MUSICDRV :                    3B1F C |
 MUSICTBL :                    3AF6 C |  NAMESP :                      14AE C |
 NEGHL :                       8B2A C | *NESTMAX :                      100 - |
 NIVELDAT :                    3F1F - |  NOMNIVEL :                    14BA C |
 NOMTIPOS :                    14C6 C |  NOM_OBJ :                     151A C |
 NOTVR :                       3753 C | *NOTVRAB :                     3763 C |
 NOTVR_RI :                    376E C |  NUMDECINT :                   8E87 C |
 NUMDECLEFT :                  8E88 C |  NUMPAT2PLN :                  14A6 C |
 NUMPATX :                       1C - |  NUMPATX2 :                       E - |
 NUMPATY :                        F - |  NUMPATY2 :                       7 - |
 NUMREPFRAME :                 148E C |  NUMREPFRAMED :                   0 - |
 NUMREPFRAMES :                   2 - |  NUM_CAS :                     2EC7 C |
 NUM_EQUP :                       7 - |  NUM_INV :                        4 - |
 NUM_OBJ :                     2EC8 C |  N_ENDFUNC :                   3735 C |
 N_ENDTIME :                   3725 C |  N_ENDTIME1 :                  373E C |
 OBJETOS :                     14F6 C |  OBJ_VEC :                     662F - |
 OFF_PANTX :                     10 - |  OFF_PANTY :                     14 - |
 OFF_PVISXDE :                    6 - |  OFF_PVISXIZ :     FFFFFFFFFFFFFFFB - |
 OFF_PVISYAB :                    6 - |  OFF_PVISYAR :     FFFFFFFFFFFFFFFB - |
*OPENMSX :                        1 - |  OPEN_WIN :                     30A C |
 OPTIONS :                     150E C |  OP_ADSR :                     8656 C |
 OP_DIVSUS :                   86A2 C |  OP_EFFECT :                   86D3 C |
 OP_ENDL :                     862B C |  OP_ENDL1 :                    8637 C |
 OP_ENDL2 :                    8644 C |  OP_FMINST :                   85D0 C |
 OP_FMINSTL :                  85CD C |  OP_FMINTSOFT :                85E9 C |
 OP_FM_INST :                  85E0 C |  OP_LOOP :                     860D C |
 OP_LOOPL :                    860A C |  OP_MOCT :                     859E C |
 OP_MVOL :                     85AB C |  OP_OCT :                      85A7 C |
 OP_OCTADD :                   85A2 C |  OP_PAR :                      86F2 C |
 OP_PLAY :                     8528 C |  OP_PLAYCONF :                 8576 C |
 AS V1.42 Beta [Bld 28] - source file game.asm - page 236 - 8/12/2011 20:51:50


 OP_PLAYEND :                  857C C |  OP_PLAYFM :                   8555 C |
 OP_PLAYPSG1 :                 8544 C |  OP_PLAYPSG2 :                 854D C |
 OP_PLAYW :                    855E C |  OP_REST :                     8584 C |
 OP_TIME :                     869D C |  OP_TIMEL :                    869A C |
 OP_VIB :                      8677 C |  OP_VOL :                      85B4 C |
 OP_VOLADD :                   85AF C |  OP_VOLEND :                   85C9 C |
 OP_WRITEFM :                  86C9 C |  OP_XXX :                      8692 C |
 OP_XXX1 :                     8697 C | *PACKING :                        0 - |
*PADDING :                        1 - |  PAGE0 :                       3630 C |
*PAGE1 :                       3631 C | *PAGE2 :                       3632 C |
*PAGE3 :                       3633 C |  PAGEGFXNUM :                  28B1 C |
 PAGEM :                       2322 C |  PAGEMNUM :                    250F C |
 PAGMUSACT :                   3AF9 C |  PAG_ACT :                     1489 C |
*PAG_COPYT :                   13E3 C |  PAG_DATASP :                     1 - |
 PAG_FONTS :                      2 - |  PAG_NACT :                    148A C |
 PAG_OBJETOS :                    2 - |  PAG_OPTIONS :                    0 - |
 PAG_PATRONES :                   1 - |  PAG_PERSO :                      3 - |
 PAINT :                       3683 C |  PAINTALTO :                   36E1 C |
 PAINTANCHO :                  36DF C |  PAINTBUCLE :                  36C2 C |
 PAINTDATAX :                  36DB C |  PAINTDATAY :                  36DD C |
 PAINTDATO :                   36E3 C |  PAINTFINAL :                  36D2 C |
 PAINT_BALD :                  1D35 C |  PAINT_BALDC :                 1DAF C |
 PAINT_BDL1 :                  1DBA C |  PAINT_BDL2 :                  1DBF C |
 PAINT_BDL3 :                  1DC4 C |  PAINT_BDL4 :                  1DC9 C |
 PAINT_BLDJ1 :                 1D8A C |  PAINT_PAGE :                  1DAE C |
 PALETAD :                     38EC C |  PALETAW :                     38EE C |
 PAL_GM :                      377B C |  PAL_GMP :                     3779 C |
 PAL_MARK :                    37DF C |  PAL_NEGRO :                   379D C |
 PAL_ODDYSEA :                 37BF C | *PATCH :                       2640 C |
 PATFINSCROLL :                  FF - |  PATTERN_CRUZ :                  20 - |
 PATTERN_CUAD :                   0 - | *PAZOS_EQP :                   1597 C |
*PAZOS_INV :                   156A C |  PDATAPJ :                     19CD C |
 PDATAPJS :                    1A4A C |  PDATAPJ_SP :                  1A48 C |
 PDIALOG :                      173 C |  PERIODO :                     149C C |
 PERIODOD :                       3 - |  PERIODOS :                       1 - |
 PER_MOV_X :                    7E2 C |  PFADE_OFFB :                  38BC C |
 PFADE_OFFW :                  38BD C |  PLAY :                        3AFA C |
 PLAYEFFECT :                  8A1D C |  PLAYEFFECTJ :                 8A31 C |
 PLAYOND :                     3B1E C |  PLAYSFX0_1 :                  8A64 C |
 PLAYSFX1_1 :                  8A8E C |  PLAYSFX2_1 :                  8AC1 C |
 PLAYSFXF0 :                   8A49 C |  PLAYSFXF1 :                   8A72 C |
 PLAYSFXF2 :                   8A95 C |  PORTM :                         FE - |
 POT10 :                        1CC C |  PRINTF :                       1F7 C |
 PRINTFB :                      20C C |  PRINTFC :                      2F8 C |
 PRINTFF :                      237 C |  PRINTFF1 :                     280 C |
 PRINTFF2 :                     2B1 C |  PRINTFF3 :                     2BD C |
 PRINTFF4 :                     2C8 C |  PRINTFF5 :                     2D4 C |
 PRINTFF6 :                     2E0 C |  PRINTFFG :                     24E C |
 PRINTFPG :                     2F1 C |  PRINTFSA :                     2F2 C |
 PRINT_T1 :                     A8B C |  PRINT_T2 :                     A96 C |
 PRINT_TDATA :                  A99 C |  PRINT_TEXT :                   A51 C |
 PRINT_TEXT1 :                  A63 C |  PRINT_TLOC :                   AA9 C |
 PRINT_TLOC1 :                  AAB C |  PRINT_TLOC2 :                  BAB C |
 PRINT_TSIZE :                  AA1 C |  PRINT_TSP :                    AA8 C |
 PRINT_TSY :                    2E3 C |  PRINT_TTYPE :                  AA7 C |
 PROF_PERSO :                  1483 C |  PROF_PERSOAR :                1485 C |
 PROF_PERSOARC :                 14 - |  PROF_PERSOC :                   18 - |
 PROF_PERSOM :     FFFFFFFFFFFFFFF8 - |  PROPIEDAD_VEC :               64EF - |
*PROP_EXT_VEC :                15AF C |  PROP_PTR :                    1495 C |
*PRT_B :                       198C C |  PRT_CAD :                     1984 C |
 AS V1.42 Beta [Bld 28] - source file game.asm - page 237 - 8/12/2011 20:51:50


 PRT_CCAR :                    1912 C |  PRT_D :                       18DE C |
 PRT_DI :                      18DD C |  PRT_DL :                      18EE C |
 PRT_PAR :                     1928 C |  PRT_PTR :                     196F C |
 PTABLE_ADSR :                 8BE8 C |  PTABLE_EFFECT :               8BEC C |
 PTABLE_FMINS :                8BEE C |  PTABLE_VIB :                  8BEA C |
 PTR_EXCP :                    2C45 C | *PTR_GET_DIR :                 2C14 C |
 PTR_PERSO :                   148B C |  PUT2PLANE :                   104F C |
 PUT2PLN1 :                    1062 C |  PUTDIALOGO :                   157 C |
 PUTMUSINC :                   8207 C |  PUTMUSINC1 :                  8219 C |
 PUTPAGED :                    230D C | *PUTPAGEGFX :                  26C3 C |
 PUTPAGEM :                    2323 C |  PUTPAGEP1 :                   2316 C |
 PUTPAGEP2 :                   231F C |  PUTPGFX1 :                    276B C |
 PUTPM1 :                      23C9 C |  PUTRHYTHM :                   8911 C |
 PUTRHYTHM1 :                  8920 C |  PUTSFX :                      81CE C |
 PUTSFX1 :                     81E2 C |  PUTSNG :                      3A66 C |
 PUTSONG :                     8061 C | *PUTSPATTRIB :                 353A C |
 PUTSPCOLOR :                  3517 C |  PUTSPPATERN :                 34F0 C |
 PUTSP_CL1 :                   351D C |  PUTSP_CL2 :                   3530 C |
 PUTSP_PL :                    350D C |  PUT_FADET :                   38BA C |
 PUT_OBJI :                    2D47 C |  PUT_OBJI1 :                   2D66 C |
 PUT_OBJIE :                   2DA1 C | *PUT_P0 :                      2685 C |
*PUT_P1 :                      268B C |  PUT_P2 :                      2691 C |
*PUT_P3 :                      2697 C |  PUT_PAL :                     3634 C |
*PUT_PH :                      267F C |  PUT_SPRITE :                  3443 C |
 PUT_VINT :                    2B20 C |  PUT_X :                        839 C |
 PUT_XFIGA :                    8A2 C |  PUT_XPERA :                    88D C |
 PUT_X_PERSO :                  88B C |  QUITSONG :                    8226 C |
 QUIT_OBJ :                    2F7B C |  RDBLK :                         27 - |
*RD_SEG :                      2673 C |  READFILE :                    3964 C |
 READPSG :                     8133 C | *RELAXED :                        0 - |
 RESTORE_INT :                 2B3E C |  RESVDP_LI :                   3815 C |
 RETARDOPJS :                     2 - | *RETINT :                      374F C |
 RG0SAV :                      F3DF - |  RG1SAV :                      F3E0 - |
 RG8SAV :                      FFE7 - |  RHYTHM_MODE :                 8E84 C |
 R_SP :                        1910 C |  SAEB0 :                       2FD2 C |
 SAEB1 :                       2FE9 C |  SAEB2 :                       2FE7 C |
 SAEBA :                       2FC5 C |  SALIR :                       26A5 C |
 SAVE2PLANE :                   F80 C |  SAVE2PLN :                     FD7 C |
 SAVE2PLN1 :                    F91 C |  SAVE2PLN2 :                    FAD C |
 SAVE2PLN3 :                    FFA C |  SAVE2PLN4 :                    FF6 C |
 SAVE2PLNBX :                  1008 C |  SAVE2PLNBY :                   FFE C |
 SAVE2PLNN2 :                  1032 C |  SAVE2PLNNX :                  104C C |
 SAVE2PLNNY :                  104B C |  SAVE2PLNX :                    FCB C |
 SAVE2PLNXO :                  104D C |  SAVE2PLNYO :                  104E C |
 SCROLLSOL :                   14A5 C |  SCROLLST :                    14A4 C |
 SCR_SPLIT :                     90 - |  SD_VOL :                      8E86 C |
 SEARCHSONG :                  8113 C |  SEG_GFX :                     25AA C |
 SEG_MC :                      25A8 C |  SEG_MP :                      25A6 C |
 SELEC_PJ :                    1DD7 C |  SELEC_PJ1 :                   1DF9 C |
 SEL_OPC_CONT :                 591 C | *SEL_OPC_M :                    596 C |
 SEL_OPC_PJ :                   53B C |  SEL_OPC_PJ1 :                  54A C |
 SEL_OPC_PJ_A :                 572 C |  SEL_OPC_PJ_IZ :                56D C |
 SEL_OPC_PJ_W :                 57F C |  SEL_OPC_TB :                   592 C |
 SETDMA :                        1A - |  SETTIMENSFX :                 876B C |
 SETVDP_LI :                   37FF C |  SETXY_TDE :                    E0D C |
 SETXY_TF :                     E14 C |  SET_CFONDO :                  35D8 C |
 SET_SPD16 :                   35F0 C |  SET_VRAM_AD :                 355D C |
 SET_XY :                       D42 C |  SET_XY1 :                      D93 C |
 SET_XY1P :                     D91 C |  SET_XY2 :                      D9B C |
 SET_XYF :                      E00 C |  SET_XYLFIFO :                  D8C C |
 AS V1.42 Beta [Bld 28] - source file game.asm - page 238 - 8/12/2011 20:51:50


 SET_XYPJS :                    D6F C |  SET_XY_AJ1 :                   DBF C |
 SET_XY_AJ2 :                   DC7 C |  SET_XY_AJ3 :                   DD2 C |
 SET_XY_AJ4 :                   DDA C |  SET_XY_AJ5 :                   DE5 C |
 SET_XY_AJ6 :                   DEE C |  SET_XY_AJ7 :                   DF7 C |
 SFX_ON :                      8BF5 C |  SHADOWVARS :                  8E89 C |
 SHDFM_E :                     8E83 C |  SHDPSG_7 :                    8BFB C |
 SHOWINVB :                    1CE7 C | *SHOWINVB16 :                  1CEB C |
 SHOWINVD :                    1CD8 C |  SHOWINVL :                    1D15 C |
*SHOWINVN :                    1CF7 C |  SHOWP_D1 :                     37B C |
 SHOWP_D2 :                     38A C |  SHOW_DIR :                    1BD3 C |
 SHOW_INV :                    1BD4 C |  SHOW_IPO :                    1C28 C |
 SHOW_OPC :                     5CD C |  SHOW_OPC0 :                    5F9 C |
 SHOW_OPC01 :                   60D C |  SHOW_OPC1 :                    613 C |
 SHOW_OPCD :                    63E C |  SHOW_PERS :                   1AC8 C |
*SHOW_PJ2 :                     1DD C |  SHOW_PJ4 :                     346 C |
 SHOW_PJD :                    1B0F C |  SHOW_PJE1 :                   1B95 C |
 SHOW_PJE2 :                   1B93 C |  SHOW_PJEND :                  1B8C C |
 SHOW_PJI :                    1B77 C |  SHOW_PJP :                    1BD2 C |
 SHOW_PJS :                    1B1E C |  SHOW_PJS1 :                   1B37 C |
 SHOW_PJS2 :                   1B40 C |  SHOW_PJSC :                   1B2A C |
 SHOW_PJSC2 :                  1B7D C |  SHOW_PJSC3 :                  1B83 C |
 SILENCEFLAG :                 8BF3 C |  SINCRO :                      14A7 C |
 SIZEDMA :                     2000 - |  SIZ_BUFFERPAG :                1A4 - |
 SIZ_EQUPV :                     38 - |  SIZ_INDEXMAPA :                 96 - |
 SIZ_INDEXPERS :                 3C - |  SIZ_INV :                       3C - |
*SIZ_NODOS :                   1C00 - |  SIZ_OBJV :                     6E8 - |
 SIZ_PERSOC :                   654 - |  SIZ_PERSOM :                    A2 - |
 SIZ_PROPVEC :                  140 - |  SIZ_STR2PLN :                  210 - |
 SIZ_STRFIGVEC :                 E0 - |  SIZ_STRPERVC :                189C - |
 SIZ_STRPERVM :                 276 - |  SIZ_VECENL :                   258 - |
 SIZ_VECTIPOS :                 330 - |  SOL_CHGP :                    14A8 C |
 SONGACT :                     A000 - |  SONGL :                       2510 C |
 SONG_ON :                     8BF4 C |  SPC_KEY :                       40 - |
 SPD_OFF :                     35B6 C |  SPD_ON :                      35DF C |
*SPP :                            2 - |  SPRITEATTRIB :                7600 - |
 SPRITECOLOR :                 7400 - |  SPRITEGENERA :                7800 - |
 SPRITE_CRUZ :                    8 - |  SPRITE_CUAD :                    0 - |
 SPRITE_TBL :                  3840 C | *SPX :                            1 - |
*SPY :                            0 - | *STACK_EXC :                   2C18 C |
 STACK_TOP :                    125 C |  STR2PLN_PAT :                    2 - |
 STR2PLN_VEC :                 42D3 - |  STR2PLN_X :                      0 - |
 STR2PLN_Y :                      1 - |  STRDEFP_DIR :                    5 - |
 STRDEFP_TIPO :                   0 - |  STRDEFP_X :                      1 - |
 STRDEFP_Y :                      3 - |  STRENL_ADJ :                     9 - |
 STRENL_TA_OF :                   8 - |  STRENL_VEC :                  3C0F - |
 STRENL_XD :                      4 - |  STRENL_XO :                      0 - |
 STRENL_YD :                      6 - |  STRENL_YO :                      2 - |
*STREST_ANT :                     C - | *STREST_COSTE :                   4 - |
*STREST_HEURIS :                  6 - | *STREST_OPERA :                   5 - |
*STREST_PADRE :                   8 - | *STREST_SIG :                     A - |
*STREST_X :                       0 - | *STREST_Y :                       2 - |
 STREXCP_BUF :                    5 - |  STREXCP_BUFF :                   7 - |
 STREXCP_HAND :                   0 - |  STREXCP_MOD :                    4 - |
 STREXCP_PTR :                    2 - |  STREXCP_PTRF :                   3 - |
 STRFIG_ANIM :                    5 - |  STRFIG_BRD :                     A - |
 STRFIG_DIRE :                    7 - |  STRFIG_OCUP :                    8 - |
 STRFIG_PAT :                     0 - |  STRFIG_REPT :                    6 - |
 STRFIG_VECTOR :               48FD - |  STRFIG_WRT :                     9 - |
 STRFIG_XACT :                    3 - |  STRFIG_XANT :                    1 - |
*STRFIG_XBRD :                    C - |  STRFIG_YACT :                    4 - |
 AS V1.42 Beta [Bld 28] - source file game.asm - page 239 - 8/12/2011 20:51:50


 STRFIG_YANT :                    2 - | *STRFIG_YBRD :                    D - |
 STRLEN :                       2FD C |  STRLEN1 :                      2FF C |
 STRLEN2 :                      308 C |  STRMAP_MAPA :                   18 - |
 STRMAP_PAT0 :                   28 - | *STRMAP_PAT1 :                   34 - |
*STRMAP_PAT10 :                  A0 - | *STRMAP_PAT11 :                  AC - |
*STRMAP_PAT2 :                   40 - | *STRMAP_PAT3 :                   4C - |
*STRMAP_PAT4 :                   58 - | *STRMAP_PAT5 :                   64 - |
*STRMAP_PAT6 :                   70 - | *STRMAP_PAT7 :                   7C - |
*STRMAP_PAT8 :                   88 - | *STRMAP_PAT9 :                   94 - |
 STRMAP_PATMAP :                  0 - |  STRMAP_PROP :                    C - |
 STRMAP_XDEF :                   24 - |  STRMAP_YDEF :                   26 - |
 STRNIV_CIUD1 :                   C - | *STRNIV_CIUD10 :                 78 - |
*STRNIV_CIUD2 :                  18 - | *STRNIV_CIUD3 :                  24 - |
*STRNIV_CIUD4 :                  30 - | *STRNIV_CIUD5 :                  3C - |
*STRNIV_CIUD6 :                  48 - | *STRNIV_CIUD7 :                  54 - |
*STRNIV_CIUD8 :                  60 - | *STRNIV_CIUD9 :                  6C - |
 STRNIV_MAPEX :                   0 - |  STROBJ_AT :                     2C - |
*STROBJ_DF :                     2D - |  STROBJ_GRAF :                   2B - |
 STROBJ_LG :                     31 - | *STROBJ_MG :                     33 - |
*STROBJ_MV :                     2E - | *STROBJ_NOM :                     0 - |
*STROBJ_PROF :                   30 - | *STROBJ_PV :                     2F - |
*STROBJ_TA :                     32 - | *STROUT :                         9 - |
 STRPER_DIR :                    13 - |  STRPER_FIG :                     5 - |
*STRPER_KEY :                    14 - |  STRPER_MON :                    10 - |
 STRPER_NIV :                     E - |  STRPER_OCUP :                   12 - |
 STRPER_PAR :                     A - |  STRPER_PAT :                     F - |
 STRPER_PEX :                     C - |  STRPER_PMV :                     B - |
 STRPER_PV :                      7 - |  STRPER_PVTQ :                    9 - |
 STRPER_TIPO :                    4 - |  STRPER_VECCIT :               4C53 - |
 STRPER_VECMAP :               49DD - |  STRPER_X :                       2 - |
 STRPER_Y :                       0 - |  STRTIPE_EQUI :                  17 - |
 STRTIPE_INV :                   16 - | *STRTIPE_MON :                   14 - |
*STRTIPE_NIV :                   12 - |  STRTIPE_NOM :                    0 - |
*STRTIPE_PAR :                    E - | *STRTIPE_PAT :                   13 - |
 STRTIPE_PATQ :                   D - | *STRTIPE_PEX :                   10 - |
 STRTIPE_PMV :                    F - |  STRTIPE_PV :                     B - |
 STRUCT2PLANE :                   3 - |  STRUCTDEFPER :                   6 - |
 STRUCTENLACE :                   A - |  STRUCTESTADO :                   E - |
 STRUCTEXCEP :                    9 - |  STRUCTFIGURA :                   E - |
 STRUCTMAPEADO :                 B8 - |  STRUCTNIVEL :                   84 - |
 STRUCTOBJETO :                  34 - |  STRUCTPERSO :                   15 - |
 STRUCTTIPOP :                   18 - | *SUBSLT :                      FAF8 - |
 SWAP_ABA :                     9CC C |  SWAP_ABX :                     9DC C |
 SWAP_ARA :                     9EC C |  SWAP_ARX :                     9FC C |
 SWAP_CONT :                    A4F C |  SWAP_DER :                     9AC C |
 SWAP_DEX :                     9BC C |  SWAP_FLAG :                    A50 C |
 SWAP_IZX :                     99F C |  SWAP_PAGE :                    943 C |
 SWAP_PAGEF :                   A47 C |  SWAP_PAGENS :                  A32 C |
 SWAP_PAGE_C :                  440 C |  SWAP_PAGFL :                   A09 C |
*SWAP_PAGND :                   A0F C |  SYSDOS1 :                     252D C |
 SYSDOS2 :                     25AD C |  TABLA_ANIMAE :                1322 C |
 TABLA_ANIMC :                 130A C |  TABLA_PATC :                  12E2 C |
 TABLA_PATE :                  12FA C |  TABLEMINC :                   931E C |
 TABLE_ADSR :                  911C C |  TABLE_CMD :                   802D C |
 TABLE_EFFECT :                917C C |  TABLE_FMINS :                 91FC C |
 TABLE_NOTE :                  8B58 C |  TABLE_OP :                    84EC C |
 TABLE_SFX :                   931C C |  TABLE_VIB :                   914C C |
*TAMPAN :                       300 - | *TAM_DIR_BUFF :                  20 - |
 TAM_FIFO :                      20 - |  TAM_FILA_MTEX :               1487 C |
 TBLAN_PTR :                   12E0 C |  TBLCP_PTR :                   12DE C |
 AS V1.42 Beta [Bld 28] - source file game.asm - page 240 - 8/12/2011 20:51:50


 TBLPARADDRESS :               8700 C |  TBLPLAYSFX :                  8A41 C |
 TESTCOM :                     3601 C |  TEST_FUNC :                   2C8A C |
*TIME :                    20:51:50 - |  TIMEFADE :                       3 - |
 TIMELASTCHN :                 8BF1 C |  TIME_ :                       2B56 C |
 TIPOS_VEC :                   3FA3 - |  TJMPINITEFFECT :              89AF C |
 TLAST_FM :                    816D C |  TMESG :                       3017 C |
 TMSX :                        8274 C | *TRUE :                           1 - |
 TURNO_PJ1 :                   19A0 C |  TURNO_PJ2 :                   199D C |
 TURNO_PJC :                   19CC C |  TURNO_PJS :                   198D C |
 UP_CORTINA :                   678 C |  UP_CORTINA1 :                  69E C |
 UP_CORTINA2 :                  6D1 C |  UP_CORTINAD1 :                 711 C |
 UP_CORTINAD2 :                 720 C |  UP_CORTINAI1 :                 70F C |
 UP_CORTINAI2 :                 710 C |  UP_CORTINA_AB :                6AD C |
 UP_CORTINA_E :                 706 C |  UP_CORTINA_UP :                6E0 C |
 UP_CORT_ALT1 :                 70B C |  UP_CORT_ALT2 :                 70C C |
 UP_CORT_INI1 :                 70D C |  UP_CORT_INI2 :                 70E C |
 UP_EXCP :                     2C74 C |  VECTOR_INT :                  2B51 C |
*VERSION :                     142F - |  VER_PAGE :                    3621 C |
 VIEW_P1 :                     1F4E C |  VIEW_P2 :                     1F5A C |
 VIEW_P3 :                     1F73 C |  VIEW_PERSO :                  1F43 C |
 VIS_OFF :                     35A5 C |  VIS_ON :                      3594 C |
 VOLFM_HH :                    87E5 C |  VOLFM_MEL :                   87FD C |
 VOLFM_WR :                    87F0 C |  VOLSFX_FM :                   8AE9 C |
 VOLSFX_W :                    8AEB C |  WAITKB :                       8C3 C |
 WAIT_COM :                    361B C |  WFMINST1 :                    85FF C |
 WFMINST2 :                    8609 C |  WFM_VOL :                     8808 C |
 WFRCPSG_NOISE :               895D C |  WFRECFM :                     8938 C |
 WFRECPSG :                    8930 C |  WRITEADSRVOL :                8481 C |
 WRITEFM :                     8139 C |  WRITEFM1 :                    814F C |
 WRITEFM2 :                    815C C |  WRITEFMINST :                 85F2 C |
 WRITEFMT :                    8149 C |  WRITEFREC :                   8923 C |
 WRITEFRECFM :                 8965 C |  WRITEFRECPAR :                8940 C |
 WRITEFRECPSG1 :               8960 C |  WRITEPNA0 :                   1123 C |
 WRITEPNA1 :                   1136 C |  WRITEPNA2 :                   115A C |
 WRITEPNA3 :                   1184 C |  WRITEPSG :                    812B C |
 WRITEVOL :                    8789 C |  WRITEVOLEND :                 880B C |
 WRITE_0 :                     1121 C |  WRITE_CONT :                  14AD C |
 WRITE_PNA :                   1111 C |  WRITE_PNA_C :                  399 C |
 WRTFRECEND :                  898E C |  WRTFRECFM_W :                 897A C |
 WRT_PA_ENC :                  118B C |  WRT_PA_MAY :                  118A C |
 WRT_PA_PTR :                  1188 C | *WR_SEG :                      2676 C |
 WVOLCHIP :                    87AD C |  WVOLFM :                      87CB C |
 WVOLPSG :                     87A4 C |  WVOLPSG1 :                    87AC C |
 XMOVE1 :                       4F9 C |  XMOVE2 :                       4FF C |
 XMOVE3 :                       507 C |  XMOVE4 :                       50D C |
 __BACK0 :                     3A6D C |  __FORW0 :                     18FA C |
 __FORW1 :                     1900 C | *__FORW17 :                    29AD C |
 __FORW2 :                     190C C |  __FORW3 :                     191F C |
 __FORW4 :                     1926 C |  __FORW5 :                     1942 C |
 __FORW6 :                     1957 C |  __FORW7 :                     1961 C |
 __FORW8 :                     196C C |

   1295 symbols
    156 unused symbols

 AS V1.42 Beta [Bld 28] - source file game.asm - page 241 - 8/12/2011 20:51:50


  defined macros:
  ---------------

ASSERT                                | PUSH8B                               
PUSHLIST                              | PUSHT                                

      4 macros

 AS V1.42 Beta [Bld 28] - source file game.asm - page 242 - 8/12/2011 20:51:50


  codepages:
  ----------

STANDARD (0 changed characters)

 AS V1.42 Beta [Bld 28] - source file game.asm - page 243 - 8/12/2011 20:51:50



  cross reference list:
  ---------------------

symbol ABAJO (=3,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:28):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     698     1225     1332     1588     2744     2749     1237      313    
    111( 5)  112( 5)  113( 5)  114( 2)
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1237      313      111( 5)  112( 5)  113( 5)  114( 2)
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     313      111( 5)  112( 5)  113( 5)  114( 2)
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm :
     111( 5)  112( 5)  113( 5)  114( 2)

symbol ABASCR (=4,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:39):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1595     2068     2201    

symbol ABA_DER (=4,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:29):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     716     1576     1590     2742     1171      298    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1171      298    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     298    

symbol ABA_IZQ (=5,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:30):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     724     1561     1592     2747     1180      278    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1180      278    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     278    

symbol ACSFX_N1E (=88A0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1528):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1522    

symbol ACTCHANNEL (=880F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1436):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     941    

symbol ACTCHNFM_M (=8835,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1458):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1446    

symbol ACTCHNPSG (=8854,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1475):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1443    

symbol ACTCHNPSG1 (=8863,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1486):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1483    

symbol ACTCHNPSG2 (=886D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1493):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1490    

symbol ACTCHNPSGN (=8878,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1502):
 AS V1.42 Beta [Bld 28] - source file game.asm - page 244 - 8/12/2011 20:51:50


 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1495    

symbol ACTCHNPSG_7 (=887E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1507):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1499    

symbol ACTCHNSFX (=888C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1516):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1472     1479    

symbol ACTIVECHANNEL (=871D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1236):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1218    

symbol ACTIVEHHINST (=8741,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1264):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1257    

symbol ACTIVENOISE (=875A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1287):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1223    

symbol ACTIVERHYTHM (=8772,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1309):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1227    

symbol ACTIVESD_HH (=8732,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1253):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1221    

symbol ACTIVETCY (=8755,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1281):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1274    

symbol ACTIVETOM_TCY (=8746,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1270):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1222    

symbol ACTTIMESOUND (=86AC,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1163):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1153    

symbol ADDUNITSINT (=8764,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1297):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1225    

symbol ADD_EXCP (=2C48,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:149):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1238      819       52    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     819       52    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm :
      52    

symbol ADD_HL (=8B3A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1988):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     364     1107     1127     1985    

symbol ADD_HL_A2 (=8B36,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1983):
 AS V1.42 Beta [Bld 28] - source file game.asm - page 245 - 8/12/2011 20:51:50


 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1210     1711     1804     1980    

symbol ADD_HL_A4 (=8B32,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1978):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     894     1192    

symbol ADRMUSIC (=8000,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:5):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    3263    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     125      179     3263    

symbol ADSRDEF (=846C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:769):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     761    

symbol ADSRSUSTAIN (=8473,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:774):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     766      771    

symbol ALL_SEG (=266D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:216):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     154      162    

symbol ALTOPATPER (=1490,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3180):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2318     2976      163      300     1262    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     163      300     1262    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1262    

symbol ALTOPIXPER (=13EA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3060):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      84      227    

symbol ALTO_OPT (=13,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:116):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     916      925      935      938      979    

symbol ANCHOPATPER (=148F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3179):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2326     2965      165      302     1301    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     165      302     1301    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1301    

symbol ANCHOPIXPER (=13E8,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3059):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      82      226     1103    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1103    

symbol ANIMACIONI (=149B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3187):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2504      159      296    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     159      296    
 AS V1.42 Beta [Bld 28] - source file game.asm - page 246 - 8/12/2011 20:51:50



symbol ANIMACIONIC (=C,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:93):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     158    

symbol ANIMACIONIM (=8,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:94):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     295    

symbol APPLYEFFECT (=8ACF,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1889):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1532     1834     1850     1883    

symbol ARRIBA (=2,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:27):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     692     1223     1330     1604     2734     2739     1226      307    
    118( 5)
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1226      307      118( 5)
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     307      118( 5)
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm :
     118( 5)

symbol ARRSCR (=8,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:40):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1611     2057     2175    

symbol ARR_DER (=6,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:31):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     732     1574     1606     2732     1190      294    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1190      294    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     294    

symbol ARR_IZQ (=7,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:32):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     740     1559     1608     2737     1201      274    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1201      274    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     274    

symbol ASK_OUT (=269D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:239):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     857     1253     1409     1413      195       99      213    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     195       99      213    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
      99      213    

symbol ASSIGN_FLG (=2F28,/home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm:341):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     283      292      310      321      332    

symbol ASSIGN_I0 (=2EDA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm:280):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     275    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 247 - 8/12/2011 20:51:50


symbol ASSIGN_I2 (=2EF9,/home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm:307):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     294    

symbol ASSIGN_OBJ (=2ECA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm:271):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     232    

symbol ASSIG_I1 (=2F15,/home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm:325):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     316    

symbol ASSIG_RET (=2F25,/home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm:337):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     334    

symbol AUANIM1 (=122C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2765):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2717     2762    

symbol AUANIM2 (=11FA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2729):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2722     2726    

symbol AUANIM3 (=122A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2763):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2727    

symbol AUANIMC (=1219,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2751):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2735     2740     2745     2748    

symbol AUANIM_ABD (=120B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2742):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2738    

symbol AUANIM_ABI (=1213,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2747):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2743    

symbol AUANIM_ARI (=1203,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2737):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2733    

symbol AUTO_PTR (=122E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2769):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2756       92      235    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      92      235    

symbol AU_ANIMACION (=11E8,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2715):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2505     2543    

symbol B1 (=2646,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:188):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     194      198      200      210    

symbol BDOS (=5,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:1):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
 AS V1.42 Beta [Bld 28] - source file game.asm - page 248 - 8/12/2011 20:51:50


     106       14       31       35       44    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/file.asm :
      14       31       35       44    

symbol BEGINDECO (=8365,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:625):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     574      582      585      591      596      607      615    

symbol BMODE_EXT (=145,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:58):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      24    

symbol BMODE_INT (=127,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:37):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      23    

symbol BNSTR (=17E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:120):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     316    

symbol BNSTR3 (=1C3,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:176):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     160    

symbol BSDIV (=19C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:145):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     148    

symbol BSLOOP (=193,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:135):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     178    

symbol BS_BLANK (=1D6,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:187):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     121      158    

symbol BS_FLAG (=1CB,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:185):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     133      154      169    

symbol BUFFER (=6D8B,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:31):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1444     1450     1456      378      380      382      385      391    
    350      353      446      450      604      606      607      611    
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      32     1444     1450     1456      378      380      382      385    
    391      350      353      446      450      604      606      607    
    611    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     378      380      382      385      391      350      353      446    
    450      604      606      607      611    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     350      353      446      450      604      606      607      611    

symbol BUFFER_FUNC (=3752,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:885):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      50      138      275      192       46       89      209      860    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     138      275      192       46       89      209      860    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
 AS V1.42 Beta [Bld 28] - source file game.asm - page 249 - 8/12/2011 20:51:50


     192       46       89      209      860    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
      46       89      209      860    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
      89      209      860    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     860    

symbol BUFFER_INT (=379B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:926):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     149      286       83      854    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
      83      854    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     854    

symbol BUFFER_PAG1 (=44E3,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:20):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1478     3185    
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      21     1478     3185    

symbol BUFFER_PAG2 (=4687,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:21):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    3186    
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      22     3186    

symbol BWSTR0 (=1B7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:164):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     156    

symbol BWSTR1 (=1B8,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:165):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     151    

symbol BWSTR2 (=1C1,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:173):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     162    

symbol CALSLT (=1C,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:14):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     510    

symbol CARAS (=1526,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3214):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      47    

symbol CAS_ORI (=2EC9,/home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm:260):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     116      236      311    

symbol CAS_RES (=2EC6,/home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm:257):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     229      237      241      249    

symbol CEN_HOR_ABA (=20,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:54):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1984    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 250 - 8/12/2011 20:51:50


symbol CEN_HOR_ARR (=10,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:53):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1979    

symbol CEN_TOTAL (=0,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:52):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1371     1973      176      334      807    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     176      334      807    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     807    

symbol CEN_VER_DER (=40,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:56):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1996    

symbol CEN_VER_IZQ (=30,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:55):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1991    

symbol CHANGEMODECHN (=88AD,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1535):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     724      745      821      940      952     1240    

symbol CHANGE_PAL (=3682,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:721):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     160      277      367      825      830     1069    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     825      830     1069    

symbol CHANNELACT (=8BFA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2057):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     381      397      706      709      740      895     1255     1272    
   1361     1441     1537     1619     1641     1897     1930    

symbol CHANNELOFF (=8BF0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2042):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     145      285      297      621      682    

symbol CHECK_CIB (=479,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:641):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     669    

symbol CHECK_CIFB (=498,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:668):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     653      661    

symbol CHECK_CINV (=472,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:637):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     115      222    

symbol CHECK_CIX (=481,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:648):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     644    

symbol CHECK_CIY (=490,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:660):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     657    

symbol CHGCHNMODEEND (=890F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1594):
 AS V1.42 Beta [Bld 28] - source file game.asm - page 251 - 8/12/2011 20:51:50


 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1455     1544     1558     1564     1578    

symbol CHGFONT1 (=CB0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1777):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1767    

symbol CHGMOD (=5F,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:15):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     509    

symbol CHGMODEFM (=88DE,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1567):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1539    

symbol CHGMODEFM_MEL (=88F7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1581):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1569    

symbol CHGMODEPSG_W (=88CA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1556):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1549     1553    

symbol CHG_FONTS (=C9B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1766):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     374      380    

symbol CHK_A01 (=2F49,/home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm:376):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     370    

symbol CHK_AO1 (=2F41,/home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm:369):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     373    

symbol CHK_ASG_OBJ (=2F29,/home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm:354):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     298    

symbol CHNSFXPSG1 (=8BFD,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2061):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     348      349      354      687    

symbol CHNTBLSONG (=8C59,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2069):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     309      640    

symbol CLOSEFILE (=3974,/home/k0ga/msx/proyec/rpg/shike/actual/asm/file.asm:42):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     361      387       76      292      375      396      407      420    
    448      613    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
      76      292      375      396      407      420      448      613    

symbol CLOSE_WIN (=1D7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:196):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     198      155      271      361    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     155      271      361    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 252 - 8/12/2011 20:51:50


symbol CMD_CHKMUS (=80EC,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:144):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
      46    

symbol CMD_CHKSFX (=8126,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:198):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
      48    

symbol CMD_FADEIN (=80D7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:130):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
      45    

symbol CMD_FADEOUT (=80C9,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:119):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
      44    

symbol CMD_INCMUS (=8104,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:164):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
      50    

symbol CMD_INICHIPS (=80C2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:112):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
      43    

symbol CMD_INIVAR (=8047,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:56):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
      40       41    

symbol CMD_MUSICOFF (=8059,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:80):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
      51    

symbol CMD_MUSICON (=8052,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:74):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
      49    

symbol CMD_PUTMINC (=804E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:66):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
      52    

symbol CMD_PUTSFX (=804A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:60):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
      42    

symbol CMD_SFX (=80F5,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:152):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
      47    

symbol COLOR0_OFF (=35C7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:572):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      18    

symbol COLOR_NEGRO (=FF,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:103):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      28    

symbol COMPARES (=8B14,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1945):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1825     1867    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 253 - 8/12/2011 20:51:50


symbol COMPARES1 (=8B23,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1957):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1947    

symbol COORCXDE (=B0,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:129):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2234    

symbol COORCXIZ (=20,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:130):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2207    

symbol COORCYAB (=40,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:132):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2180    

symbol COORCYAR (=20,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:131):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2154    

symbol COORDY_OBJ (=0,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:112):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     461      412    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     412    

symbol COORDY_OPT (=D4,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:114):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     957     1017       44    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      44    

symbol COORDY_PAT (=98,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:111):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2439     3027     3129      119      255    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     119      255    

symbol COOR_Y_NA (=43E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:591):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     564      566      574      143    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     143    

symbol COPYVRAM (=3346,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:38):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     472      476      544      547      572      998     1111     1146    
   1463     1709     2452     2878     3037     3134      151      399    
     64    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     151      399       64    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
      64    

symbol CRUZSP1 (=3B1F,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:5):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
       6      372      373      186    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     372      373      186    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
 AS V1.42 Beta [Bld 28] - source file game.asm - page 254 - 8/12/2011 20:51:50


     186    

symbol CRUZSP2 (=3B3F,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:6):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
       7    

symbol CRUZSPC1 (=3BBF,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:10):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      11      187    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     187    

symbol CRUZSPC2 (=3BCF,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:11):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      12    

symbol CRUZ_X (=471,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:626):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     520    

symbol CRUZ_Y (=470,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:625):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     518      524      573      685      774       84       92       97    
    114      142      221    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
      84       92       97      114      142      221    

symbol CUADSP1 (=3B5F,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:7):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1028    
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
       8     1028    

symbol CUADSP2 (=3B7F,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:8):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1035    
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
       9     1035    

symbol CUADSP3 (=3B9F,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:9):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      10    

symbol CUADSPC1 (=3BDF,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:12):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1029     1036    
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      13     1029     1036    

symbol CUADSPC2 (=3BEF,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:13):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      14    

symbol CUADSPC3 (=3BFF,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:14):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      15    

symbol CURSORX (=2FB,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:408):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     276      280      329      331      362      364      401    
 AS V1.42 Beta [Bld 28] - source file game.asm - page 255 - 8/12/2011 20:51:50



symbol CURSORXI (=2FC,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:409):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     249      400    

symbol CURSORY (=2FA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:407):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     247      272      320      353      397      399    

symbol DEBUG (=1,INTERNAL:0):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm :
       9       51       69       82      115      143      267      286    
    298      345        5       16       37    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
      51       69       82      115      143      267      286      298    
    345        5       16       37    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/song.asm :
       5       16       37    

symbol DECOCHANNEL (=83FE,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:703):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     644      646      648      650      652      654      656      658    
    660      662      664      666      692      694    

symbol DECOCHNADSR (=844C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:747):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     731      735      742    

symbol DECOCHNMEL (=8417,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:717):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     711    

symbol DECOCHNTIMEOFF (=8449,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:744):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     738    

symbol DECOCHNVIB (=848C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:788):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     779    

symbol DECOLOOP (=8378,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:635):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     668    

symbol DECONEXT (=84B0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:806):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     750    

symbol DECOOP2 (=84D9,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:828):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     835    

symbol DECOOP3 (=84E2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:838):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     830    

symbol DECOPOP1 (=84C3,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:816):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     811      843    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 256 - 8/12/2011 20:51:50


symbol DECOSFX (=83E0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:686):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     675    

symbol DEMOBUFFER (=3301,/home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm:103):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm :
      50    

symbol DERECHA (=0,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:26):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     704      864     1572      222     1220      290      301      104( 5)
    105( 5)  106( 5)  107( 5)  108( 5)  109( 3)  116( 5)  117( 4)
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     222     1220      290      301      104( 5)  105( 5)  106( 5)  107( 5)
    108( 5)  109( 3)  116( 5)  117( 4)
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     290      301      104( 5)  105( 5)  106( 5)  107( 5)  108( 5)  109( 3)
    116( 5)  117( 4)
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm :
     104( 5)  105( 5)  106( 5)  107( 5)  108( 5)  109( 3)  116( 5)  117( 4)

symbol DERSCR (=2,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:38):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1579     2091     2255    

symbol DESP_PANTX (=14A0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3193):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2037     2083     2085     2094     2096     2286     2994     3093    
    152      289     1362    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     152      289     1362    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1362    

symbol DESP_PANTY (=14A2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3194):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2038     2060     2062     2071     2073     2306     2981     3085    
    154      291     1380    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     154      291     1380    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1380    

symbol DIR_ACTUAL (=149E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3190):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      40      682      862     1215     1249     1291     1311     1325    
   1342     1553     1567     1583     1599     1631      216       53    
     60       84      121    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     216       53       60       84      121    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
      53       60       84      121    

symbol DISABLECHANNEL (=8718,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1231):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1217    

symbol DISABLENOISE (=875F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1292):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1224    
 AS V1.42 Beta [Bld 28] - source file game.asm - page 257 - 8/12/2011 20:51:50



symbol DISABLERHYTHM (=877D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1317):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1228    

symbol DISABLESUS (=8728,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1243):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1219    

symbol DMAHIGH (=C000,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:1):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
      73       80      289      296    

symbol DOFADE (=390E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:1095):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
    1059    

symbol DOFADE1 (=3910,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:1097):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
    1132    

symbol DOFADEIG (=3921,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:1110):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
    1104     1107    

symbol DOFADEIG2 (=3937,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:1125):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
    1116     1121    

symbol DOFADEMAY (=3920,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:1108):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
    1105    

symbol DOFADEMAY2 (=3933,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:1122):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
    1117    

symbol DOSCR1 (=EA4,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2139):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2141    

symbol DOSCR2 (=EB5,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2147):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2149    

symbol DOSCROLL (=E6D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2108):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     977      991    

symbol DOSCROLL1 (=E9C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2136):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2131    

symbol DOSCROLLAB (=EE8,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2178):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2156     2173    

symbol DOSCROLLDE (=F42,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2232):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2209     2225    
 AS V1.42 Beta [Bld 28] - source file game.asm - page 258 - 8/12/2011 20:51:50



symbol DOSCROLLIZ (=F15,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2205):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2182     2198    

symbol DOSCR_PATX (=F6E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2260):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2142     2169     2194     2219     2246    

symbol DOSCR_PATY (=F70,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2261):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2150     2158     2184     2211     2238    

symbol DOSCR_SFIG (=F72,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2262):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2114     2152     2178     2205     2232    

symbol DOSVER (=25AC,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:139):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     159    

symbol DO_OPC_DUMMY (=63D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1015):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     980    

symbol DO_OPC_PJ_BC (=63B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1014):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     932      964      993    

symbol DO_VISUAL (=8B0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1404):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      44      970      343    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     343    

symbol DO_WAY_P1 (=1F31,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:832):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     834    

symbol DO_WAY_PER (=1ED4,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:777):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     804      784    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     784    

symbol DW_EXCP (=2C7F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:181):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1347    

symbol EMPTYSONG (=806A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:92):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
      83    

symbol ENABLESUS (=872D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1248):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1220    

symbol ENDCOMMAND (=8025,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:29):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
      15    
 AS V1.42 Beta [Bld 28] - source file game.asm - page 259 - 8/12/2011 20:51:50



symbol ENDLOOPINT (=83C7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:671):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     637    

symbol ENDTIME (=3718,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:839):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     834    

symbol EQUIPOV (=1597,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3231):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     336    

symbol EQUIPOVT (=6D53,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:30):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      31    

symbol EQUIPO_ACT (=46E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:624):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     338      165      277      318    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     165      277      318    

symbol ERASE0 (=11AD,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2660):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2654    

symbol ERASE1 (=11B6,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2664):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2694    

symbol ERASE2 (=11E3,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2693):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2666    

symbol ERASE_0 (=11A1,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2652):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2644     2648    

symbol ERASE_PNA (=118C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2638):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1268     1404     2640      185    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     185    

symbol ERASE_PNA_C (=3DD,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:554):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     556      212      245    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     212      245    

symbol ESQ_INF_DER (=80,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:60):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2015    

symbol ESQ_INF_IZQ (=70,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:59):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2009    

symbol ESQ_SUP_DER (=60,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:58):
 AS V1.42 Beta [Bld 28] - source file game.asm - page 260 - 8/12/2011 20:51:50


 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2003    

symbol EXBRSA (=FCC1,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:17):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     508    

symbol EXTBIO (=FFCA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:17):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     152    

symbol EXTERIOR (=1,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:44):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      59     2565     2653      297      855      951    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     297      855      951    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     855      951    

symbol F1_KEY (=20,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:34):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      45       16      197      575      241      101    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      16      197      575      241      101    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     241      101    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     101    

symbol FADECONTACT (=8BF7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2052):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     566    

symbol FADECTL (=8BF9,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2056):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     123      136      147      567      584      613      783     1334    

symbol FADEINP (=8320,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:577):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     572    

symbol FADENUMPASS (=8BF8,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2054):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     138     1337    

symbol FADEOREST (=835B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:619):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     610    

symbol FADEOUTACT (=833D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:600):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     594    

symbol FADEOUTR (=832E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:589):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     569    

symbol FADEOUTREST (=8BF2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2044):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     126      608    
 AS V1.42 Beta [Bld 28] - source file game.asm - page 261 - 8/12/2011 20:51:50



symbol FADE_OFF (=3896,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:1024):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1883      838      245       56    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     838      245       56    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     245       56    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm :
      56    

symbol FADE_ON (=38A9,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:1039):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2650        8    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm :
       8    

symbol FADE_V (=149D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3189):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1882     2642     2647      207      324      837        7       55    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     207      324      837        7       55    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     837        7       55    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm :
       7       55    

symbol FCBLOAD (=5C,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:10):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/file.asm :
       8       13       17       19       20       34       42    

symbol FCLOSE (=10,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:3):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/file.asm :
      43    

symbol FILEOPEN (=3944,/home/k0ga/msx/proyec/rpg/shike/actual/asm/file.asm:7):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     357      376       72      288      371      389      403      416    
    441      602    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
      72      288      371      389      403      416      441      602    

symbol FINAL (=3B1F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3261):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
       5    

symbol FINDEMO (=3342,/home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm:123):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm :
      49    

symbol FINI (=266B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:211):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     190    

symbol FMCDRV (=9320,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3266):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     126      180    

symbol FM_INSTSOFT (=8BFC,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2059):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
 AS V1.42 Beta [Bld 28] - source file game.asm - page 262 - 8/12/2011 20:51:50


     402     1023    

symbol FONDO_ACT (=468,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:621):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     608      610    

symbol FONDO_NACT (=46A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:622):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     535      559      561      609      611    

symbol FOPEN (=F,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:2):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/file.asm :
      12    

symbol FOUND_ENLACE (=CC5,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1805):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     944    

symbol FRECSFX (=8AF0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1915):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1893    

symbol FRECSFX1 (=8AF7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1921):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1918    

symbol FRECSFX_W (=8B0F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1938):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1932    

symbol FT_AUTOC (=1230,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2773):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      91    

symbol FT_AUTOE (=1264,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2793):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     234    

symbol FUNCGM (=2694,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:11):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     170    

symbol FUNCPM (=2691,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:12):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     177      183    

symbol FUNC_ACT (=149F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3191):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
      29       47      200    

symbol GEST_DATAP (=420,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:584):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     521      525      528      545      198      201    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     198      201    

symbol GEST_DATAR (=42F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:585):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     560      562      565      567      569      570    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 263 - 8/12/2011 20:51:50


symbol GEST_DATAS (=411,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:583):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     522      526      529      532      537      539      542    

symbol GEST_INP (=2EAB,/home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm:239):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     235    

symbol GEST_INV (=2DB0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm:77):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     207    

symbol GEST_INV0 (=2DEE,/home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm:109):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     104    

symbol GEST_INV00 (=1B5B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:211):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     206    

symbol GEST_INV1 (=2DC4,/home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm:88):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     112      118      147    

symbol GEST_INVB (=2E0D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm:126):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     140    

symbol GETNEXTOP (=8990,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1697):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1003     1048     1149     1183     1185     1190     1208     1298    
   1304    

symbol GET_DIR (=2BBC,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:58):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     681      858     1212     1309     1547      202      319      211    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     202      319      211    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     211    

symbol GET_DIR1 (=2BF3,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:99):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
      88    

symbol GET_DIR2 (=2C02,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:113):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     107    

symbol GET_DIR3 (=2C0E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:121):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     117    

symbol GET_DIROP1 (=2BF0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:95):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
      28       52    

symbol GET_DIROP2 (=2C01,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:111):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
      27       50    
 AS V1.42 Beta [Bld 28] - source file game.asm - page 264 - 8/12/2011 20:51:50



symbol GET_DIROP4 (=2C0E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:120):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
      30       54    

symbol GET_DIR_BUFF (=1,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:145):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1235      818      106       51    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     818      106       51    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     106       51    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm :
      51    

symbol GET_DIR_KEY (=0,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:144):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      78      222      827       87    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     827       87    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
      87    

symbol GET_FUNC (=2B7F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:25):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     199    

symbol GET_KEY (=2BE3,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:86):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
      48    

symbol GET_KEYBOARD (=2BC7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:67):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
      59    

symbol GET_P2 (=2694,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:229):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
      11    

symbol GFIG_MOVAC (=10EF,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2535):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1420    

symbol GFXACTUAL (=8000,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:7):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     297    

symbol GFXL (=28B2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:310):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     279    

symbol GOTO_SPXY (=33C4,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:159):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     851     1052       95      202    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
      95      202    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     202    

symbol GOTO_SPXYG (=33BC,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:142):
 AS V1.42 Beta [Bld 28] - source file game.asm - page 265 - 8/12/2011 20:51:50


 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1289     1389    

symbol GO_CIUDAD (=1635,/home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm:70):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      16    

symbol GO_CIUDAD1 (=16DC,/home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm:146):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     148    

symbol GO_CIUDAD3 (=1885,/home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm:342):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     345    

symbol GO_ENLACE1 (=CE2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1826):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1846    

symbol GO_ENLACE2 (=CFC,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1842):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1833    

symbol GO_ENLACE3 (=D08,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1854):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1840    

symbol GO_ENLACE4 (=D21,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1872):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1860    

symbol GO_EXTERIOR1 (=1803,/home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm:283):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     285    

symbol GRAF_OBJ (=1532,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3217):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
      49      194    

symbol G_SPXY1 (=33CF,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:170):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     179    

symbol HANDLE_DEF (=2C47,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:136):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     193      308      817      125    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     817      125    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     125    

symbol HANDLE_EKB (=2C12,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:125):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     194      309      132    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     132    

symbol HH_VOL (=8E85,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2122):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1390     1396    
 AS V1.42 Beta [Bld 28] - source file game.asm - page 266 - 8/12/2011 20:51:50



symbol HIDE_CRUZ (=33EA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:198):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      34      154    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     154    

symbol HIDE_CUAD (=66C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1048):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     798       36    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      36    

symbol HIDE_OPC (=597,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:912):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     799      914    

symbol IMCDRV (=8000,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3264):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     126      180    

symbol INCXY_SP1 (=34E3,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:329):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     339    

symbol INC_MOV (=1491,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3181):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1622     1640      157      294     1002     1173     1182     1192    
   1203     1215     1222     1228     1239    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     157      294     1002     1173     1182     1192     1203     1215    
   1222     1228     1239    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1002     1173     1182     1192     1203     1215     1222     1228    
   1239    

symbol INC_MOVD (=8,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:119):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1621    

symbol INC_MOVS (=4,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:118):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1638      156      293     1001    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     156      293     1001    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1001    

symbol INDEXMAPA (=4867,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:23):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2163     2189     2214     2241     2334     2989     3088      392    
   1280    
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      24     2163     2189     2214     2241     2334     2989     3088    
    392     1280    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     392     1280    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1280    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 267 - 8/12/2011 20:51:50


symbol INDEXPERSO (=482B,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:22):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1245     1265       54      297      754      790      859      910    
   1036    
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      23     1245     1265       54      297      754      790      859    
    910     1036    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      54      297      754      790      859      910     1036    

symbol INICHIP1 (=8254,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:422):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     427    

symbol INICHIPS (=824A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:414):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     114      614      623    

symbol INISFXF2 (=89F2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1761):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1720     1721    

symbol INITBLSNG (=819D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:308):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
      89      391    

symbol INITBLSNG1 (=81AA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:316):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     312    

symbol INITBLSNG2 (=81AE,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:322):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     342    

symbol INITEFFECT (=899F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1707):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1204     1530     1797    

symbol INITFIGURA (=10A2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2476):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1412    

symbol INITFIGURA1 (=10AC,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2480):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2488    

symbol INITFIGURA2 (=10B8,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2487):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2482    

symbol INITFIGURA3 (=10C1,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2495):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2485    

symbol INITP16X16 (=33F7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:231):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1033     1040      191    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     191    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 268 - 8/12/2011 20:51:50


symbol INITP16X16A (=3440,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:286):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     232      252      257    

symbol INITP16X16A2 (=3441,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:287):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     235      250      266    

symbol INITP16X16A3 (=3442,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:288):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     238      264    

symbol INITP16X16B1 (=3404,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:241):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     242    

symbol INITP16X16B2 (=342F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:269):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     281    

symbol INITPERSO (=229B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1458):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     645      476    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     476    

symbol INITPERSO1 (=22B8,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1478):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1483    

symbol INITPERSO2 (=22C0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1486):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1479    

symbol INITPERSO3 (=22CD,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1491):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1496    

symbol INITPERSO4 (=22D4,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1498):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1492    

symbol INITPERSOX (=2309,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1530):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1471     1499    

symbol INITPERSOY (=230B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1531):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1474     1501    

symbol INITPJS (=1E0B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:629):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      55      315    

symbol INITPJS1 (=1E15,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:635):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     661    

symbol INITPJS2 (=1E30,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:657):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
 AS V1.42 Beta [Bld 28] - source file game.asm - page 269 - 8/12/2011 20:51:50


     651    

symbol INITPSG (=818F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:299):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     428    

symbol INITSCR (=3588,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:508):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      10      249    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     249    

symbol INITSFX1_1 (=89E3,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1748):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1742    

symbol INITSFX1_2 (=89E9,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1752):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1744    

symbol INITSFX1_3 (=89EE,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1756):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1745     1750    

symbol INITSFX2_1 (=8A03,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1771):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1765    

symbol INITSFX2_2 (=8A08,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1775):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1767    

symbol INITSFXF0 (=89B7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1724):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1718     1762    

symbol INITSFXF1 (=89C2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1732):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1719    

symbol INIT_BUFP1 (=92D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1481):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1487    

symbol INIT_BUFP2 (=930,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1483):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1485    

symbol INIT_BUFPAG (=926,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1478):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     199      316    

symbol INIT_CRUZ (=33DA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:185):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      33    

symbol INIT_CUAD (=64D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1028):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      35    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 270 - 8/12/2011 20:51:50


symbol INIT_FIG1 (=93E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1503):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1505    

symbol INIT_FIGURASV (=938,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1500):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     198      314    

symbol INIT_GAME (=15B7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm:7):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      12    

symbol INIT_INDEXPER (=1EA3,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:737):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     197      313    

symbol INIT_INDP1 (=1EB9,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:751):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     742    

symbol INIT_INDP3 (=1EC6,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:757):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     762    

symbol INIT_PERV (=1DFB,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:611):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      52    

symbol INIT_PERV1 (=1E02,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:614):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     617      619    

symbol INIT_SPTBL (=33F6,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:211):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      30    

symbol INIT_SYS (=251C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:104):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
       8    

symbol INIVARS (=816E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:284):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
      57       87      113      387      622    

symbol INT (=38,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:9):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     554      561      574    

symbol INTERIOR (=0,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:43):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      38     1922      160      650     1061     1257     1354    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     160      650     1061     1257     1354    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     650     1061     1257     1354    

symbol INTERRUPT (=36E6,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:808):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     581    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 271 - 8/12/2011 20:51:50


symbol INTFUNCT (=830B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:565):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
       3    

symbol INVENTARIOV (=156A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3223):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     327    

symbol INVENTARIOVT (=6D17,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:29):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      30    

symbol INV_ACT (=46C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:623):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     329      356      162      272      308    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     162      272      308    

symbol INV_PERS (=1C52,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:373):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     319      381      421    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     381      421    

symbol INV_TIPO (=1C54,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:374):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     320      382      422    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     382      422    

symbol IZQSCR (=1,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:37):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1563     2080     2228    

symbol IZQUIERDA (=1,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:25):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     710      868     1557      228     1213      270      281    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     228     1213      270      281    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     270      281    

symbol JUMPCOMMAND (=802B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:37):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
      27    

symbol KEY_F1ST (=2D36,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:328):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     140      277      237      245    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     237      245    

symbol KEY_SPST (=2D35,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:327):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     139      276      255      262    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     255      262    

symbol KEY_TIME (=2D34,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:326):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
 AS V1.42 Beta [Bld 28] - source file game.asm - page 272 - 8/12/2011 20:51:50


     222    

symbol LEEF1 (=2CB6,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:244):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     240    

symbol LEESP (=2CD1,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:261):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     258    

symbol LEET1 (=2CF8,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:285):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     266    

symbol LEET2 (=2D19,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:305):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     271      286      291    

symbol LEET3 (=2D23,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:311):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     306    

symbol LEETECLA (=2C94,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:221):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     850    

symbol LEETECLAV (=2D37,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:329):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     319      851    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     851    

symbol LEETFIN (=2D2D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:317):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     275      279      282      295      299      302      308      312    
    314    

symbol LEETFUNC (=2D38,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:330):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     230      242      260      857    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     857    

symbol LEE_FILA_KB (=2D3A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:343):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1415      241      233      249    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     241      233      249    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     233      249    

symbol LIMPIA_PAN (=3823,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:990):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     102      135      261      389      535       42      493    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     135      261      389      535       42      493    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm :
      42      493    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     493    
 AS V1.42 Beta [Bld 28] - source file game.asm - page 273 - 8/12/2011 20:51:50



symbol LIMPIA_PAND (=3880,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:1013):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     492    

symbol LIMPIA_SCR (=388B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:1014):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     134      260      388       41    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm :
      41    

symbol LIMPIA_VRAM (=3572,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:486):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      29    

symbol LIMPVRAM1 (=3576,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:488):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     498    

symbol LINE (=3357,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:64):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     450      548    

symbol LINE1 (=3372,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:83):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
      77    

symbol LINE2 (=337D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:91):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
      87    

symbol LINE3 (=3387,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:100):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
      93    

symbol LINED (=33B1,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:127):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
      64       66       68       70      100      102      107      110    
    113    

symbol LLL (=8D9,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1425):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1417     1422    

symbol LOADIM (=2B57,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:602):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     351    

symbol LOADMAP (=2A2C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:389):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     112      248    

symbol LOADNIV1 (=2AA8,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:460):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     482      496    

symbol LOADNIV2 (=2ACA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:480):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     465    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 274 - 8/12/2011 20:51:50


symbol LOADNIV3 (=2AE7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:494):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     489    

symbol LOADNIVEL (=2A79,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:440):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      14    

symbol LOADPANT (=189D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm:376):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     124      260    

symbol LOADPANT2 (=18C8,/home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm:393):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     406      408    

symbol LOADPAT (=2AED,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:506):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     116      252    

symbol LOADPAT1 (=2AF2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:509):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     536    

symbol LOADPATT (=2B1E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:540):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     506      527      531    

symbol LOADPROP (=188D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm:357):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     201      318    

symbol LOADSP (=2A19,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:370):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      32      262    

symbol LOADTIPOS (=2A45,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:402):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      38    

symbol LOAD_OBJ (=2A58,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:410):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      40    

symbol LOC_0_8A22 (=8B3E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1993):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1990    

symbol LOOP (=11D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:23):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      25    

symbol LPIMAGE (=29AD,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:344):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1447     1453     1459       45       50      121      257      413    
    532    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      45       50      121      257      413      532    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     413      532    
 AS V1.42 Beta [Bld 28] - source file game.asm - page 275 - 8/12/2011 20:51:50



symbol MAKEMARK (=8DA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1442):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      39    

symbol MAKEMARKD (=917,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1466):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1462    

symbol MAKESCROLL (=E21,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2056):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     976    

symbol MAKE_INV (=1C56,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:382):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
      79    

symbol MAKE_INVBA (=1C85,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:403):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     417    

symbol MAKE_INVBBP (=1C9D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:421):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     435    

symbol MAKE_INVBL (=1CB8,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:442):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     454    

symbol MAKE_PJ (=512,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:791):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      27    

symbol MAKE_PJPER (=539,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:826):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     792      786      821    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     786      821    

symbol MAKE_PJ_AT (=52B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:808):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     803    

symbol MAKE_PJ_END (=535,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:821):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     816    

symbol MAKE_PJ_MA (=530,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:814):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     810    

symbol MAPEACONT (=1493,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3182):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2040     2064     2075     2087     2098     3076     3081      128    
    265      266    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     128      265      266    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     266    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 276 - 8/12/2011 20:51:50


symbol MAPEADO_DAT (=3E67,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:16):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      17      115      120      123      173      174      200      251    
    256      259      317      331      332      631      632      391    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     115      120      123      173      174      200      251      256    
    259      317      331      332      631      632      391    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     631      632      391    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     391    

symbol MAPEAPD (=147B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3162):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2422     2946     3083    

symbol MAPEAPTR (=1497,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3185):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1533     1536     3097      245    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     245    

symbol MAPEAPTRA (=1499,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3186):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1534     1535    

symbol MAPEAXD (=1478,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3160):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2444     3030     3105     3137     3139    

symbol MAPEAXO (=1474,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3157):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2435     2450     3019     3036     3126     3133    

symbol MAPEAYD (=147A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3161):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2448     3003     3099     3144     3146    

symbol MAPEAYO (=1476,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3158):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2440     3028     3130    

symbol MAPRUT (=13EF,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3076):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1277     1406      268    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     268    

symbol MAPRUT3 (=1454,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3137):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    3111    

symbol MAPRUTBX (=1425,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3108):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    3142    

symbol MAPRUTBY (=141C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3102):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    3153    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 277 - 8/12/2011 20:51:50


symbol MAPRUT_OFF (=1494,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3183):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1863     2437     3025     3127      135      272    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     135      272    

symbol MARC1 (=14D2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3207):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1443    

symbol MARC2 (=14DE,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3208):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1449    

symbol MARC3 (=14EA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3209):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1455    

symbol MASKSFX (=8BF6,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2050):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     629      690     1365     1477     1542     1645    

symbol MAXCIUDADES (=A,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:66):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc :
     357      368    

symbol MAXFIGURAS (=10,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:67):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1501     2478     2574     2575     2582     2662    
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc :
     360      364     1501     2478     2574     2575     2582     2662    

symbol MAXNUMENL (=3C,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:88):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1823    
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc :
     366     1823    

symbol MAXNUMPJS (=3,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:78):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1370     1918     1925      190      238      680      708     1042    
   1044     1045     1046      451      458      494      495    
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc :
     367      368     1370     1918     1925      190      238      680    
    708     1042     1044     1045     1046      451      458      494    
    495    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     190      238      680      708     1042     1044     1045     1046    
    451      458      494      495    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     238      680      708     1042     1044     1045     1046      451    
    458      494      495    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     451      458      494      495    

symbol MAXNUMSP (=10,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:14):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     304     1012    

symbol MAXOBJETOS (=22,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:96):
 AS V1.42 Beta [Bld 28] - source file game.asm - page 278 - 8/12/2011 20:51:50


 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc :
     370    

symbol MAXPANAL (=5,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:73):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc :
     363    

symbol MAXPERSOC (=1E,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:70):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc :
     357      368      184      745      857     1060      487      494    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     184      745      857     1060      487      494    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     745      857     1060      487      494    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     487      494    

symbol MAXPERSOM (=1E,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:69):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc :
     359      362      367      588      755      854     1063      451    
    456    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     588      755      854     1063      451      456    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     451      456    

symbol MAXTIPOPER (=22,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:72):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc :
     365    

symbol MAXVALXR (=14A9,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3200):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      96      239     1375    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1375    

symbol MAXVALXRC (=FFFFFFFFFFFFFF2C,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:80):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      95    

symbol MAXVALXRE (=FFFFFFFFFFFFFF3C,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:83):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     238    

symbol MAXVALYR (=14AB,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3201):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      98      241     1393    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1393    

symbol MAXVALYRC (=FFFFFFFFFFFFFFA4,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:81):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      97    

symbol MAXVALYRE (=FFFFFFFFFFFFFFA4,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:84):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     240    

symbol MAX_ESTADOS (=200,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:148):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc :
 AS V1.42 Beta [Bld 28] - source file game.asm - page 279 - 8/12/2011 20:51:50


     369    

symbol MCDRV (=8000,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/song.asm :
      78    

symbol MCDRVC (=8003,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:7):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/song.asm :
      12    

symbol MCEND (=830A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:555):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     464      471    

symbol MCES_JAPONES (=82F7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:546):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     541    

symbol MCFINDFM1 (=8294,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:477):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     464      469      471    

symbol MCFMFND (=82E1,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:531):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     493    

symbol MCFMLP (=82D6,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:522):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     527    

symbol MCFMLP1 (=829D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:482):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     503    

symbol MCFMLP2 (=829A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:480):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     507    

symbol MCFMT (=82AE,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:493):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     524      529    

symbol MCFMTEST (=82CE,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:519):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     492    

symbol MCFMTEXT (=8302,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:553):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     520    

symbol MCFM_JAPONES (=8306,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:554):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     537    

symbol MCJAPO (=82ED,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:539):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     544    

symbol MCRECOVER (=82C4,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:510):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
 AS V1.42 Beta [Bld 28] - source file game.asm - page 280 - 8/12/2011 20:51:50


     545      551    

symbol MCSEARCHFM (=8275,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:455):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     416    

symbol MCTESTTR (=8260,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:433):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     417    

symbol MCTESTTR1 (=8270,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:442):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     438    

symbol MC_INICHIPS (=3,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:154):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      11      252    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     252    

symbol MC_MUSICOFF (=B,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:162):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      13    

symbol MC_MUSICON (=9,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:160):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/song.asm :
      49    

symbol MESSG (=301B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm:63):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm :
      60    

symbol MESSG1 (=31A0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm:84):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm :
      61    

symbol MI_VECTOR (=2B4C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:581):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     552      560    

symbol MKSCROLLAB (=E34,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2067):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2058    

symbol MKSCROLLDE (=E5A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2090):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2081    

symbol MKSCROLLIZ (=E47,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2079):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2069    

symbol MODO_GAME (=148D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3177):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      37       58     1921     2564     2652      161      298      649    
    853      950     1059     1256     1353    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     161      298      649      853      950     1059     1256     1353    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     649      853      950     1059     1256     1353    
 AS V1.42 Beta [Bld 28] - source file game.asm - page 281 - 8/12/2011 20:51:50



symbol MODO_GET_DIR (=2C15,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:127):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      79      223      828    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     828    

symbol MOVEFIGCOPYT (=13E0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3057):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2845     2848     2851     2871     2874     2876    

symbol MOVE_EXT (=72F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1202):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      22      779      825    

symbol MOVE_OBJ (=2E2E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm:161):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     146    

symbol MOVE_OBJ0 (=2E3B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm:170):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     164    

symbol MOVE_OBJ1 (=2E71,/home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm:208):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     218      224    

symbol MOVE_X1 (=73D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1209):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1205    

symbol MOVE_X2 (=75C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1227):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1224    

symbol MOVE_X3 (=75E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1229):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1226     1231    

symbol MOVE_X4 (=770,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1241):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1293    

symbol MOVE_X5 (=7D3,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1291):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1282    

symbol MOVE_X6 (=799,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1263):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1258    

symbol MOVE_X9 (=7B8,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1277):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1273    

symbol MOVE_XBC (=7E4,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1303):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1210     1248    

symbol MOVE_XBUFF (=7E6,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1304):
 AS V1.42 Beta [Bld 28] - source file game.asm - page 282 - 8/12/2011 20:51:50


 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1221     1237     1328    

symbol MOVE_XH0 (=807,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1319):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1318    

symbol MOVE_XH1 (=80C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1322):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1313    

symbol MOVE_XH2 (=817,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1328):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1323    

symbol MOVE_XH3 (=824,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1334):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1331    

symbol MOVE_XH4 (=826,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1336):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1333     1338    

symbol MOVE_XH5 (=835,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1347):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1320     1326    

symbol MOVE_XNEWH (=7ED,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1308):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1236    

symbol MOVE_XPER (=7DF,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1300):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1242     1263    

symbol MOVE_XSP (=7E1,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1301):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1203     1256     1271     1280    

symbol MOVE_XSPAB (=4B2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:698):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     693    

symbol MOVE_XSPDAB (=4CA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:716):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     711    

symbol MOVE_XSPDAR (=4DE,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:732):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     725    

symbol MOVE_XSPDE (=4BA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:704):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     699    

symbol MOVE_XSPIAB (=4D4,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:724):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     717    

symbol MOVE_XSPIAR (=4E8,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:740):
 AS V1.42 Beta [Bld 28] - source file game.asm - page 283 - 8/12/2011 20:51:50


 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     733    

symbol MOVE_XSPIZ (=4C2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:710):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     705    

symbol MOVE_XSPR (=4EF,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:747):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     696      702      708      714      722      730      738    

symbol MOVE_XX (=49D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:680):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     519       98    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
      98    

symbol MOVFDC1 (=134D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2961):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2963    

symbol MOVFDC2 (=135A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2969):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2966    

symbol MOVFDC3 (=1360,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2972):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2974    

symbol MOVFDC4 (=136D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2980):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2977    

symbol MOVFDC5 (=138D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3000):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    3047    

symbol MOVFDC6 (=13A4,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3013):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    3040    

symbol MOVFDCNX (=13DC,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3051):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2969     3007    

symbol MOVFDCNY (=13DD,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3052):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2980     2998    

symbol MOVFDCX (=13DE,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3053):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2950     3011    

symbol MOVFDCY (=13DF,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3054):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2955     3002     3005    

symbol MOVFIGAC (=12A0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2844):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2621    
 AS V1.42 Beta [Bld 28] - source file game.asm - page 284 - 8/12/2011 20:51:50



symbol MOVFIGDC (=1332,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2945):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2679    

symbol MOVPCCOL_NC (=20C6,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1134):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1082     1085    

symbol MOVPCHKAB (=2155,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1237):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1227    

symbol MOVPCHKABI (=20F4,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1180):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1172    

symbol MOVPCHKACC2 (=2160,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1244):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1168     1178     1188     1198     1210     1218     1224     1235    
   1238    

symbol MOVPCHKACC3 (=216B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1252):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1254    

symbol MOVPCHKACC31 (=2186,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1271):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1258    

symbol MOVPCHKACC4 (=218A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1273):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1276    

symbol MOVPCHKACC5 (=21BF,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1311):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1308    

symbol MOVPCHKACC6 (=21D6,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1328):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1324    

symbol MOVPCHKAD (=2133,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1220):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1214    

symbol MOVPCHKAI (=2126,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1213):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1202    

symbol MOVPCHKAR (=213E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1226):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1221    

symbol MOVPCHKARD (=2104,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1190):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1181    

symbol MOVPCHKARI (=2114,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1201):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
 AS V1.42 Beta [Bld 28] - source file game.asm - page 285 - 8/12/2011 20:51:50


    1191    

symbol MOVPCHKCP1 (=2053,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1048):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1043    

symbol MOVPCHKCP2 (=206A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1065):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1062    

symbol MOVPCHK_ACCES (=20D0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1160):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     930    

symbol MOVPCHK_COL (=2034,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1034):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     589      956    

symbol MOVPCHK_COLA (=20CF,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1143):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1037    

symbol MOVPCHK_COLB (=2072,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1077):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1138    

symbol MOVPCHK_PRO1 (=21E0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1333):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1298    

symbol MOVPCHK_PRO2 (=21E1,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1334):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1317    

symbol MOVPCHK_PROF (=21DE,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1332):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1808     1161     1234     1247    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1161     1234     1247    

symbol MOVPCOL_CD (=20C2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1129):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1113    

symbol MOVPCOL_NC1 (=20C7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1135):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1106     1127    

symbol MOVPCOL_XP (=2099,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1103):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1094    

symbol MOVPCOL_Y (=20A2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1108):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1093    

symbol MOVPCOL_YP (=20BA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1124):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1114    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 286 - 8/12/2011 20:51:50


symbol MOVPDIRE (=229A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1446):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     919      926      969      982      984     1162    

symbol MOVPERSO (=1F78,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:899):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1252      677      696    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     677      696    

symbol MOVPERSOF1 (=1FED,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:968):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     946    

symbol MOVPERSOF2 (=1FF3,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:972):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     928      947      960    

symbol MOVPJS (=1E36,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:670):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      42    

symbol MOVPJSN (=1E3C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:674):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     682    

symbol MOVPJSPTR (=1EA2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:724):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     134      271      685      716      719    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     685      716      719    

symbol MOVPJSS (=1E4B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:685):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     671    

symbol MOVPJSS1 (=1E58,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:692):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     710    

symbol MOVPJSWAY (=1E82,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:723):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1942      145      282      688      704    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     145      282      688      704    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     688      704    

symbol MOVPPERSO (=2033,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1015):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     900      943      955    

symbol MOVPRETURN (=2032,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1014):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     905      986    

symbol MOVPSCROLL (=2031,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1013):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     907      941      973      988    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 287 - 8/12/2011 20:51:50


symbol MOVPV1 (=21FE,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1361):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1355    

symbol MOVPVIS (=21E2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1346):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1275     1377     2120      874    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     874    

symbol MOVPVISX (=2296,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1444):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1034     1088     1164     1328     1349    

symbol MOVPVISXR (=2294,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1442):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1374     1399    

symbol MOVPVISY (=2298,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1445):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1035     1108     1165     1329     1361     1379    

symbol MOVPVISYR (=2295,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1443):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1392     1397    

symbol MOVPVIS_FC (=226D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1417):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1405     1407    

symbol MOVPVIS_FD (=227B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1426):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1371     1377     1389     1395    

symbol MOVPVIS_FD1 (=2287,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:1434):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1430    

symbol MOV_DIG (=2D39,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:331):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     268      288       86      106    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
      86      106    

symbol MPACCESO (=1FCD,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:949):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     935    

symbol MPACCESO1 (=1FE1,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:962):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     952    

symbol MPNACCESO (=1FFF,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:981):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     933      939    

symbol MUL1 (=8B47,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2005):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    2016    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 288 - 8/12/2011 20:51:50


symbol MUL2 (=8B4E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2011):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    2008    

symbol MULHL_DE (=8B40,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1998):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1177    

symbol MULTHLDE (=1288,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2817):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     328      361      109      185      384       69      143      312    
    326      335      746      610       40      185      357      414    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     109      185      384       69      143      312      326      335    
    746      610       40      185      357      414    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      69      143      312      326      335      746      610       40    
    185      357      414    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     610       40      185      357      414    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
      40      185      357      414    

symbol MULTHLDEL (=128F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2821):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2829    

symbol MULTHLDENA (=1294,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2824):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2822    

symbol MUSICC (=397D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/song.asm:4):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      12       14      253       51    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     253       51    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/song.asm :
      51    

symbol MUSICDRV (=3B1F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3262):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     124      178    

symbol MUSICTBL (=3AF6,/home/k0ga/msx/proyec/rpg/shike/actual/asm/song.asm:56):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/song.asm :
      31    

symbol NAMESP (=14AE,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3204):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     370    

symbol NEGHL (=8B2A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1965):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1780     1829     1875    

symbol NIVELDAT (=3F1F,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:17):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      18      110      247      443    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     110      247      443    
 AS V1.42 Beta [Bld 28] - source file game.asm - page 289 - 8/12/2011 20:51:50


 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     443    

symbol NOMNIVEL (=14BA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3205):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      13    

symbol NOMTIPOS (=14C6,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3206):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     402    

symbol NOM_OBJ (=151A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3213):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     415    

symbol NOTVR (=3753,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:892):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     812    

symbol NOTVR_RI (=376E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:912):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     899    

symbol NUMDECINT (=8E87,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2126):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     291      632     1299    

symbol NUMDECLEFT (=8E88,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2128):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     630      672    

symbol NUMPAT2PLN (=14A6,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3197):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1539     2343     2375     2377     2414      130      267    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     130      267    

symbol NUMPATX (=1C,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:76):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     500      501      762     1482     1966     3107      248     1014    
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc :
      80       83       86      361      500      501      762     1482    
   1966     3107      248     1014    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     248     1014    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
    1014    

symbol NUMPATX2 (=E,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:86):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1969    

symbol NUMPATY (=F,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:77):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     202      750      916      925      928      948      960     1171    
   1480     1967     3101      246     1014    
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc :
      81       84       87      142      361      363      202      750    
    916      925      928      948      960     1171     1480     1967    
   3101      246     1014    
 AS V1.42 Beta [Bld 28] - source file game.asm - page 290 - 8/12/2011 20:51:50


 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     246     1014    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
    1014    

symbol NUMPATY2 (=7,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:87):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1970    

symbol NUMREPFRAME (=148E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3178):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1628     1642     2724     1004    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1004    

symbol NUMREPFRAMED (=0,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:90):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1627    

symbol NUMREPFRAMES (=2,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:89):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1641     1003    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1003    

symbol NUM_CAS (=2EC7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm:258):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     228      364    

symbol NUM_EQUP (=7,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:98):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc :
     372    

symbol NUM_INV (=4,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:97):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc :
     371    

symbol NUM_OBJ (=2EC8,/home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm:259):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     179      230      239      247    

symbol N_ENDFUNC (=3735,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:856):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     853    

symbol N_ENDTIME (=3725,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:847):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     837      841    

symbol N_ENDTIME1 (=373E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:862):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     859    

symbol OBJETOS (=14F6,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3210):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     410    

symbol OBJ_VEC (=662F,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:28):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      29      418       41      186      358      415    
 AS V1.42 Beta [Bld 28] - source file game.asm - page 291 - 8/12/2011 20:51:50


 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     418       41      186      358      415    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
      41      186      358      415    

symbol OFF_PANTX (=10,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:139):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      90      500( 2)  501( 2)  762      769      919     1018     1019    
   1178     1179     1180     1183     1184     1185     2443     2847    
   2949     3104      143     1014    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     143     1014    

symbol OFF_PANTY (=14,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:140):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      93      202      204      750      756      916      925      928    
    948      960     1171     1172     2447     2850     2954     3098    
    146     1014    
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc :
     142       93      202      204      750      756      916      925    
    928      948      960     1171     1172     2447     2850     2954    
   3098      146     1014    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     146     1014    

symbol OFF_PVISXDE (=6,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:135):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2248    

symbol OFF_PVISXIZ (=FFFFFFFFFFFFFFFB,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:134):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2221    

symbol OFF_PVISYAB (=6,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:137):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2185    

symbol OFF_PVISYAR (=FFFFFFFFFFFFFFFB,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:136):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2159    

symbol OPENMSX (=1,INTERNAL:0):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm :
      10    

symbol OPEN_WIN (=30A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:440):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     442      163      280      370    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     163      280      370    

symbol OPTIONS (=150E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3212):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      42    

symbol OP_ADSR (=8656,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1102):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     867    

symbol OP_DIVSUS (=86A2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1156):
 AS V1.42 Beta [Bld 28] - source file game.asm - page 292 - 8/12/2011 20:51:50


 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     875    

symbol OP_EFFECT (=86D3,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1189):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     885    

symbol OP_ENDL (=862B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1073):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     865    

symbol OP_ENDL1 (=8637,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1081):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1076    

symbol OP_ENDL2 (=8644,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1089):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1078    

symbol OP_FMINST (=85D0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1005):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     861    

symbol OP_FMINSTL (=85CD,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1002):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     881    

symbol OP_FMINTSOFT (=85E9,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1020):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1015    

symbol OP_FM_INST (=85E0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1013):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1007    

symbol OP_LOOP (=860D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1050):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     863    

symbol OP_LOOPL (=860A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1047):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     879    

symbol OP_MOCT (=859E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:964):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     853    

symbol OP_MVOL (=85AB,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:978):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     857    

symbol OP_OCT (=85A7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:973):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     855    

symbol OP_OCTADD (=85A2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:969):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     966    

symbol OP_PAR (=86F2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1207):
 AS V1.42 Beta [Bld 28] - source file game.asm - page 293 - 8/12/2011 20:51:50


 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     887    

symbol OP_PLAY (=8528,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:890):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     849    

symbol OP_PLAYCONF (=8576,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:939):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     936    

symbol OP_PLAYEND (=857C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:943):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     933    

symbol OP_PLAYFM (=8555,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:920):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     897    

symbol OP_PLAYPSG1 (=8544,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:907):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     910    

symbol OP_PLAYPSG2 (=854D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:914):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     911    

symbol OP_PLAYW (=855E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:927):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     917     1010    

symbol OP_REST (=8584,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:950):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     851    

symbol OP_TIME (=869D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1151):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     873    

symbol OP_TIMEL (=869A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1148):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     877    

symbol OP_VIB (=8677,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1122):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     869    

symbol OP_VOL (=85B4,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:987):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     859    

symbol OP_VOLADD (=85AF,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:983):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     980    

symbol OP_VOLEND (=85C9,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:997):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     992    

symbol OP_WRITEFM (=86C9,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1182):
 AS V1.42 Beta [Bld 28] - source file game.asm - page 294 - 8/12/2011 20:51:50


 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     883    

symbol OP_XXX (=8692,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1140):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     871    

symbol OP_XXX1 (=8697,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1145):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1142    

symbol PAGE0 (=3630,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:691):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     679    

symbol PAGEGFXNUM (=28B1,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:308):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     267      268      278    

symbol PAGEM (=2322,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:40):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
      24       32       82      298    

symbol PAGEMNUM (=250F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:92):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
      51       52       62    

symbol PAGMUSACT (=3AF9,/home/k0ga/msx/proyec/rpg/shike/actual/asm/song.asm:58):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/song.asm :
       9       40       76    

symbol PAG_ACT (=1489,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3174):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     461      601      604      983     1080     1523     1526      131    
    203      268      320      125       22       38      822    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     131      203      268      320      125       22       38      822    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     125       22       38      822    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm :
      22       38      822    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     822    

symbol PAG_DATASP (=1,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:9):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     297      368      403      435    

symbol PAG_FONTS (=2,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:108):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1720    

symbol PAG_NACT (=148A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3175):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      98      458      527      568      603      606      922     1521    
   1524     2421     2844     2945     3082      167      304      108    
    131      147      257      384      404      422      449      547    
     59      139    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     167      304      108      131      147      257      384      404    
 AS V1.42 Beta [Bld 28] - source file game.asm - page 295 - 8/12/2011 20:51:50


    422      449      547       59      139    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     108      131      147      257      384      404      422      449    
    547       59      139    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
      59      139    

symbol PAG_OBJETOS (=2,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:107):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     531      583      584      585       49      167      461      412    
     69    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      49      167      461      412       69    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     167      461      412       69    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     412       69    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
      69    

symbol PAG_OPTIONS (=0,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:109):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     954     1017       44    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      44    

symbol PAG_PATRONES (=1,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:105):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    3159      119      255    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     119      255    

symbol PAG_PERSO (=3,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:106):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    3058      523    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     523    

symbol PAINT (=3683,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:737):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     359    

symbol PAINTALTO (=36E1,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:795):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     748    

symbol PAINTANCHO (=36DF,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:794):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     747    

symbol PAINTBUCLE (=36C2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:774):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     778      782    

symbol PAINTDATAX (=36DB,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:792):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     743      758    

symbol PAINTDATAY (=36DD,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:793):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
 AS V1.42 Beta [Bld 28] - source file game.asm - page 296 - 8/12/2011 20:51:50


     746    

symbol PAINTDATO (=36E3,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:796):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     738    

symbol PAINTFINAL (=36D2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:784):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     776    

symbol PAINT_BALD (=1D35,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:494):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     414      432      136    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     136    

symbol PAINT_BALDC (=1DAF,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:559):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     494      534    

symbol PAINT_BDL1 (=1DBA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:561):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     516      522      538    

symbol PAINT_BDL2 (=1DBF,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:562):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     517      526    

symbol PAINT_BDL3 (=1DC4,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:563):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     518      523    

symbol PAINT_BDL4 (=1DC9,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:564):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     519      527    

symbol PAINT_BLDJ1 (=1D8A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:539):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     554    

symbol PAINT_PAGE (=1DAE,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:558):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     496      531    

symbol PALETAD (=38EC,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:1079):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
    1030     1045     1056    

symbol PALETAW (=38EE,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:1080):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
    1026     1041     1057     1058     1062    

symbol PAL_GM (=377B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:923):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     274      364      922     1063    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     922     1063    

symbol PAL_GMP (=3779,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:922):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
 AS V1.42 Beta [Bld 28] - source file game.asm - page 297 - 8/12/2011 20:51:50


     158      275      365      827    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     827    

symbol PAL_MARK (=37DF,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:939):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     157    

symbol PAL_NEGRO (=379D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:932):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      20     1029     1040    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
    1029     1040    

symbol PAL_ODDYSEA (=37BF,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:935):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     250     1025     1044    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
    1025     1044    

symbol PATFINSCROLL (=FF,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:127):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2172     2197     2224     2251    

symbol PATTERN_CRUZ (=20,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:23):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     189    

symbol PATTERN_CUAD (=0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:25):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1031     1038    

symbol PDATAPJ (=19CD,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:48):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     139    

symbol PDATAPJS (=1A4A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:119):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     107    

symbol PDATAPJ_SP (=1A48,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:118):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      52      112    

symbol PDIALOG (=173,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:105):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      92       95      101    

symbol PERIODO (=149C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3188):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1527     1630     1644       86      229     1006    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      86      229     1006    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1006    

symbol PERIODOD (=3,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:92):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1629    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 298 - 8/12/2011 20:51:50


symbol PERIODOS (=1,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:91):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1639       85      228     1005    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      85      228     1005    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1005    

symbol PER_MOV_X (=7E2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1302):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1209     1243     1274    

symbol PFADE_OFFB (=38BC,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:1051):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
    1075    

symbol PFADE_OFFW (=38BD,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:1052):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
    1054    

symbol PLAY (=3AFA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/song.asm:64):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     866    

symbol PLAYEFFECT (=8A1D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1787):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     728    

symbol PLAYEFFECTJ (=8A31,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1800):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1793    

symbol PLAYOND (=3B1E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/song.asm:89):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/song.asm :
      66       83    

symbol PLAYSFX0_1 (=8A64,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1831):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1826    

symbol PLAYSFX1_1 (=8A8E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1854):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1846    

symbol PLAYSFX2_1 (=8AC1,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1880):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1868    

symbol PLAYSFXF0 (=8A49,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1818):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1812    

symbol PLAYSFXF1 (=8A72,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1840):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1813    

symbol PLAYSFXF2 (=8A95,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1860):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1814     1815    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 299 - 8/12/2011 20:51:50


symbol PORTM (=FE,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:10):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
      23       31      123      130    

symbol POT10 (=1CC,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:186):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     128    

symbol PRINTF (=1F7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:245):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     110       26    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm :
      26    

symbol PRINTFB (=20C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:259):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     284      335      368      375      381      387      393      402    

symbol PRINTFC (=2F8,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:406):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     269      273    

symbol PRINTFF (=237,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:288):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     262    

symbol PRINTFF1 (=280,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:338):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     291    

symbol PRINTFF2 (=2B1,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:371):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     339    

symbol PRINTFF3 (=2BD,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:377):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     372    

symbol PRINTFF4 (=2C8,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:383):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     378    

symbol PRINTFF5 (=2D4,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:389):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     384    

symbol PRINTFF6 (=2E0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:397):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     390    

symbol PRINTFFG (=24E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:306):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     302    

symbol PRINTFPG (=2F1,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:404):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     246      270      318      351    

symbol PRINTFSA (=2F2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:405):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
 AS V1.42 Beta [Bld 28] - source file game.asm - page 300 - 8/12/2011 20:51:50


     315      321    

symbol PRINT_T1 (=A8B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1710):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1691    

symbol PRINT_T2 (=A96,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1715):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1700    

symbol PRINT_TDATA (=A99,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1720):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1678     1680     1682     1702     1705     1708     1710     1714    

symbol PRINT_TEXT (=A51,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1673):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     274      322      354     1675    

symbol PRINT_TEXT1 (=A63,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1685):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1716    

symbol PRINT_TLOC (=AA9,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1726):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1696     1770     1778    

symbol PRINT_TLOC1 (=AAB,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1729):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1769    

symbol PRINT_TLOC2 (=BAB,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1744):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1726     1777    

symbol PRINT_TSIZE (=AA1,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1722):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1774     1781    

symbol PRINT_TSP (=AA8,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1725):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     278      325     1712     1772     1780    

symbol PRINT_TSY (=2E3,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:398):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1783    

symbol PRINT_TTYPE (=AA7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1723):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     386      392    

symbol PROF_PERSO (=1483,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3171):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     101      244     1160    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1160    

symbol PROF_PERSOAR (=1485,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3172):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     103      245     1233    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
 AS V1.42 Beta [Bld 28] - source file game.asm - page 301 - 8/12/2011 20:51:50


    1233    

symbol PROF_PERSOARC (=14,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:125):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     102    

symbol PROF_PERSOC (=18,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:124):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     100    

symbol PROF_PERSOM (=FFFFFFFFFFFFFFF8,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:126):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     243    

symbol PROPIEDAD_VEC (=64EF,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:27):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1866       93      236      359    
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      28     1866       93      236      359    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      93      236      359    

symbol PROP_PTR (=1495,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3184):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1870     2363       94      237     1291     1314    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      94      237     1291     1314    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1291     1314    

symbol PRT_CAD (=1984,/home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm:141):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm :
     114      147    

symbol PRT_CCAR (=1912,/home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm:59):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm :
      49    

symbol PRT_D (=18DE,/home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm:15):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
      51       69       82      115      143      267      286      298    
    345        5       16       37    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/song.asm :
       5       16       37    

symbol PRT_DI (=18DD,/home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm:12):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
      51( 2)   69( 2)   82( 2)  115( 2)  143( 2)  267( 2)  286( 2)  298( 2)
    345( 2)    5( 2)   16( 2)   37( 2)
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/song.asm :
       5( 2)   16( 2)   37( 2)

symbol PRT_DL (=18EE,/home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm:30):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm :
      51       54       96      110      115      120      122    

symbol PRT_PAR (=1928,/home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm:79):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm :
      42    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 302 - 8/12/2011 20:51:50


symbol PRT_PTR (=196F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm:125):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm :
     119    

symbol PTABLE_ADSR (=8BE8,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2038):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1106    

symbol PTABLE_EFFECT (=8BEC,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2040):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1191    

symbol PTABLE_FMINS (=8BEE,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2041):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1031    

symbol PTABLE_VIB (=8BEA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2039):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1126    

symbol PTR_EXCP (=2C45,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:132):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1315       32       68      150      153      171      174      181    
    184    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
      32       68      150      153      171      174      181      184    

symbol PTR_PERSO (=148B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3176):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1202     1241     1244     1264     1926       54      172      188    
    330        6      752     1458      455      484      486      491    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      54      172      188      330        6      752     1458      455    
    484      486      491    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
       6      752     1458      455      484      486      491    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     455      484      486      491    

symbol PUT2PLANE (=104F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2414):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2623    

symbol PUT2PLN1 (=1062,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2423):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2455    

symbol PUTDIALOGO (=157,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:90):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      78    

symbol PUTMUSINC (=8207,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:376):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     171    

symbol PUTMUSINC1 (=8219,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:386):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     380    

symbol PUTPAGED (=230D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:21):
 AS V1.42 Beta [Bld 28] - source file game.asm - page 303 - 8/12/2011 20:51:50


 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
      54       79      270      295        8       75    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/song.asm :
       8       75    

symbol PUTPAGEM (=2323,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:50):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/song.asm :
      10       41       77    

symbol PUTPAGEP1 (=2316,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:29):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
      37       13       79    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/song.asm :
      13       79    

symbol PUTPAGEP2 (=231F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:36):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/song.asm :
      14       80    

symbol PUTPGFX1 (=276B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:282):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     284    

symbol PUTPM1 (=23C9,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:66):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
      67    

symbol PUTRHYTHM (=8911,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1600):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1448     1570    

symbol PUTRHYTHM1 (=8920,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1612):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1607    

symbol PUTSFX (=81CE,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:346):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     159    

symbol PUTSFX1 (=81E2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:357):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     367    

symbol PUTSNG (=3A66,/home/k0ga/msx/proyec/rpg/shike/actual/asm/song.asm:29):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      20    

symbol PUTSONG (=8061,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:85):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
      77    

symbol PUTSPCOLOR (=3517,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:391):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     254    

symbol PUTSPPATERN (=34F0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:355):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     247    

symbol PUTSP_CL1 (=351D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:396):
 AS V1.42 Beta [Bld 28] - source file game.asm - page 304 - 8/12/2011 20:51:50


 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     398    

symbol PUTSP_CL2 (=3530,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:409):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     413    

symbol PUTSP_PL (=350D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:374):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     378    

symbol PUT_FADET (=38BA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:1048):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
    1031    

symbol PUT_OBJI (=2D47,/home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm:7):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     348      242      250    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     242      250    

symbol PUT_OBJI1 (=2D66,/home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm:33):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
      30    

symbol PUT_OBJIE (=2DA1,/home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm:69):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
      22       25       33       34       54       57       60       63    

symbol PUT_P2 (=2691,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:228):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
      12    

symbol PUT_PAL (=3634,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:706):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      21      251      828    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     251      828    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     828    

symbol PUT_SPRITE (=3443,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:296):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     849    

symbol PUT_VINT (=2B20,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:552):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      16      209      326       87      303    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
      87      303    

symbol PUT_X (=839,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1355):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      15    

symbol PUT_XFIGA (=8A2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1395):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1283     1285     1361    

symbol PUT_XPERA (=88D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1394):
 AS V1.42 Beta [Bld 28] - source file game.asm - page 305 - 8/12/2011 20:51:50


 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1206     1356     1360      585      586      587      811      812    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     585      586      587      811      812    

symbol PUT_X_PERSO (=88B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1393):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1355        7       28       31    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
       7       28       31    

symbol QUITSONG (=8226,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:395):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     681    

symbol QUIT_OBJ (=2F7B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm:411):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     335    

symbol RDBLK (=27,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:5):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/file.asm :
      33    

symbol READFILE (=3964,/home/k0ga/msx/proyec/rpg/shike/actual/asm/file.asm:29):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     360      379      386       75      291      374      392      395    
    406      419      444      447      605      612    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
      75      291      374      392      395      406      419      444    
    447      605      612    

symbol READPSG (=8133,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:214):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     301    

symbol RESTORE_INT (=2B3E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:572):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      17       75      219       59      247      275    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
      59      247      275    

symbol RESVDP_LI (=3815,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:970):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
      58      246      274    

symbol RETARDOPJS (=2,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:120):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     700    

symbol RG0SAV (=F3DF,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:1):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     957      971    

symbol RG1SAV (=F3E0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:2):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     524      526      541      543      622      624    

symbol RG8SAV (=FFE7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:3):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     557      559      573      575      605      607    
 AS V1.42 Beta [Bld 28] - source file game.asm - page 306 - 8/12/2011 20:51:50



symbol RHYTHM_MODE (=8E84,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2120):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     295     1254     1271     1605     1673    

symbol R_SP (=1910,/home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm:56):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm :
      21       36    

symbol SAEB0 (=2FD2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm:13):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm :
      47    

symbol SAEB1 (=2FE9,/home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm:31):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm :
      33    

symbol SAEB2 (=2FE7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm:30):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm :
      35    

symbol SAEBA (=2FC5,/home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm:5):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      22    

symbol SALIR (=26A5,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:245):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     821    

symbol SAVE2PLANE (=F80,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2271):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1422    

symbol SAVE2PLN (=FD7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2330):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2327    

symbol SAVE2PLN1 (=F91,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2282):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2284    

symbol SAVE2PLN2 (=FAD,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2301):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2303    

symbol SAVE2PLN3 (=FFA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2351):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2346    

symbol SAVE2PLN4 (=FF6,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2348):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2349    

symbol SAVE2PLNBX (=1008,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2359):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2387    

symbol SAVE2PLNBY (=FFE,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2353):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2396    
 AS V1.42 Beta [Bld 28] - source file game.asm - page 307 - 8/12/2011 20:51:50



symbol SAVE2PLNN2 (=1032,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2383):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2368    

symbol SAVE2PLNNX (=104C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2401):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2330     2355    

symbol SAVE2PLNNY (=104B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2400):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2322     2351    

symbol SAVE2PLNX (=FCB,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2322):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2319    

symbol SAVE2PLNXO (=104D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2402):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2293     2357    

symbol SAVE2PLNYO (=104E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2403):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2314     2373     2393     2395    

symbol SCROLLSOL (=14A5,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3196):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1548     1551     2176     2200     2202     2227     2229     2254    
   2256      133      270    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     133      270    

symbol SCROLLST (=14A4,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3195):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1552     1564     1578     1580     1594     1596     1610     1612    
   1635     2056     2067     2079     2090      132      269      993    
    998    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     132      269      993      998    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     993      998    

symbol SCR_SPLIT (=90,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:142):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     952    

symbol SD_VOL (=8E86,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2124):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1384     1397    

symbol SEARCHSONG (=8113,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:178):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     157      169    

symbol SEG_GFX (=25AA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:138):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     120    

symbol SEG_MC (=25A8,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:137):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
 AS V1.42 Beta [Bld 28] - source file game.asm - page 308 - 8/12/2011 20:51:50


      22      118      122      163    

symbol SEG_MP (=25A6,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:136):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
      30      129      171      182    

symbol SELEC_PJ (=1DD7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:580):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      23    

symbol SELEC_PJ1 (=1DF9,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:599):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     592      595    

symbol SEL_OPC_CONT (=591,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:894):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     836      860      874      888    

symbol SEL_OPC_PJ (=53B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:836):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     795      890    

symbol SEL_OPC_PJ1 (=54A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:845):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     855    

symbol SEL_OPC_PJ_A (=572,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:872):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     869    

symbol SEL_OPC_PJ_IZ (=56D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:868):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     865    

symbol SEL_OPC_PJ_W (=57F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:880):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     882    

symbol SEL_OPC_TB (=592,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:897):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     839    

symbol SETDMA (=1A,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:4):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/file.asm :
      30    

symbol SETTIMENSFX (=876B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1303):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1226    

symbol SETVDP_LI (=37FF,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:951):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     210      327       88      304    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
      88      304    

symbol SETXY_TDE (=E0D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2033):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2027    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 309 - 8/12/2011 20:51:50


symbol SETXY_TF (=E14,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2037):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2034    

symbol SET_CFONDO (=35D8,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:590):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      23    

symbol SET_SPD16 (=35F0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:621):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      24    

symbol SET_VRAM_AD (=355D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:458):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     300      369      404      436    

symbol SET_XY (=D42,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1898):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1375     1880      178      336      808    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     178      336      808    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     808    

symbol SET_XY1 (=D93,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1950):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1952    

symbol SET_XY1P (=D91,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1949):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1920     1923    

symbol SET_XY2 (=D9B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1955):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1957    

symbol SET_XYF (=E00,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2021):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1977     1982     1989     1994     2001     2007     2013     2016    

symbol SET_XYLFIFO (=D8C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1943):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1945    

symbol SET_XYPJS (=D6F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1928):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1936    

symbol SET_XY_AJ1 (=DBF,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1979):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1974    

symbol SET_XY_AJ2 (=DC7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1984):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1980    

symbol SET_XY_AJ3 (=DD2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1991):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1985    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 310 - 8/12/2011 20:51:50


symbol SET_XY_AJ4 (=DDA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1996):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1992    

symbol SET_XY_AJ5 (=DE5,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2003):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1997    

symbol SET_XY_AJ6 (=DEE,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2009):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2004    

symbol SET_XY_AJ7 (=DF7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2015):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2010    

symbol SFX_ON (=8BF5,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2049):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     199      372      628      673      698    

symbol SHADOWVARS (=8E89,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2130):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     382      396    

symbol SHDFM_E (=8E83,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2119):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     293      712     1311     1319     1450     1452     1573     1575    

symbol SHDPSG_7 (=8BFB,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2058):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     303      368      370     1509     1512     1559     1561    

symbol SHOWINVB (=1CE7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:462):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     637      401        8    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     401        8    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
       8    

symbol SHOWINVD (=1CD8,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:461):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     385      392      394      396      398    

symbol SHOWINVL (=1D15,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:470):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     441    

symbol SHOWP_D1 (=37B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:500):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     450      451      459      462      471      478      480    

symbol SHOWP_D2 (=38A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:501):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     455      456      460      463      475      483      485    

symbol SHOW_DIR (=1BD3,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:286):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     180      188      214      217    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 311 - 8/12/2011 20:51:50


symbol SHOW_INV (=1BD4,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:297):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
      81    

symbol SHOW_IPO (=1C28,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:344):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     354      358    

symbol SHOW_OPC (=5CD,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:944):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     793      946    

symbol SHOW_OPC0 (=5F9,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:969):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     972    

symbol SHOW_OPC01 (=60D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:983):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     941    

symbol SHOW_OPC1 (=613,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:986):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1011    

symbol SHOW_OPCD (=63E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1017):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     917      920      923      926      940      949      952      955    
    958      984      996     1002    

symbol SHOW_PERS (=1AC8,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:129):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     194    

symbol SHOW_PJ4 (=346,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:466):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     493    

symbol SHOW_PJD (=1B0F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:167):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     146      148      150    

symbol SHOW_PJE1 (=1B95,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:249):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     251    

symbol SHOW_PJE2 (=1B93,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:248):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     254    

symbol SHOW_PJEND (=1B8C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:245):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     200    

symbol SHOW_PJI (=1B77,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:228):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     223    

symbol SHOW_PJP (=1BD2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:285):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     179      189      205      212      240    
 AS V1.42 Beta [Bld 28] - source file game.asm - page 312 - 8/12/2011 20:51:50



symbol SHOW_PJS (=1B1E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:175):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      48       19      578    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      19      578    

symbol SHOW_PJS1 (=1B37,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:190):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     241    

symbol SHOW_PJS2 (=1B40,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:195):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     219      229      236      239    

symbol SHOW_PJSC (=1B2A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:183):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     208    

symbol SHOW_PJSC2 (=1B7D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:234):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     226    

symbol SHOW_PJSC3 (=1B83,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:238):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     235    

symbol SILENCEFLAG (=8BF3,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2046):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     131      140      611     1358     1437    

symbol SINCRO (=14A7,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3198):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     196      440      554      614      912      944     1070     1530    
   1673     2638      136      273      843    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     136      273      843    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     843    

symbol SIZEDMA (=2000,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:2):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
      74       83      290      299    

symbol SIZ_BUFFERPAG (=1A4,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:361):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      21       22    

symbol SIZ_EQUPV (=38,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:372):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      31    

symbol SIZ_INDEXMAPA (=96,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:363):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      24    

symbol SIZ_INDEXPERS (=3C,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:362):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      23    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 313 - 8/12/2011 20:51:50


symbol SIZ_INV (=3C,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:371):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      30    

symbol SIZ_OBJV (=6E8,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:370):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      29      417    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     417    

symbol SIZ_PERSOC (=654,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:368):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     445    

symbol SIZ_PERSOM (=A2,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:367):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     445    

symbol SIZ_PROPVEC (=140,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:358):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      28      358    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     358    

symbol SIZ_STR2PLN (=210,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:364):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      20    

symbol SIZ_STRFIGVEC (=E0,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:360):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      25    

symbol SIZ_STRPERVC (=189C,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:357):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      27      611    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     611    

symbol SIZ_STRPERVM (=276,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:359):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      26      611    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     611    

symbol SIZ_VECENL (=258,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:366):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      16      393    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     393    

symbol SIZ_VECTIPOS (=330,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:365):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      19      404    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     404    

symbol SOL_CHGP (=14A8,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3199):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     137      274      839      844    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
 AS V1.42 Beta [Bld 28] - source file game.asm - page 314 - 8/12/2011 20:51:50


     839      844    

symbol SONGACT (=A000,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:4):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
      81       50       57    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/song.asm :
      50       57    

symbol SONGL (=2510,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:94):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
      63    

symbol SONG_ON (=8BF4,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2048):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     378      389      401      679    

symbol SPC_KEY (=40,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:33):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     885      202      580      781      259      109      215    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     202      580      781      259      109      215    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     259      109      215    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     109      215    

symbol SPD_OFF (=35B6,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:556):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1075       25      121    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      25      121    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     121    

symbol SPD_ON (=35DF,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:604):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1390       96    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
      96    

symbol SPRITEATTRIB (=7600,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:11):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     298      432    

symbol SPRITECOLOR (=7400,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:10):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     400    

symbol SPRITEGENERA (=7800,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:12):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     365    

symbol SPRITE_CRUZ (=8,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:22):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1287     1384       93      188      198    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
      93      188      198    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     188      198    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 315 - 8/12/2011 20:51:50


symbol SPRITE_CUAD (=0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:24):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     844     1030     1037     1048    

symbol SPRITE_TBL (=3840,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:1012):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     163      256      301      319      438    

symbol STACK_TOP (=125,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:27):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      10      255    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     255    

symbol STR2PLN_PAT (=2,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:263):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2371     2423    

symbol STR2PLN_VEC (=42D3,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:19):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2341     2419    
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      20     2341     2419    

symbol STR2PLN_X (=0,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:261):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2372     2442    

symbol STR2PLN_Y (=1,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:262):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2374     2446    

symbol STRDEFP_DIR (=5,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:330):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     473    

symbol STRDEFP_TIPO (=0,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:327):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     463    

symbol STRDEFP_X (=1,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:328):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     469      470    

symbol STRDEFP_Y (=3,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:329):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     471      472    

symbol STRENL_ADJ (=9,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:276):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1878    

symbol STRENL_TA_OF (=8,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:275):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1862    

symbol STRENL_VEC (=3C0F,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:15):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1805      372      394    
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
 AS V1.42 Beta [Bld 28] - source file game.asm - page 316 - 8/12/2011 20:51:50


      16     1805      372      394    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     372      394    

symbol STRENL_XD (=4,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:273):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1872     1873    

symbol STRENL_XO (=0,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:271):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1829     1830    

symbol STRENL_YD (=6,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:274):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1874     1875    

symbol STRENL_YO (=2,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:272):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1835     1836    

symbol STREXCP_BUF (=5,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:352):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
      39       75      160      161    

symbol STREXCP_BUFF (=7,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:353):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     163      164    

symbol STREXCP_HAND (=0,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:348):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1316     1317      114      115      154      155    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     114      115      154      155    

symbol STREXCP_MOD (=4,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:351):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
      86      156    

symbol STREXCP_PTR (=2,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:349):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1345       35       71      158    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
      35       71      158    

symbol STREXCP_PTRF (=3,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:350):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     159    

symbol STRFIG_ANIM (=5,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:209):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2506     2542     2544     2620    

symbol STRFIG_BRD (=A,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:214):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2483     2614     2664     2668    

symbol STRFIG_DIRE (=7,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:211):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2498     2540     2541    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 317 - 8/12/2011 20:51:50


symbol STRFIG_OCUP (=8,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:212):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2480     2496     2584     1438    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1438    

symbol STRFIG_PAT (=0,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:204):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2497     2619    

symbol STRFIG_REPT (=6,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:210):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2507     2538     2545    

symbol STRFIG_VECTOR (=48FD,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:24):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1502     2476     2575     2661    
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      25     1502     2476     2575     2661    

symbol STRFIG_WRT (=9,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:213):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2588     2616     2682    

symbol STRFIG_XACT (=3,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:207):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1283     1387     2205     2232     2276     2513     2550     2618    
   2686    

symbol STRFIG_XANT (=1,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:205):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2514     2676     2687    

symbol STRFIG_YACT (=4,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:208):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1285     1388     2152     2178     2296     2512     2549     2594    
   2617     2684    

symbol STRFIG_YANT (=2,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:206):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2511     2674     2685    

symbol STRLEN (=2FD,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:420):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     357    

symbol STRLEN1 (=2FF,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:421):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     426    

symbol STRLEN2 (=308,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:428):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     423    

symbol STRMAP_MAPA (=18,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:309):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     123      259    

symbol STRMAP_PAT0 (=28,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:312):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
 AS V1.42 Beta [Bld 28] - source file game.asm - page 318 - 8/12/2011 20:51:50


     115      251    

symbol STRMAP_PATMAP (=0,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:307):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     120      256    

symbol STRMAP_PROP (=C,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:308):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     200      317    

symbol STRMAP_XDEF (=24,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:310):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     173      331      631    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     631    

symbol STRMAP_YDEF (=26,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:311):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     174      332      632    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     632    

symbol STRNIV_CIUD1 (=C,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:292):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     110    

symbol STRNIV_MAPEX (=0,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:291):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     247    

symbol STROBJ_AT (=2C,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:188):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     383      423    

symbol STROBJ_GRAF (=2B,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:187):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
      43      188    

symbol STROBJ_LG (=31,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:193):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     360      417    

symbol STRPER_DIR (=13,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:237):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     879      881      921      970     1410     1419     1488    

symbol STRPER_FIG (=5,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:227):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1362     1363     1379     1380     2112     2113     2115     2116    
   2124     2125     2126     2127     2271     2272     1402     1403    
   1414     1415     1426     1427     1434     1435     1523     1524    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1402     1403     1414     1415     1426     1427     1434     1435    
   1523     1524    

symbol STRPER_MON (=10,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:235):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      75       76    

symbol STRPER_NIV (=E,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:233):
 AS V1.42 Beta [Bld 28] - source file game.asm - page 319 - 8/12/2011 20:51:50


 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      98    

symbol STRPER_OCUP (=12,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:236):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     867     1083     1526    

symbol STRPER_PAR (=A,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:230):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      81      390      391      432      434    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     390      391      432      434    

symbol STRPER_PAT (=F,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:234):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
    1409    

symbol STRPER_PEX (=C,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:232):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      78       79    

symbol STRPER_PMV (=B,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:231):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      86      394      395      438      440    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     394      395      438      440    

symbol STRPER_PV (=7,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:228):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      95       96     1512      448      451    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     448      451    

symbol STRPER_PVTQ (=9,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:229):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      90      386      387      426      428    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     386      387      426      428    

symbol STRPER_TIPO (=4,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:226):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      66      309     1487    

symbol STRPER_VECCIT (=4C53,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:26):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    3176      186      747    
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      27     3176      186      747    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     186      747    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     747    

symbol STRPER_VECMAP (=49DD,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:25):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      26       53      612      739      454      490    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      53      612      739      454      490    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     612      739      454      490    
 AS V1.42 Beta [Bld 28] - source file game.asm - page 320 - 8/12/2011 20:51:50


 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     454      490    

symbol STRPER_X (=2,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:225):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1365     1366     1907     1908     1928     1929     2136     2137    
    587      803      804      812      922      923      963      964    
   1089     1090     1347     1348     1505     1506    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     587      803      804      812      922      923      963      964    
   1089     1090     1347     1348     1505     1506    

symbol STRPER_Y (=0,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:224):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1367     1368     1909     1910     1930     1931     2144     2145    
    586      805      806      811      924      925      965      966    
   1109     1110     1351     1352     1503     1504    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     586      805      806      811      924      925      965      966    
   1109     1110     1351     1352     1503     1504    

symbol STRTIPE_EQUI (=17,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:254):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     331    

symbol STRTIPE_INV (=16,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:253):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     317     1519    

symbol STRTIPE_NOM (=0,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:244):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     103    

symbol STRTIPE_PATQ (=D,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:246):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      88    

symbol STRTIPE_PMV (=F,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:248):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      84    

symbol STRTIPE_PV (=B,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:245):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      92       93     1516     1519      398      399      445      447    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     398      399      445      447    

symbol STRUCT2PLANE (=3,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:260):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2342     2379     2420    
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc :
     364     2342     2379     2420    

symbol STRUCTDEFPER (=6,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:326):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc :
     367      368      452    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     452    

symbol STRUCTENLACE (=A,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:270):
 AS V1.42 Beta [Bld 28] - source file game.asm - page 321 - 8/12/2011 20:51:50


 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1824    
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc :
     366     1824    

symbol STRUCTESTADO (=E,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:334):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc :
     369    

symbol STRUCTEXCEP (=9,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:347):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1345      131      151      172      182    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm :
     131      151      172      182    

symbol STRUCTFIGURA (=E,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:202):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1395     1501     2262     2479     2575     2576     2660    
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc :
     360     1395     1501     2262     2479     2575     2576     2660    

symbol STRUCTMAPEADO (=B8,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:306):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      17      390    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     390    

symbol STRUCTNIVEL (=84,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:290):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      18      442    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     442    

symbol STRUCTOBJETO (=34,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:185):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc :
     370       39      184      356      413    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
      39      184      356      413    

symbol STRUCTPERSO (=15,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:223):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1357     1394     1933      184      190       29      745      753    
    866     1057     1477      456      487    
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc :
     357      359     1357     1394     1933      184      190       29    
    745      753      866     1057     1477      456      487    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     184      190       29      745      753      866     1057     1477    
    456      487    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      29      745      753      866     1057     1477      456      487    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     456      487    

symbol STRUCTTIPOP (=18,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:243):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc :
     365       68      311     1490    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      68      311     1490    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 322 - 8/12/2011 20:51:50


symbol SWAP_ABA (=9CC,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1586):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1571     1577    

symbol SWAP_ABX (=9DC,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1594):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1589     1591    

symbol SWAP_ARA (=9EC,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1602):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1587     1593    

symbol SWAP_ARX (=9FC,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1610):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1605     1607    

symbol SWAP_CONT (=A4F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1655):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1541     1626     1646     1648     1650     2108      169      306    
    712      937     1000    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     169      306      712      937     1000    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     712      937     1000    

symbol SWAP_DER (=9AC,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1570):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1556     1562    

symbol SWAP_DEX (=9BC,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1578):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1573     1575    

symbol SWAP_FLAG (=A50,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1656):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1546     1566     1582     1598     1614     1617    

symbol SWAP_IZX (=99F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1563):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1558     1560    

symbol SWAP_PAGE (=943,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1518):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1267     1408      184    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     184    

symbol SWAP_PAGEF (=A47,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1648):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1543     1633    

symbol SWAP_PAGENS (=A32,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1638):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1619    

symbol SWAP_PAGE_C (=440,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:601):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     205      211      244    

symbol SWAP_PAGFL (=A09,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1617):
 AS V1.42 Beta [Bld 28] - source file game.asm - page 323 - 8/12/2011 20:51:50


 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1603     1609    

symbol SYSDOS1 (=252D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:114):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     108    

symbol SYSDOS2 (=25AD,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:142):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     111      112    

symbol TABLA_ANIMAE (=1322,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2924):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     232    

symbol TABLA_ANIMC (=130A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2910):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      89    

symbol TABLA_PATC (=12E2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2886):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      87    

symbol TABLA_PATE (=12FA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2900):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     230    

symbol TABLEMINC (=931E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2307):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
      67      165    

symbol TABLE_ADSR (=911C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2209):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    2038    

symbol TABLE_CMD (=802D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:40):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
      21    

symbol TABLE_EFFECT (=917C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2232):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    2040    

symbol TABLE_FMINS (=91FC,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2265):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    2041    

symbol TABLE_NOTE (=8B58,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2020):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     893    

symbol TABLE_OP (=84EC,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:848):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     826    

symbol TABLE_SFX (=931C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2306):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
      61      153    

symbol TABLE_VIB (=914C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2226):
 AS V1.42 Beta [Bld 28] - source file game.asm - page 324 - 8/12/2011 20:51:50


 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    2039    

symbol TAM_FIFO (=20,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:121):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1941      144      281      701      718      723    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     144      281      701      718      723    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     701      718      723    

symbol TAM_FILA_MTEX (=1487,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3173):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2391     3044     3149      381      399    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     381      399    

symbol TBLAN_PTR (=12E0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2883):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2863       90      233    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      90      233    

symbol TBLCP_PTR (=12DE,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2882):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2856       88      231      513    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      88      231      513    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     513    

symbol TBLPARADDRESS (=8700,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1217):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1209    

symbol TBLPLAYSFX (=8A41,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1812):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1803    

symbol TESTCOM (=3601,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:641):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     665    

symbol TEST_FUNC (=2C8A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:197):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      46      886       17      198      203      576      581      782    
    102      110      216    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      17      198      203      576      581      782      102      110    
    216    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     102      110      216    

symbol TIMEFADE (=3,/home/k0ga/msx/proyec/rpg/shike/actual/inc/game.inc:95):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1881      206      323      836        6       54     1070    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     206      323      836        6       54     1070    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     836        6       54     1070    
 AS V1.42 Beta [Bld 28] - source file game.asm - page 325 - 8/12/2011 20:51:50


 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm :
       6       54     1070    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
    1070    

symbol TIMELASTCHN (=8BF1,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:2043):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     286      627      642      676      689      695      727    

symbol TIME_ (=2B56,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:586):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     616      878      880     1528      831      832      832      836    
   1052     1071    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     831      832      832      836     1052     1071    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     832      836     1052     1071    

symbol TIPOS_VEC (=3FA3,/home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc:18):
 file /home/k0ga/msx/proyec/rpg/shike/actual/inc/data.inc :
      19       70      313     1489      405    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      70      313     1489      405    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     405    

symbol TJMPINITEFFECT (=89AF,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1718):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1710    

symbol TLAST_FM (=816D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:280):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
      76       82      237      256    

symbol TMESG (=3017,/home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm:60):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm :
      12    

symbol TMSX (=8274,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:446):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     224      442    

symbol TURNO_PJ1 (=19A0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:16):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      25    

symbol TURNO_PJ2 (=199D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:15):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      36    

symbol TURNO_PJC (=19CC,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:40):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      13       34    

symbol TURNO_PJS (=198D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:6):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      61       37    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      37    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 326 - 8/12/2011 20:51:50


symbol UP_CORTINA (=678,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1070):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     212      468      994     1072    

symbol UP_CORTINA1 (=69E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1091):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1160     1165    

symbol UP_CORTINA2 (=6D1,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1127):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1093    

symbol UP_CORTINAD1 (=711,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1178):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1079     1081     1083     1095     1104     1105     1107     1109    
   1119     1121    

symbol UP_CORTINAD2 (=720,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1183):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1082     1084     1088     1131     1139     1140     1142     1144    
   1154     1156    

symbol UP_CORTINAI1 (=70F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1173):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1096     1117    

symbol UP_CORTINAI2 (=710,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1174):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1132     1152    

symbol UP_CORTINA_AB (=6AD,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1102):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1115    

symbol UP_CORTINA_E (=706,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1162):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1129    

symbol UP_CORTINA_UP (=6E0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1137):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1150    

symbol UP_CORT_ALT1 (=70B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1169):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     209      445      976      988     1100    

symbol UP_CORT_ALT2 (=70C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1170):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     211      446      936      990     1135    

symbol UP_CORT_INI1 (=70D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1171):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     203      448      488      961     1005     1078    

symbol UP_CORT_INI2 (=70E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1172):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     205      453      490      929     1087    

symbol UP_EXCP (=2C74,/home/k0ga/msx/proyec/rpg/shike/actual/asm/control.asm:171):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
 AS V1.42 Beta [Bld 28] - source file game.asm - page 327 - 8/12/2011 20:51:50


    1295     1308      840      123    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     840      123    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm :
     123    

symbol VECTOR_INT (=2B51,/home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm:585):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     555      573    

symbol VER_PAGE (=3621,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:678):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     204      321      823    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     823    

symbol VIEW_P1 (=1F4E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:859):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     856    

symbol VIEW_P2 (=1F5A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:867):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     883    

symbol VIEW_P3 (=1F73,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:882):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     869    

symbol VIEW_PERSO (=1F43,/home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm:853):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1269     1405      267    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     267    

symbol VIS_OFF (=35A5,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:540):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      19       76      220    

symbol VIS_ON (=3594,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:523):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      37      208      325    

symbol VOLFM_HH (=87E5,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1394):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1381    

symbol VOLFM_MEL (=87FD,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1415):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1378     1380    

symbol VOLFM_WR (=87F0,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1403):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1391    

symbol VOLSFX_FM (=8AE9,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1906):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1900    

symbol VOLSFX_W (=8AEB,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1909):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
 AS V1.42 Beta [Bld 28] - source file game.asm - page 328 - 8/12/2011 20:51:50


    1903    

symbol WAITKB (=8C3,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:1413):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1420    

symbol WAIT_COM (=361B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm:665):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
      97      470      474      543      546      571      997     1110    
   1145     1461     1518     1707     2451     2877     3035     3132    
     26      130      149      256      383      397      530      546    
    357       62       37      112      494      666    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
      26      130      149      256      383      397      530      546    
    357       62       37      112      494      666    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     130      149      256      383      397      530      546      357    
     62       37      112      494      666    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/sys.asm :
     357       62       37      112      494      666    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
      62       37      112      494      666    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/demo.asm :
      37      112      494      666    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/video.asm :
     112      494      666    

symbol WFMINST1 (=85FF,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1035):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1041    

symbol WFMINST2 (=8609,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1043):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1017    

symbol WFM_VOL (=8808,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1425):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1412    

symbol WFRCPSG_NOISE (=895D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1658):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1649    

symbol WFRECFM (=8938,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1632):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1623    

symbol WFRECPSG (=8930,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1626):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1621    

symbol WRITEADSRVOL (=8481,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:782):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     754      757      764      772    

symbol WRITEFM (=8139,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:222):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     424     1038     1186     1313     1321     1406     1426     1454    
   1462     1470     1577     1591     1683     1690    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 329 - 8/12/2011 20:51:50


symbol WRITEFM1 (=814F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:240):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     244    

symbol WRITEFM2 (=815C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:250):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     254    

symbol WRITEFMINST (=85F2,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1025):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     403    

symbol WRITEFMT (=8149,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:235):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     226    

symbol WRITEFREC (=8923,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1617):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     803      928    

symbol WRITEFRECFM (=8965,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1667):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1643    

symbol WRITEFRECPAR (=8940,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1639):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1634     1939    

symbol WRITEFRECPSG1 (=8960,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1662):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1655    

symbol WRITEPNA0 (=1123,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2575):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2622    

symbol WRITEPNA1 (=1136,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2584):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2605    

symbol WRITEPNA2 (=115A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2604):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2586     2590     2596    

symbol WRITEPNA3 (=1184,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2623):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2610    

symbol WRITEPSG (=812B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:204):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     304      406      408      410     1372     1514     1563     1652    
   1663    

symbol WRITEVOL (=8789,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1329):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
     776      786      930     1910    

symbol WRITEVOLEND (=880B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1428):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1360     1367     1373    
 AS V1.42 Beta [Bld 28] - source file game.asm - page 330 - 8/12/2011 20:51:50



symbol WRITE_0 (=1121,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2574):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2566    

symbol WRITE_CONT (=14AD,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:3202):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     968     1261     1624     2568     2572     2656      340       10    
    176      264    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/init.asm :
     340       10      176      264    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
      10      176      264    

symbol WRITE_PNA (=1111,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2564):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    1278     1407      269    
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/pers.asm :
     269    

symbol WRITE_PNA_C (=399,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:518):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/obj.asm :
     204      210    

symbol WRTFRECEND (=898E,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1692):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1647     1664    

symbol WRTFRECFM_W (=897A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1679):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1669     1671     1676    

symbol WRT_PA_ENC (=118B,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2629):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2578     2600     2608    

symbol WRT_PA_MAY (=118A,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2628):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2580     2592     2598    

symbol WRT_PA_PTR (=1188,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:2627):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
    2603     2612    

symbol WVOLCHIP (=87AD,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1357):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1336    

symbol WVOLFM (=87CB,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1376):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1363    

symbol WVOLPSG (=87A4,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1347):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1339    

symbol WVOLPSG1 (=87AC,/home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm:1354):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/mcdrv.asm :
    1342     1344     1351    

 AS V1.42 Beta [Bld 28] - source file game.asm - page 331 - 8/12/2011 20:51:50


symbol XMOVE1 (=4F9,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:755):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     751    

symbol XMOVE2 (=4FF,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:761):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     753      757    

symbol XMOVE3 (=507,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:768):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     763    

symbol XMOVE4 (=50D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm:774):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/game.asm :
     747      765      770    

symbol __BACK0 (=3A6D,/home/k0ga/msx/proyec/rpg/shike/actual/asm/song.asm:34):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/song.asm :
      35    

symbol __FORW0 (=18FA,/home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm:40):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm :
      33    

symbol __FORW1 (=1900,/home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm:45):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm :
      41    

symbol __FORW2 (=190C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm:53):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm :
      46    

symbol __FORW3 (=191F,/home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm:67):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm :
      62    

symbol __FORW4 (=1926,/home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm:73):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm :
      68    

symbol __FORW5 (=1942,/home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm:98):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm :
      83    

symbol __FORW6 (=1957,/home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm:111):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm :
      99    

symbol __FORW7 (=1961,/home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm:116):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm :
     112    

symbol __FORW8 (=196C,/home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm:122):
 file /home/k0ga/msx/proyec/rpg/shike/actual/asm/openmsx.asm :
     117    



0.36 seconds assembly time

 AS V1.42 Beta [Bld 28] - source file game.asm - page 332 - 8/12/2011 20:51:50


  11068 lines source file
  13094 lines incl. macro expansions
      2 passes
      0 errors
      2 warnings
